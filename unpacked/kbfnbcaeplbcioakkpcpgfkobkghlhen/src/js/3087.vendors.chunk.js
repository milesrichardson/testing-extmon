/*! For license information please see 3087.vendors.chunk.js.LICENSE.txt */
(self.webpackChunk = self.webpackChunk || []).push([
  [3087],
  {
    46560: (e, t, n) => {
      n.d(t, { B: () => r });
      var i = n(27378);
      const r = ({ title: e, titleId: t, desc: n, descId: r, ...o }) =>
        i.createElement(
          "svg",
          {
            width: 24,
            height: 24,
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg",
            "aria-hidden": "true",
            stroke: "transparent",
            "aria-labelledby": t,
            "aria-describedby": r,
            ...o
          },
          n ? i.createElement("desc", { id: r }, n) : null,
          e ? i.createElement("title", { id: t }, e) : null,
          i.createElement("path", {
            fillRule: "evenodd",
            clipRule: "evenodd",
            d: "M7.646 7.646a.5.5 0 0 1 .708 0L12 11.293l3.646-3.647a.5.5 0 0 1 .708.708L12.707 12l3.647 3.646a.5.5 0 0 1-.708.708L12 12.707l-3.646 3.647a.5.5 0 0 1-.708-.708L11.293 12 7.646 8.354a.5.5 0 0 1 0-.708Z",
            fill: "#646B81"
          })
        );
      r.__brand = "color";
    },
    23871: (e, t, n) => {
      n.d(t, { c: () => r });
      var i = n(27378);
      const r = ({ title: e, titleId: t, desc: n, descId: r, ...o }) =>
        i.createElement(
          "svg",
          {
            width: 16,
            height: 16,
            viewBox: "0 0 16 16",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg",
            "aria-hidden": "true",
            stroke: "transparent",
            "aria-labelledby": t,
            "aria-describedby": r,
            ...o
          },
          n ? i.createElement("desc", { id: r }, n) : null,
          e ? i.createElement("title", { id: t }, e) : null,
          i.createElement("path", {
            d: "M7.053 10.842v1.908c0 .69.56 1.25 1.25 1.25h4.447c.69 0 1.25-.56 1.25-1.25V8.303c0-.69-.56-1.25-1.25-1.25h-1.908M8.947 3.25v4.447c0 .69-.56 1.25-1.25 1.25H3.25c-.69 0-1.25-.56-1.25-1.25V3.25C2 2.56 2.56 2 3.25 2h4.447c.69 0 1.25.56 1.25 1.25Z",
            stroke: "#646B81",
            strokeLinecap: "round",
            strokeLinejoin: "round"
          })
        );
      r.__brand = "color";
    },
    17579: (e, t, n) => {
      n.d(t, { N: () => r });
      var i = n(27378);
      const r = ({ title: e, titleId: t, desc: n, descId: r, ...o }) =>
        i.createElement(
          "svg",
          {
            width: 16,
            height: 16,
            viewBox: "0 0 16 16",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg",
            "aria-hidden": "true",
            stroke: "transparent",
            "aria-labelledby": t,
            "aria-describedby": r,
            ...o
          },
          n ? i.createElement("desc", { id: r }, n) : null,
          e ? i.createElement("title", { id: t }, e) : null,
          i.createElement("path", {
            d: "M5.727 6.615H3V14h10V6.615h-2.727m-4.546 0V4.273a2.273 2.273 0 1 1 4.545 0v2.342m-4.545 0h4.546",
            stroke: "#646B81",
            strokeLinejoin: "round"
          })
        );
      r.__brand = "color";
    },
    93986: (e, t, n) => {
      n.d(t, { z: () => f });
      var i = n(27378),
        r = n(64757),
        o = n(1509),
        a = n(76974),
        s = n(2844),
        l = n(77176),
        c = n(54001),
        u = n(44361),
        d = n(33498),
        m = n(45174),
        p = n(95835),
        h = function (e, t) {
          var n = {};
          for (var i in e) Object.prototype.hasOwnProperty.call(e, i) && t.indexOf(i) < 0 && (n[i] = e[i]);
          if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
            var r = 0;
            for (i = Object.getOwnPropertySymbols(e); r < i.length; r++)
              t.indexOf(i[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, i[r]) && (n[i[r]] = e[i[r]]);
          }
          return n;
        };
      const f = (e) => {
        var {
            className: t,
            compact: n = !1,
            theme: f = "light",
            variant: g = "primary",
            size: v = a.of("large"),
            style: x = a.of(void 0),
            flatUI: y,
            children: b,
            onClick: k
          } = e,
          w = h(e, ["className", "compact", "theme", "variant", "size", "style", "flatUI", "children", "onClick"]);
        const C = i.useContext(m.N).view("flatUI");
        return i.createElement(
          r.zx.Animated,
          Object.assign(
            {},
            (0, c.Sh)(
              s
                .aj([C, (0, d.D)(x), (0, d.D)(v)])
                .pipe(l.U(([e, t, i]) => (0, p.P_)({ flatUI: null != y ? y : e, compact: n, theme: f, size: i, style: t, variant: g }))),
              t
            ),
            w,
            { styleType: o.Z.Type.Button, onClick: (0, u.m)(k) }
          ),
          b
        );
      };
    },
    95835: (e, t, n) => {
      n.d(t, { Ih: () => m, P_: () => h, Rv: () => d });
      var i = n(9546),
        r = n(88392),
        o = n(13578),
        a = n(62172),
        s = n(89894),
        l = n(79378),
        c = function (e, t) {
          var n = {};
          for (var i in e) Object.prototype.hasOwnProperty.call(e, i) && t.indexOf(i) < 0 && (n[i] = e[i]);
          if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
            var r = 0;
            for (i = Object.getOwnPropertySymbols(e); r < i.length; r++)
              t.indexOf(i[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, i[r]) && (n[i[r]] = e[i[r]]);
          }
          return n;
        };
      function u(e) {
        var t, n;
        const i = null !== (t = e.default) && void 0 !== t ? t : {},
          { $nest: r } = i,
          o = c(i, ["$nest"]);
        return Object.assign(Object.assign({}, o), {
          $nest: Object.assign(
            {
              "&:not([data-disabled='true'])[data-hovered='true']": Object.assign({}, e.hovered),
              "&:not([data-disabled='true']):hover": Object.assign({}, e.hovered),
              "&[data-disabled='true']": Object.assign({}, e.disabled),
              "&:not([data-disabled='true']):active": Object.assign({}, e.active),
              "&[data-active='true']": Object.assign({}, null !== (n = e.selected) && void 0 !== n ? n : e.active),
              "&[hidden]": Object.assign({}, e.hidden),
              "& > i": Object.assign({}, e.icon),
              "&[data-textpos='left']": Object.assign({}, e.textPosLeft),
              "&[data-textpos='right']": Object.assign({}, e.textPosRight),
              "&[data-textpos='everywhere']": Object.assign({}, e.textPosEverywhere)
            },
            r
          )
        });
      }
      function d(e) {
        return {
          '&:focus:not(:active):not([data-active="true"])': { boxShadow: e, zIndex: 1 },
          '&:focus:not(:active):not(:focus-visible):not([data-active="true"])': { boxShadow: "none" },
          "&:focus-visible": { boxShadow: e, zIndex: 1 }
        };
      }
      const m = (e) => `0 0 0 2px ${o.Il.Text.Base.Inverse}, 0 0 0 4px ${e}`;
      const p = {
        primaryLightLegacy: {
          fontWeight: "bold",
          backgroundDefault: l.Z.BrandGreen60,
          colorDefault: o.Il.Text.Base.Inverse,
          backgroundHover: l.Z.BrandGreen80,
          colorHover: o.Il.Text.Base.Inverse,
          backgroundActive: l.Z.BrandGreen60,
          colorActive: o.Il.Background.Base.Default,
          focusOutline: l.Z.BrandGreen60
        },
        primaryDarkLegacy: void 0,
        primaryLight: {
          fontWeight: "bold",
          backgroundDefault: l.Z.BackgroundBrandDefault,
          colorDefault: o.Il.Text.Base.Inverse,
          backgroundHover: l.Z.BackgroundBrandHover,
          colorHover: o.Il.Text.Base.Inverse,
          backgroundActive: l.Z.BackgroundBrandActive,
          colorActive: o.Il.Background.Base.Default,
          focusOutline: l.Z.BorderBrandDefault
        },
        primaryDark: void 0,
        secondaryLightLegacy: {
          backgroundDefault: "transparent",
          colorDefault: a.BlueGray80,
          borderDefault: a.BlueGray5,
          backgroundHover: a.BlueGray0,
          colorHover: a.BlueGray80,
          borderHover: void 0,
          backgroundActive: void 0,
          colorActive: void 0,
          borderActive: void 0,
          focusOutline: l.Z.BlueGray80
        },
        secondaryDarkLegacy: void 0,
        secondaryLight: {
          backgroundDefault: "transparent",
          colorDefault: l.Z.ButtonTextSecondaryDefault,
          borderDefault: l.Z.BorderBrandDefault,
          backgroundHover: l.Z.ButtonBackgroundSecondaryHover,
          colorHover: l.Z.ButtonTextSecondaryHover,
          borderHover: l.Z.BorderBrandDefault,
          backgroundActive: l.Z.ButtonBackgroundSecondaryActive,
          colorActive: l.Z.ButtonTextSecondaryActive,
          borderActive: l.Z.BorderBrandDefault,
          focusOutline: l.Z.BorderBrandDefault
        },
        secondaryDark: void 0,
        tertiaryLightLegacy: {
          backgroundDefault: "transparent",
          colorDefault: o.Il.Background.Neutral.Default,
          borderDefault: "transparent",
          backgroundHover: a.BlueGray0,
          colorHover: o.Il.Text.Base.Subdued,
          borderHover: void 0,
          backgroundActive: a.BlueGray0,
          colorActive: o.Il.Text.Base.Subdued,
          borderActive: void 0,
          focusOutline: l.Z.BlueGray80
        },
        tertiaryDarkLegacy: {
          backgroundDefault: "transparent",
          colorDefault: l.Z.ButtonTextTertiaryDefaultInverse,
          borderDefault: "transparent",
          backgroundHover: l.Z.ButtonBackgroundTertiaryHoverInverse,
          colorHover: l.Z.ButtonTextTertiaryHoverInverse,
          borderHover: l.Z.ButtonBorderTertiaryHoverInverse,
          backgroundActive: l.Z.ButtonBackgroundTertiaryActiveInverse,
          colorActive: l.Z.ButtonTextTertiaryActiveInverse,
          borderActive: l.Z.ButtonBorderTertiaryActiveInverse,
          focusOutline: l.Z.BorderBrandDefault
        },
        tertiaryLight: {
          backgroundDefault: "transparent",
          colorDefault: l.Z.ButtonTextTertiaryDefault,
          borderDefault: "transparent",
          backgroundHover: l.Z.ButtonBackgroundTertiaryHover,
          colorHover: l.Z.ButtonTextTertiaryHover,
          borderHover: l.Z.ButtonBorderTertiaryHover,
          backgroundActive: l.Z.ButtonBackgroundTertiaryActive,
          colorActive: l.Z.ButtonTextTertiaryActive,
          borderActive: l.Z.ButtonBorderTertiaryActive,
          focusOutline: l.Z.BorderBrandDefault
        },
        tertiaryDark: {
          backgroundDefault: "transparent",
          colorDefault: l.Z.ButtonTextTertiaryDefaultInverse,
          borderDefault: "transparent",
          backgroundHover: l.Z.ButtonBackgroundTertiaryHoverInverse,
          colorHover: l.Z.ButtonTextTertiaryHoverInverse,
          borderHover: l.Z.ButtonBorderTertiaryHoverInverse,
          backgroundActive: l.Z.ButtonBackgroundTertiaryActiveInverse,
          colorActive: l.Z.ButtonTextTertiaryActiveInverse,
          borderActive: l.Z.ButtonBorderTertiaryActiveInverse,
          focusOutline: l.Z.BorderBrandDefault
        }
      };
      function h(e) {
        var t, n;
        const o = p[`${e.variant}${"dark" === e.theme ? "Dark" : "Light"}${e.flatUI ? "" : "Legacy"}`];
        return s.ux.style(
          (function (e, t, n) {
            const o = "small" === e ? 1.5 : "medium" === e ? 1.75 : 2,
              a = t ? 0 : s.ux.rem(i.x);
            return u({
              default: {
                borderRadius: s.ux.rem(r.xB),
                display: "inline-flex",
                alignItems: "center",
                justifyContent: "center",
                boxSizing: "border-box",
                transform: "scale(1)",
                overflow: "hidden",
                padding: 0,
                outline: "none",
                border: 0,
                backgroundColor: "transparent",
                verticalAlign: "middle",
                whiteSpace: "nowrap",
                cursor: "default",
                userSelect: "none",
                fontWeight: "normal",
                fontSize: n ? void 0 : s.ux.rem(0.75),
                minWidth: s.ux.rem(o),
                minHeight: s.ux.rem(o),
                lineHeight: s.ux.rem(o)
              },
              icon: { minWidth: s.ux.rem(o), minHeight: s.ux.rem(o), lineHeight: s.ux.rem(o) },
              hovered: { cursor: "pointer" },
              disabled: {
                opacity: 0.4,
                cursor: "not-allowed",
                $nest: { '& > i[data-disabled="true"]': { fill: "inherit", stroke: "inherit" } }
              },
              hidden: { display: "none" },
              textPosLeft: { padding: `0 0 0 ${a}` },
              textPosRight: { padding: `0 ${a} 0 0` },
              textPosEverywhere: { padding: `0 ${a} 0 ${a}` }
            });
          })(null !== (t = e.size) && void 0 !== t ? t : "large", null !== (n = e.compact) && void 0 !== n && n, e.flatUI),
          o
            ? (function (e, t) {
                const n = (e) => (void 0 !== e && "transparent" !== e ? `inset 0 0 0 1px ${e}` : void 0),
                  i = (n) => {
                    const i = t ? `0 0 0 2px ${e.focusOutline}` : m(e.focusOutline);
                    return d(n ? `${n}, ${i}` : i);
                  },
                  r = n(e.borderDefault),
                  o = n(e.borderHover),
                  a = n(e.borderActive);
                return u({
                  default: {
                    fontWeight: e.fontWeight,
                    color: e.colorDefault,
                    backgroundColor: e.backgroundDefault,
                    boxShadow: r,
                    $nest: i(r)
                  },
                  hovered: { color: e.colorHover, backgroundColor: e.backgroundHover, boxShadow: o, $nest: i(o) },
                  active: { color: e.colorActive, backgroundColor: e.backgroundActive, boxShadow: a, $nest: i(a) },
                  icon: {
                    stroke: s.ux.important(e.colorDefault),
                    fill: s.ux.important(e.colorDefault),
                    $nest: { '&[data-hovered="true"]': { stroke: s.ux.important(e.colorHover), fill: s.ux.important(e.colorHover) } }
                  }
                });
              })(o, "dark" === e.theme)
            : void 0,
          ...Array.from([])
            .concat(e.style)
            .map((e) => u(null != e ? e : {}))
        );
      }
    },
    45578: (e, t, n) => {
      n.d(t, { x: () => f });
      var i = n(27378),
        r = n(13578),
        o = n(62172),
        a = n(31278),
        s = n(89894),
        l = n(94689),
        c = n(45174),
        u = n(93986);
      const d = "closeBtn",
        m = "closeIcon",
        p = (0, l.dD)(
          { $nest: { [`& .${m}`]: Object.assign(Object.assign({}, (0, l.fx)(1.5)), { stroke: s.ux.important(r.Il.Text.Base.Inverse) }) } },
          d
        ),
        h = { closeButton: s.ux.joinClasses([d, s.ux.style(p)]), closeIcon: m },
        f = ({ name: e, style: t, onClick: n }) => {
          const r = i.useContext(c.N).view("flatUI");
          return i.createElement(
            u.z,
            {
              variant: "tertiary",
              style: r.view((e) => [e ? void 0 : x, t]),
              onClick: n,
              compact: !0,
              size: "small",
              theme: "dark",
              name: e
            },
            i.createElement(a.JO.Close, { className: h.closeIcon })
          );
        },
        g = { stroke: s.ux.important(r.Il.Text.Base.Inverse), fill: s.ux.important(r.Il.Text.Base.Inverse) },
        v = { backgroundColor: s.ux.color(o.BlueGray0).toRGBA().fade(0.2).toString(), borderColor: "transparent", $nest: { "& > i": g } },
        x = { icon: Object.assign(Object.assign({}, (0, l.fx)(1.5)), g), hovered: v, active: v };
    },
    31956: (e, t, n) => {
      n.d(t, { d: () => a });
      var i = n(27378),
        r = n(18208),
        o = function (e, t) {
          var n = {};
          for (var i in e) Object.prototype.hasOwnProperty.call(e, i) && t.indexOf(i) < 0 && (n[i] = e[i]);
          if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
            var r = 0;
            for (i = Object.getOwnPropertySymbols(e); r < i.length; r++)
              t.indexOf(i[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, i[r]) && (n[i[r]] = e[i[r]]);
          }
          return n;
        };
      const a = i.forwardRef(function (e, t) {
        var { children: n, rel: a } = e,
          s = o(e, ["children", "rel"]);
        const l = i.useMemo(() => r.fg(10), []);
        return i.createElement(
          i.Fragment,
          null,
          i.createElement("span", { hidden: !0, id: l }, "Opens an external site in a new window"),
          i.createElement(
            "a",
            Object.assign({}, s, { "aria-describedby": l, target: "_blank", rel: null != a ? a : "noopener noreferrer", ref: t }),
            n
          )
        );
      });
    },
    27995: (e, t, n) => {
      n.d(t, { J: () => p });
      var i = n(27378),
        r = n(37869),
        o = n(62172),
        a = n(9546),
        s = n(13578),
        l = n(89894),
        c = n(76974),
        u = n(77176),
        d = n(8543),
        m = n(40);
      const p = ({ reference: e, children: t, placement: n, offset: a, theme: s = c.of({}), boundaryAreaPadding: p }) => {
          var h, g;
          const [v, x] = i.useState(null),
            [y, b] = i.useState(null),
            k = (0, m.s)(),
            {
              styles: w,
              attributes: C,
              state: S
            } = (0, r.D)(e, v, {
              placement: null != n ? n : "top",
              modifiers: [
                { name: "offset", options: { offset: [0, 12 + (null != a ? a : 0)] } },
                { name: "arrow", options: { element: y, padding: 12 } },
                { name: "preventOverflow", options: { padding: null != p ? p : 5 } },
                k
              ]
            });
          return e
            ? i.createElement(
                d.F.div,
                Object.assign({ mount: x, style: w.popper }, C.popper, { className: s.pipe(u.U(f)) }),
                i.createElement(d.F.div, {
                  mount: b,
                  style: w.arrow,
                  className: s.pipe(
                    u.U((e) =>
                      (function (e = o.BlueGray100, t = l.ux.rem(0.5), n = l.ux.rem(-0.5)) {
                        return l.ux.style({
                          $nest: {
                            "&[data-placement='bottom']": {
                              top: n,
                              borderLeft: `${t} solid transparent`,
                              borderRight: `${t} solid transparent`,
                              borderBottom: `${t} solid ${e}`
                            },
                            "&[data-placement='top']": {
                              bottom: n,
                              borderLeft: `${t} solid transparent`,
                              borderRight: `${t} solid transparent`,
                              borderTop: `${t} solid ${e}`
                            },
                            "&[data-placement='right']": {
                              left: n,
                              borderTop: `${t} solid transparent`,
                              borderBottom: `${t} solid transparent`,
                              borderRight: `${t} solid ${e}`
                            },
                            "&[data-placement='left']": {
                              right: n,
                              borderTop: `${t} solid transparent`,
                              borderBottom: `${t} solid transparent`,
                              borderLeft: `${t} solid ${e}`
                            }
                          }
                        });
                      })(null == e ? void 0 : e.bgColor)
                    )
                  ),
                  "data-placement": (null === (h = null == S ? void 0 : S.placement) || void 0 === h ? void 0 : h.startsWith("bottom"))
                    ? "bottom"
                    : (null == S ? void 0 : S.placement.startsWith("top"))
                    ? "top"
                    : (null == S ? void 0 : S.placement.startsWith("right"))
                    ? "right"
                    : (null === (g = null == S ? void 0 : S.placement) || void 0 === g ? void 0 : g.startsWith("left"))
                    ? "left"
                    : void 0
                }),
                t
              )
            : null;
        },
        h = l.ux.keyframes({ from: { opacity: 0 }, to: { opacity: 1 } });
      function f(e) {
        var t, n, i;
        return l.ux.style({
          animation: `${h} linear 0.1s`,
          background: null !== (t = null == e ? void 0 : e.bgColor) && void 0 !== t ? t : o.BlueGray100,
          borderRadius: l.ux.rem(a.x),
          width: null == e ? void 0 : e.width,
          color: null !== (n = null == e ? void 0 : e.fgColor) && void 0 !== n ? n : s.Il.Text.Base.Inverse,
          padding: null !== (i = null == e ? void 0 : e.padding) && void 0 !== i ? i : l.ux.rem(a.mh),
          fontSize: l.ux.rem(0.875),
          lineHeight: l.ux.rem(1.375),
          display: "flex",
          flexDirection: "column",
          gap: l.ux.rem(a.yC),
          $nest: { "&[data-popper-reference-hidden='true']": { visibility: "hidden" } }
        });
      }
    },
    40: (e, t, n) => {
      n.d(t, { s: () => r });
      var i = n(27378);
      const r = function () {
        return i.useMemo(
          () => ({
            name: "forcePopperUpdateEffect",
            phase: "afterMain",
            enabled: !0,
            fn: () => {},
            effect: ({ instance: e }) => {
              const t = setTimeout(() => e.forceUpdate(), 0);
              return () => clearTimeout(t);
            }
          }),
          []
        );
      };
    },
    24435: (e, t, n) => {
      n.d(t, { F: () => l });
      var i = n(27378),
        r = n(90845),
        o = n(80544),
        a = n(79692),
        s = n(60797);
      function l(e) {
        const { ref: t, onMount: n } = r.P.useElWatcher(),
          l = i.useMemo(() => t.pipe(o.QV(a.E), s.oA, e), [t]);
        return r.P.useSubscriptionTo(l), { ref: t, onMount: n };
      }
    },
    25530: (e, t, n) => {
      n.d(t, { aU: () => h, pY: () => m, Xy: () => p });
      var i = n(31699),
        r = n(73975),
        o = n(45701),
        a = n(17889),
        s = n(57050),
        l = n(22232),
        c = n(8125),
        u = n(5114),
        d = n(87683);
      var m,
        p,
        h,
        f = n(69693);
      !(function (e) {
        let t, n, i;
        !(function (e) {
          e.create = function (e) {
            return e;
          };
        })((t = e.Id || (e.Id = {}))),
          (function (e) {
            e.create = function (e, t) {
              return { id: e, kind: "string", value: t };
            };
          })((n = e.StringValue || (e.StringValue = {}))),
          (function (e) {
            e.create = function (e, t) {
              return { id: e, kind: "radio", value: t };
            };
          })((i = e.RadioValue || (e.RadioValue = {})));
      })(m || (m = {})),
        (function (e) {
          e.match = (e) => (t) => {
            const n = t.kind;
            return "string" === n ? e.string(t) : "radio" === n ? e.radio(t) : void (0, l.L0)(n);
          };
        })(p || (p = {})),
        (function (e) {
          function t(e) {
            return "followUpQuestion" === e.kind;
          }
          function n(e) {
            return "quickAction" === e.kind;
          }
          let l, p, h, g, v, x, y;
          (e.isFollowUpQuestionActionValue = t),
            (e.isQuickActionValue = n),
            (e.isListableActionValue = (0, c.Kg)(t, n)),
            (e.isUserPromptActionValue = function (e) {
              return "userPrompt" === e.kind;
            }),
            (e.isQuickRewriteActionValue = function (e) {
              return "quickRewrite" === e.kind;
            }),
            (e.isFollowUpQuestionActionInput = function (e) {
              return "followUpQuestion" === e.kind;
            }),
            (e.isQuickActionInput = function (e) {
              return "quickAction" === e.kind;
            }),
            (e.isSkillAction = function (e) {
              return "skillAction" === e.kind;
            }),
            (e.isToneAction = function (e) {
              return "toneAction" === e.kind;
            }),
            (e.createFollowUpQuestionActionInputOrQuickActionInput = function (t, n, r, o, l) {
              var c;
              const g = Array.from(new Set(n.map((e) => e.group).filter((0, s.ff)(h.isPinned)))).findIndex((e) => t.group === e),
                v = h.isPinned(t.group) ? p.knownStores.pinned : p.knownStores.ideas,
                x = {
                  id: e.Id.create(t.id),
                  contextId: l,
                  iconUrl: t.iconUrl,
                  store: {
                    id: v,
                    label: h.isPinned(t.group)
                      ? ""
                      : f.w.isQuickReply(r)
                      ? "Ways to reply"
                      : u.isSome(o)
                      ? `Work with: ${o.value}`
                      : "Ideas for you",
                    view: h.isPinned(t.group) ? e.Store.View.pinned : e.Store.View.normal,
                    rank: null !== (c = p.ranks[v]) && void 0 !== c ? c : Number.MAX_SAFE_INTEGER,
                    maxCountBeforeClipping: f.w.isQuickReply(r) ? u.none : u.some(3)
                  },
                  group: { id: h.Id.create(t.group), label: t.group, rank: g > -1 ? g : Number.MAX_SAFE_INTEGER },
                  label: (0, i.sanitize)(t.label, { ALLOWED_TAGS: d.ap }),
                  searchLabel: (0, i.sanitize)(t.label, { ALLOWED_TAGS: [] }),
                  searchTags: t.searchTags,
                  generatesTextType: u.fromNullable(t.generatesTextType),
                  disabled: void 0 !== t.disabled,
                  notificationOnAttempt: (0, s.zG)(
                    u.fromNullable(t.disabled),
                    u.chain(({ onActionNotification: e }) => u.fromNullable(e)),
                    u.map(({ text: e }) => e)
                  )
                };
              if (1 === t.args.length) {
                const e = t.args[0],
                  n = {
                    id: m.Id.create(e.name),
                    label: e.label,
                    hints: (0, s.zG)(
                      u.fromNullable(e.hint),
                      u.map((e) => ({ header: e.header, items: e.text }))
                    )
                  };
                return "string" === e.valueType
                  ? u.some(
                      Object.assign(Object.assign({}, x), {
                        kind: "followUpQuestion",
                        args: [Object.assign(Object.assign({}, n), { kind: "string" })],
                        generatesTextType: u.fromNullable(t.generatesTextType)
                      })
                    )
                  : "radioButtonGroup" === e.valueType
                  ? (0, s.zG)(
                      e.radioButtonGroupValues,
                      a.nI,
                      u.map((e) =>
                        Object.assign(Object.assign({}, x), {
                          kind: "followUpQuestion",
                          args: [Object.assign(Object.assign({}, n), { kind: "radio", radioOptions: e })],
                          generatesTextType: u.fromNullable(t.generatesTextType)
                        })
                      )
                    )
                  : u.none;
              }
              return 0 === t.args.length ? u.some(Object.assign(Object.assign({}, x), { kind: "quickAction", args: [] })) : u.none;
            }),
            (function (e) {
              (e.create = function (e) {
                return e;
              }),
                (e.eq = r.yv);
            })((l = e.Id || (e.Id = {}))),
            (function (e) {
              let t, n;
              !(function (e) {
                e.eq = r.yv;
              })((t = e.Id || (e.Id = {}))),
                (function (e) {
                  (e.normal = "normal"), (e.pinned = "pinned");
                })((n = e.View || (e.View = {}))),
                (e.knownStores = { ideas: "ideas", pinned: "pinned", tools: "tools" }),
                (e.ranks = { [e.knownStores.ideas]: 0, [e.knownStores.pinned]: 1, [e.knownStores.tools]: 2 });
            })((p = e.Store || (e.Store = {}))),
            (function (t) {
              let n;
              !(function (e) {
                (e.create = function (e) {
                  return e;
                }),
                  (e.eq = r.yv);
              })((n = t.Id || (t.Id = {}))),
                (t.isPinned = function (t) {
                  return t === e.knownGroup.pinned;
                });
            })((h = e.Group || (e.Group = {}))),
            (e.knownGroup = { tools: h.Id.create("tools"), pinned: h.Id.create("pinned") }),
            (e.knownGroupRank = { [e.knownGroup.tools]: -2, [e.knownGroup.pinned]: -1 }),
            (e.knowGroupLabels = { [e.knownGroup.tools]: "Tools", [e.knownGroup.pinned]: "" }),
            (function (e) {
              (e.fromTextInput = function (e, t) {
                return Object.assign(Object.assign({}, e), { args: [m.StringValue.create(e.args[0].id, t)] });
              }),
                (e.fromRadioInput = function (e, t) {
                  return Object.assign(Object.assign({}, e), { args: [m.RadioValue.create(e.args[0].id, t)] });
                });
            })((g = e.FollowUpQuestionActionValue || (e.FollowUpQuestionActionValue = {}))),
            (e.createSkillAction = function (t, n) {
              var r;
              const o = p.knownStores.tools;
              return {
                kind: "skillAction",
                id: l.create(t.id),
                store: {
                  id: o,
                  label: "App actions",
                  view: e.Store.View.normal,
                  rank: null !== (r = p.ranks[o]) && void 0 !== r ? r : Number.MAX_SAFE_INTEGER,
                  maxCountBeforeClipping: f.w.isQuickReply(n) ? u.some(1) : u.some(3)
                },
                group: { id: e.knownGroup.tools, label: "App actions", rank: Number.MAX_SAFE_INTEGER },
                iconUrl: t.iconUrl,
                label: (0, i.sanitize)(t.displayName, { ALLOWED_TAGS: d.ap }),
                searchLabel: (0, i.sanitize)(t.displayName, { ALLOWED_TAGS: [] }),
                searchTags: t.tags,
                generatesTextType: u.none,
                args: [],
                skill: t,
                disabled: !1,
                notificationOnAttempt: u.none
              };
            }),
            (e.createToneAction = function (t) {
              const n = "Check my tone";
              return {
                kind: "toneAction",
                id: l.create(t.name),
                store: { id: "", label: "", view: e.Store.View.normal, rank: Number.MAX_SAFE_INTEGER, maxCountBeforeClipping: u.none },
                group: { id: e.knownGroup.tools, label: "Tools", rank: Number.MAX_SAFE_INTEGER },
                iconUrl: ((r = t.emojiId), "https://assets.grammarly.com/emoji/v1/" + r + ".svg"),
                label: n,
                searchLabel: (0, i.sanitize)(t.name, { ALLOWED_TAGS: [] }),
                searchTags: [n, t.name],
                generatesTextType: u.none,
                args: [],
                tone: t,
                disabled: !1,
                notificationOnAttempt: u.none
              };
              var r;
            }),
            (function (e) {
              e.ordByGroup = o.contramap((e) => e.group.rank)(o.ordNumber);
            })((v = e.ListableActionInput || (e.ListableActionInput = {}))),
            (function (e) {
              e.fromInput = function (e, t, n, i) {
                return Object.assign(Object.assign({}, e), {
                  arg: m.StringValue.create(e.arg.id, t),
                  useReferences: n,
                  omitReferenceIds: i
                });
              };
            })((x = e.UserPromptActionValue || (e.UserPromptActionValue = {}))),
            (function (e) {
              e.fromInput = function (e) {
                return Object.assign(Object.assign({}, e), { args: [] });
              };
            })((y = e.QuickRewriteActionValue || (e.QuickRewriteActionValue = {})));
        })(h || (h = {}));
    },
    83289: (e, t, n) => {
      n.d(t, { i: () => i });
      var i,
        r = n(8125),
        o = n(22232);
      !(function (e) {
        let t;
        !(function (e) {
          (e.mount = "mount"),
            (e.unmount = "unmount"),
            (e.headerCloseButtonClick = "headerCloseButtonClick"),
            (e.headerGoBackButtonClick = "headerGoBackButtonClick"),
            (e.headerVoiceButtonClick = "headerVoiceButtonClick"),
            (e.setVoiceButtonClick = "setVoiceButtonClick"),
            (e.voiceProfileCloseButtonClick = "voiceProfileCloseButtonClick"),
            (e.voiceProfileUseVoiceButtonClick = "voiceProfileUseVoiceButtonClick"),
            (e.toneToggleClick = "toneToggleClick"),
            (e.styleToggleClick = "styleToggleClick"),
            (e.roleTypeaheadSelectionChange = "roleTypeaheadSelectionChange"),
            (e.dialectDropdownSelectionChange = "dialectDropdownSelectionChange"),
            (e.promptFieldTextChange = "promptFieldTextChange"),
            (e.promptFieldFocusChange = "promptFieldFocusChange"),
            (e.promptFieldAndMenuFocusChange = "promptFieldAndMenuFocusChange"),
            (e.actionBrickClick = "actionBrickClick"),
            (e.promptSubmitButtonClick = "promptSubmitButtonClick"),
            (e.generateStopButtonClick = "generateStopButtonClick"),
            (e.promptFieldKeyPressEscape = "promptFieldKeyPressEscape"),
            (e.promptFieldKeyPressEnter = "promptFieldKeyPressEnter"),
            (e.promptFieldKeyPressArrowDown = "promptFieldKeyPressArrowDown"),
            (e.promptFieldKeyPressArrowUp = "promptFieldKeyPressArrowUp"),
            (e.promptMenuKeyPressArrowDown = "promptMenuKeyPressArrowDown"),
            (e.promptMenuKeyPressArrowUp = "promptMenuKeyPressArrowUp"),
            (e.resultCardInsertButtonClick = "resultCardInsertButtonClick"),
            (e.resultCardRephraseButtonClick = "resultCardRephraseButtonClick"),
            (e.resultCardDismissButtonClick = "resultCardDismissButtonClick"),
            (e.resultCardToggleGenericVoiceButtonClick = "resultCardToggleGenericVoiceButtonClick"),
            (e.errorCardOkButtonClick = "errorCardOkButtonClick"),
            (e.openFeedbackFormButtonClick = "openFeedbackFormButtonClick"),
            (e.feedbackFormChange = "feedbackFormChange"),
            (e.feedbackFormSubmitButtonClick = "feedbackFormSubmitButtonClick"),
            (e.reportOffensiveResultButtonClick = "reportOffensiveResultButtonClick"),
            (e.reportOffensiveActionsButtonClick = "reportOffensiveActionsButtonClick"),
            (e.resultCardHeaderClick = "resultCardHeaderClick"),
            (e.collapsePromptMenuButtonClick = "collapsePromptMenuButtonClick"),
            (e.creditsInfoHover = "creditsInfoHover"),
            (e.creditsInfoClick = "creditsInfoClick"),
            (e.resultCardHoverChange = "resultCardHoverChange"),
            (e.resultCardFocusChange = "resultCardFocusChange"),
            (e.resultCardCopy = "resultCardCopy"),
            (e.reportMenuVisibilityChange = "reportMenuVisibilityChange"),
            (e.referencesVisibilityChange = "referencesVisibilityChange"),
            (e.voiceProfileTabChange = "voiceProfileTabChange"),
            (e.voiceTagClick = "voiceTagClick"),
            (e.voiceTagPopoverCloseButtonClick = "voiceTagPopoverCloseButtonClick"),
            (e.voiceTagPopoverKeepButtonClick = "voiceTagPopoverKeepButtonClick"),
            (e.voiceTagPopoverRemoveButtonClick = "voiceTagPopoverRemoveButtonClick"),
            (e.applyVoiceToWritingCheckboxChange = "applyVoiceToWritingCheckboxChange"),
            (e.voiceDialectDropdownSelectionChange = "voiceDialectDropdownSelectionChange"),
            (e.voiceRoleDropdownSelectionChange = "voiceRoleDropdownSelectionChange"),
            (e.voiceSelectionsSaveButtonClick = "voiceSelectionsSaveButtonClick"),
            (e.voiceSelectionsCancelButtonClick = "voiceSelectionsCancelButtonClick"),
            (e.voiceSelectionsEditButtonClick = "voiceSelectionsEditButtonClick"),
            (e.surveyRatingSelectionChange = "surveyRatingSelectionChange"),
            (e.surveyOpenAnswerChange = "surveyOpenAnswerChange"),
            (e.surveySubmitButtonClick = "surveySubmitButtonClick"),
            (e.surveyKeyPressShiftEnter = "surveyKeyPressShiftEnter"),
            (e.surveyCancelButtonClick = "surveyCancelButtonClick"),
            (e.surveyCloseButtonClick = "surveyCloseButtonClick"),
            (e.regenerateWithoutReferenceButtonClick = "regenerateWithoutReferenceButtonClick"),
            (e.restoreHistoryButtonClick = "restoreHistoryButtonClick"),
            (e.userPromptSubmit = "userPromptSubmit"),
            (e.radioOptionsSubmitButtonClick = "radioOptionsSubmitButtonClick"),
            (e.radioOptionsCancelButtonClick = "radioOptionsCancelButtonClick"),
            (e.removeSelectionContextClick = "removeSelectionContextClick"),
            (e.selectionContextInteraction = "selectionContextInteraction"),
            (e.settingsButtonClick = "settingsButtonClick"),
            (e.toneReportToneLikeButtonClick = "toneReportToneLikeButtonClick"),
            (e.toneReportToneDislikeButtonClick = "toneReportToneDislikeButtonClick");
        })((t = e.Kind || (e.Kind = {}))),
          (e.is = function (e) {
            return (t) => t.kind === e;
          }),
          (e.isResultAction = (0, r.Kg)(
            e.is(e.Kind.resultCardInsertButtonClick),
            e.is(e.Kind.resultCardRephraseButtonClick),
            e.is(e.Kind.resultCardDismissButtonClick),
            e.is(e.Kind.reportOffensiveResultButtonClick),
            e.is(e.Kind.regenerateWithoutReferenceButtonClick)
          )),
          (e.isToneDetectorAction = (0, r.Kg)(e.is(e.Kind.toneReportToneLikeButtonClick), e.is(e.Kind.toneReportToneDislikeButtonClick))),
          (e.isSurveyAction = (0, r.Kg)(
            e.is(e.Kind.surveyOpenAnswerChange),
            e.is(e.Kind.surveySubmitButtonClick),
            e.is(e.Kind.surveyKeyPressShiftEnter),
            e.is(e.Kind.surveyCancelButtonClick),
            e.is(e.Kind.surveyCloseButtonClick),
            e.is(e.Kind.surveyRatingSelectionChange)
          )),
          (e.isSurveyImplicitDismissAction = (0, r.Kg)(
            e.is(e.Kind.promptSubmitButtonClick),
            e.is(e.Kind.actionBrickClick),
            e.is(e.Kind.resultCardInsertButtonClick),
            e.is(e.Kind.resultCardRephraseButtonClick),
            e.is(e.Kind.resultCardDismissButtonClick),
            e.is(e.Kind.resultCardHeaderClick)
          ));
      })(i || (i = {})),
        (0, o.L0)(void 0);
    },
    33148: (e, t, n) => {
      n.d(t, { J4: () => u, JS: () => r });
      var i,
        r,
        o = n(69243),
        a = n(59502),
        s = n(73915),
        l = n(8125),
        c = n(79662);
      !(function (e) {
        e.Codec = o.OT(o.dt({ action: o.OT(o.Z_) }));
      })(i || (i = {})),
        (function (e) {
          let t, n, i, r, u, d;
          !(function (e) {
            (e.Codec = o.OT(o.dt({ action: o.OT(o.i0("error")) }))),
              (e.is = function (t) {
                return e.Codec.is(t);
              });
          })((t = e.Error || (e.Error = {}))),
            (function (e) {
              (e.Codec = o.OT(o.dt({ action: o.OT(o.i0("finished")) }))),
                (e.is = function (t) {
                  return e.Codec.is(t);
                });
            })((n = e.Finished || (e.Finished = {}))),
            (function (e) {
              (e.Codec = o.OT(o.dt({ action: o.OT(o.i0("async_check_finished")) }))),
                (e.is = function (t) {
                  return e.Codec.is(t);
                });
            })((i = e.AsyncCheckFinished || (e.AsyncCheckFinished = {}))),
            (function (e) {
              (e.Codec = o.OT(o.dt({ action: o.OT(o.i0("emotions")) }))),
                (e.is = function (t) {
                  return e.Codec.is(t);
                });
            })((r = e.TonesResult || (e.TonesResult = {}))),
            (function (e) {
              (e.Codec = o.OT(o.dt({ action: o.OT(o.i0("show_survey")) }))),
                (e.is = function (t) {
                  return e.Codec.is(t);
                });
            })((u = e.ShowSurvey || (e.ShowSurvey = {}))),
            (function (e) {
              let t, n;
              !(function (e) {
                (e.Codec = o.OT(o.dt({ action: o.OT(o.i0("cheetah")), id: o.OT(o.pk) }))), (e.is = e.Codec.is);
              })((t = e.CheetahAck || (e.CheetahAck = {}))),
                (function (e) {
                  e.is = s.n(c.Pb.extend(a.Schemable)({ any: a.id(), sensitiveString: a.string, sensitiveDelta: a.id() }))(
                    c.Pb.ServerMessageImplementations
                  ).is;
                })((n = e.CheetahProtocolServerMessage || (e.CheetahProtocolServerMessage = {}))),
                (e.is = (0, l.Kg)(t.is, n.is));
            })((d = e.CheetahInboundCAPIMessage || (e.CheetahInboundCAPIMessage = {}))),
            (e.is = (0, l.Kg)(t.is, u.is, d.is, r.is, n.is));
        })(r || (r = {}));
      const u = (0, l.Kg)(r.Finished.is, r.TonesResult.is);
      r.CheetahInboundCAPIMessage.is;
    },
    27278: (e, t, n) => {
      n.d(t, { _: () => i });
      var i,
        r = n(5114);
      !(function (e) {
        let t, n;
        !(function (e) {
          e.create = function (e) {
            return e;
          };
        })((t = e.Id || (e.Id = {}))),
          (e.isPending = function (e) {
            return "pending" === e.kind;
          }),
          (e.isReceived = function (e) {
            return "received" === e.kind;
          }),
          (function (e) {
            e.empty = function (e) {
              return {
                id: e,
                kind: "pending",
                availableActions: [],
                specialView: r.none,
                userPromptAction: r.none,
                intent: r.none,
                documentOverview: r.none,
                selection: r.none,
                isBoundary: !1,
                textRevision: r.none
              };
            };
          })((n = e.Pending || (e.Pending = {})));
      })(i || (i = {}));
    },
    819: (e, t, n) => {
      n.d(t, { _: () => i });
      var i,
        r = n(5114),
        o = n(57050),
        a = n(8125);
      !(function (e) {
        let t, n;
        function i(e) {
          return e.kind === t.activeLimited || e.kind === t.activeUnlimited;
        }
        function s(e) {
          return e.kind === t.passive;
        }
        function l(e) {
          return e.kind === t.unknown;
        }
        function c(e) {
          return i(e) || l(e);
        }
        function u(n) {
          if (void 0 === n) return { kind: t.unknown, userSettings: { inlineQuickReplyEnabled: !1, inlineRewriteEnabled: !1 } };
          const i = e.Active.parseRefillDate(n.usage.refillDate);
          return n.usage.promptsRemaining < 0
            ? { kind: t.unknown, userSettings: n.settings }
            : 1e4 === n.usage.promptsAllocated && n.usage.promptsRemaining > 0
            ? {
                kind: t.activeUnlimited,
                promptsRemaining: n.usage.promptsRemaining,
                promptsAllocated: n.usage.promptsAllocated,
                refillDate: i,
                userSettings: n.settings
              }
            : n.usage.promptsRemaining > 0
            ? {
                kind: t.activeLimited,
                promptsRemaining: n.usage.promptsRemaining,
                promptsAllocated: n.usage.promptsAllocated,
                refillDate: i,
                userSettings: n.settings
              }
            : {
                kind: t.passive,
                promptsRemaining: n.usage.promptsRemaining,
                promptsAllocated: n.usage.promptsAllocated,
                refillDate: i,
                userSettings: n.settings
              };
        }
        !(function (e) {
          (e.activeLimited = "activeLimited"),
            (e.activeUnlimited = "activeUnlimited"),
            (e.passive = "passive"),
            (e.unavailable = "unavailable"),
            (e.disabled = "disabled"),
            (e.pending = "pending"),
            (e.unknown = "unknown");
        })((t = e.Kind || (e.Kind = {}))),
          (function (e) {
            const t = (0, a.HP)((e) => {
              const t = Date.parse(e);
              return isNaN(t) ? 0 : t;
            });
            function n(e) {
              const t = e - Date.now();
              return Math.floor(t / 36e5);
            }
            (e.parseRefillDate = function (e) {
              return t(e);
            }),
              (e.hoursUntilRefillDate = n),
              (e.daysUntilRefillDate = function (e) {
                return Math.floor(n(e) / 24);
              });
          })((n = e.Active || (e.Active = {}))),
          (e.isActive = i),
          (e.isActiveUnlimited = function (e) {
            return e.kind === t.activeUnlimited;
          }),
          (e.isPassive = s),
          (e.isActiveOrPassive = (0, a.Kg)(i, s)),
          (e.isUnknown = l),
          (e.isUsable = c),
          (e.isVisible = function (e) {
            return c(e) || s(e);
          }),
          (e.isDisabled = function (e) {
            return e.kind === t.disabled;
          }),
          (e.isUnavailable = function (e) {
            return e.kind === t.pending || e.kind === t.unavailable || e.kind === t.disabled;
          }),
          (e.fromUserState = u),
          (e.updateUsage = function (e, t) {
            return u({ usage: t, settings: e.userSettings });
          }),
          (e.getPromptsAllocated = function (t) {
            return (0, o.zG)(
              t,
              r.fromPredicate(e.isActiveOrPassive),
              r.map((e) => e.promptsAllocated)
            );
          });
      })(i || (i = {}));
    },
    98370: (e, t, n) => {
      function i(e) {
        return { kind: e.kind, source: e.source, name: e.name, jsonData: JSON.stringify(e.data) };
      }
      n.d(t, { L: () => i });
    },
    89727: (e, t, n) => {
      function i(e) {
        return { kind: "error", source: "core", name: "lifecycleVisuallyReadyFailed", data: e };
      }
      function r(e) {
        return { kind: "error", source: "core", name: "lifecycleReadyToDragFailed", data: e };
      }
      function o(e) {
        return { kind: "error", source: "core", name: "lifecycleFocusStateChangedFailed", data: e };
      }
      function a(e) {
        return { kind: "error", source: "core", name: "lifecycleCloseFailed", data: e };
      }
      function s(e) {
        return { kind: "error", source: "core", name: "unsanitizeTextOnInboundCAPIMessageFailed", data: e };
      }
      function l(e) {
        return { kind: "error", source: "core", name: "sanitizeTextOnOutboundCAPIMessageFailed", data: e };
      }
      function c() {
        return { kind: "error", source: "core", name: "getContextFailed", data: null };
      }
      function u() {
        return { kind: "error", source: "core", name: "getHistoryFailed", data: null };
      }
      function d(e) {
        return { kind: "error", source: "core", name: "actionFailed", data: e };
      }
      function m(e) {
        return { kind: "error", source: "core", name: "waitForContextTimeout", data: e };
      }
      function p() {
        return { kind: "error", source: "core", name: "waitForHistoryTimeout", data: null };
      }
      function h() {
        return { kind: "error", source: "core", name: "waitForResultTimeout", data: null };
      }
      function f(e) {
        return { kind: "error", source: "core", name: "waitForAckTimeout", data: e };
      }
      function g(e) {
        return { kind: "error", source: "core", name: "setVoiceProfileFailed", data: e };
      }
      function v(e) {
        return { kind: "error", source: "core", name: "setNewVoiceProfileFailed", data: e };
      }
      function x(e) {
        return { kind: "error", source: "core", name: "capiErrorUnhandled", data: e };
      }
      function y(e) {
        return { kind: "error", source: "core", name: "regenerateResultFailed", data: e };
      }
      function b(e) {
        return { kind: "error", source: "core", name: "stopInProgressResultFailed", data: e };
      }
      function k(e) {
        return { kind: "error", source: "core", name: "getTextFailed", data: e };
      }
      function w(e) {
        return { kind: "error", source: "core", name: "reportUphookShowFailed", data: e };
      }
      function C(e) {
        return { kind: "error", source: "core", name: "reportUphookClickFailed", data: e };
      }
      function S(e) {
        return { kind: "error", source: "core", name: "reportMetricFailed", data: e };
      }
      n.d(t, {
        $E: () => c,
        Ax: () => p,
        B$: () => o,
        CN: () => a,
        IL: () => r,
        Jr: () => v,
        Ld: () => S,
        Lp: () => b,
        No: () => f,
        TX: () => g,
        Z9: () => x,
        bE: () => h,
        bS: () => l,
        g0: () => y,
        g4: () => d,
        gW: () => m,
        ix: () => w,
        o9: () => i,
        ol: () => C,
        q_: () => k,
        tD: () => u,
        xe: () => s
      });
    },
    4068: (e, t, n) => {
      n.d(t, { H: () => i });
      var i,
        r = n(5114),
        o = n(64015),
        a = n(17889),
        s = n(57050);
      !(function (e) {
        let t, n;
        (e.fromOuterContext = function (e) {
          var n, i, l, c;
          const u = (e) =>
              (0, s.zG)(
                r.fromNullable(null == e ? void 0 : e.from),
                r.chain(o.YM),
                r.fold(() => t.empty, t.fromNameAndEmailString)
              ),
            d = (e) =>
              (0, s.zG)(
                r.fromNullable(null == e ? void 0 : e.to),
                r.chain(a.c2),
                r.map(a.UI(t.fromNameAndEmailString)),
                r.getOrElseW(() => [])
              ),
            m = (0, s.zG)(
              r.fromNullable(e.items),
              r.chain(o.YM),
              r.getOrElseW(() => {})
            );
          return {
            previousMessageInfo: {
              author: u(null == m ? void 0 : m.people),
              directRecipients: d(null == m ? void 0 : m.people),
              text: null !== (n = null == m ? void 0 : m.text) && void 0 !== n ? n : ""
            },
            title: null !== (i = e.title) && void 0 !== i ? i : "",
            author: u(e.people),
            directRecipients: d(e.people),
            indirectRecipients: (0, s.zG)(
              r.fromNullable(null === (l = e.people) || void 0 === l ? void 0 : l.cc),
              r.chain(a.c2),
              r.map(a.UI(t.fromNameAndEmailString)),
              r.getOrElseW(() => [])
            ),
            undisclosedRecipients: (0, s.zG)(
              r.fromNullable(null === (c = e.people) || void 0 === c ? void 0 : c.bcc),
              r.chain(a.c2),
              r.map(a.UI(t.fromNameAndEmailString)),
              r.getOrElseW(() => [])
            )
          };
        }),
          (e.toOuterContext = function (t) {
            return {
              title: t.title,
              people: {
                from: [e.Person.extractNameAndEmailString(t.author)],
                to: t.directRecipients.map(e.Person.extractNameAndEmailString),
                cc: t.indirectRecipients.map(e.Person.extractNameAndEmailString),
                bcc: t.undisclosedRecipients.map(e.Person.extractNameAndEmailString)
              },
              items: [
                {
                  text: t.previousMessageInfo.text,
                  people: {
                    from: [e.Person.extractNameAndEmailString(t.previousMessageInfo.author)],
                    to: t.previousMessageInfo.directRecipients.map(e.Person.extractNameAndEmailString)
                  }
                }
              ]
            };
          }),
          (e.empty = {
            previousMessageInfo: { author: { name: "", email: "" }, directRecipients: [], text: "" },
            title: "",
            author: { name: "", email: "" },
            directRecipients: [],
            indirectRecipients: [],
            undisclosedRecipients: []
          }),
          (function (e) {
            (e.empty = { name: "", email: "" }),
              (e.fromNameAndEmailString = function (t) {
                return (0, s.zG)(
                  r.fromNullable(t.match(/^([^<]*)<(.*)>$/)),
                  r.map((e) => {
                    var t, n, i, r;
                    return {
                      name: null !== (n = null === (t = e[1]) || void 0 === t ? void 0 : t.trim()) && void 0 !== n ? n : "",
                      email: null !== (r = null === (i = e[2]) || void 0 === i ? void 0 : i.trim()) && void 0 !== r ? r : ""
                    };
                  }),
                  r.getOrElse(() => e.empty)
                );
              }),
              (e.extractNameAndEmailString = function (e) {
                const t = "" !== e.email ? `<${e.email}>` : "";
                return [e.name, t].filter((e) => "" !== e).join(" ");
              });
          })((t = e.Person || (e.Person = {}))),
          (function (e) {
            e.empty = { author: { name: "", email: "" }, directRecipients: [], text: "" };
          })((n = e.PreviousMessageInfo || (e.PreviousMessageInfo = {})));
      })(i || (i = {}));
    },
    14047: (e, t, n) => {
      n.d(t, { x: () => i });
      var i,
        r = n(73975),
        o = n(5114),
        a = n(64015),
        s = n(17889),
        l = n(57050),
        c = n(8709),
        u = n(8125),
        d = n(95195),
        m = n(65602),
        p = n(3299);
      !(function (e) {
        let t, n, i, h, f, g, v;
        function x(e) {
          return "complete" === e.kind;
        }
        function y(e) {
          return "history" === e.kind;
        }
        function b(e) {
          return "inProgressOngoing" === e.kind;
        }
        function k(e) {
          return "inProgressPending" === e.kind;
        }
        !(function (e) {
          (e.create = function (e) {
            return `${e}`;
          }),
            (e.toPrimitive = function (e) {
              return parseInt(e, 10);
            }),
            (e.eq = r.yv);
        })((t = e.Id || (e.Id = {}))),
          (function (e) {
            (e.insert = "insert"), (e.reportOffensive = "reportOffensive");
          })((n = e.Feedback || (e.Feedback = {}))),
          (function (e) {
            (e.insert = "insert"), (e.copy = "copy"), (e.rephrase = "rephrase");
          })((i = e.SupportedAction || (e.SupportedAction = {}))),
          (e.hasId = function (e) {
            return "id" in e;
          }),
          (e.isComplete = x),
          (e.isHistory = y),
          (e.isAIUsageNotification = function (e) {
            return "aiUsageNotification" === e.kind;
          }),
          (e.isStandardCompletedResult = (0, u.Kg)(x, y)),
          (e.isInProgressOngoing = b),
          (e.isInProgressPending = k),
          (e.isInProgressInterrupted = function (e) {
            return "inProgressInterrupted" === e.kind;
          }),
          (e.isInProgress = (0, u.Kg)(b, k)),
          (function (e) {
            (e.generic = "generic"), (e.user = "user");
          })((h = e.GeneratedTextVoice || (e.GeneratedTextVoice = {}))),
          (function (t) {
            t.createFromResultMessage = function (t) {
              var n, i;
              const r = (0, l.zG)(
                (0, m.DO)(null === (n = t.text) || void 0 === n ? void 0 : n.delta),
                o.getOrElse(() => new c.i())
              );
              return (0, l.zG)(
                (0, m.DO)(null === (i = t.withVoiceText) || void 0 === i ? void 0 : i.delta),
                d.fromOption(() => r),
                d.map((n) => ({
                  generic: r,
                  user: n,
                  preferVoice:
                    !0 === (null == t ? void 0 : t.showVoiceTextByDefault) ? e.GeneratedTextVoice.user : e.GeneratedTextVoice.generic
                }))
              );
            };
          })((f = e.ResultDelta || (e.ResultDelta = {}))),
          (function (t) {
            t.createFromCard = function (t, n) {
              return {
                kind: "history",
                id: e.Id.create(t.id),
                header:
                  "action" === t.title.kind
                    ? {
                        label: t.title.label,
                        iconUrl: "" !== t.title.iconUrl.trim() ? o.some(t.title.iconUrl) : o.none,
                        copiablePrompt: o.none
                      }
                    : { label: t.title.text, iconUrl: o.none, copiablePrompt: "" !== t.title.text.trim() ? o.some(t.title.text) : o.none },
                replacementDelta: f.createFromResultMessage({
                  text: t.text,
                  withVoiceText: t.text.plain === t.withVoiceText.plain ? void 0 : t.withVoiceText,
                  showVoiceTextByDefault: t.text.plain === t.withVoiceText.plain ? void 0 : t.showVoiceTextByDefault
                }),
                supportedActions: new Set([e.SupportedAction.insert].concat(n ? [e.SupportedAction.copy] : [])),
                references: (0, l.zG)(t.references, a.UI(p.s.create), s.c2)
              };
            };
          })((g = e.History || (e.History = {}))),
          (function (e) {
            e.fromInProgressResult = function (e, t) {
              return Object.assign(Object.assign({}, e), { kind: "aiUsageNotification", text: t });
            };
          })((v = e.AIUsageNotification || (e.AIUsageNotification = {})));
      })(i || (i = {}));
    },
    7903: (e, t, n) => {
      n.d(t, { z: () => i });
      var i,
        r = n(5114),
        o = n(22232);
      !(function (e) {
        let t, n, i;
        !(function (e) {
          (e.restoreDisabled = "restoreDisabled"),
            (e.unknown = "unknown"),
            (e.hasHistory = "hasHistory"),
            (e.noHistory = "noHistory"),
            (e.historyRequested = "historyRequested"),
            (e.historyRestored = "historyRestored");
        })((t = e.HistoryStatus || (e.HistoryStatus = {}))),
          (function (e) {
            (e.unknown = "unknown"), (e.static = "static"), (e.dynamic = "dynamic");
          })((n = e.SelectionContextStatus || (e.SelectionContextStatus = {}))),
          (e.toStarting = function (e) {
            return "starting" === e.kind ? r.some(e) : r.none;
          }),
          (e.toStarted = function (e) {
            return "started" === e.kind ? r.some(e) : r.none;
          }),
          (e.fold = function (e) {
            return (t) => ("starting" === t.kind ? e.starting(t) : "started" === t.kind ? e.started(t) : void (0, o.L0)(t));
          }),
          (e.isStartedWithInProgressResult = function (e) {
            return "started" === e.kind && r.isSome(e.inProgressResult);
          }),
          (function (e) {
            e.initial = (e) => ({
              kind: "starting",
              mode: e,
              selectedRange: r.none,
              selectedText: r.none,
              quickReplyContext: r.none,
              historyStatus: t.unknown,
              writingExpertContext: r.none,
              error: r.none,
              textRevision: 0,
              selectionContextStatus: n.unknown
            });
          })((i = e.Starting || (e.Starting = {})));
      })(i || (i = {}));
    },
    69693: (e, t, n) => {
      n.d(t, { w: () => i });
      var i,
        r = n(8125);
      !(function (e) {
        function t(e) {
          return "rewrite" === e;
        }
        function n(e) {
          return "quickRewrite" === e;
        }
        (e.isIdeation = function (e) {
          return "ideation" === e;
        }),
          (e.isRewrite = t),
          (e.isQuickReply = function (e) {
            return "quickReply" === e;
          }),
          (e.isQuickRewrite = n),
          (e.isPushRewrite = function (e) {
            return "pushRewrite" === e;
          }),
          (e.isRewriteOrQuickRewrite = (0, r.Kg)(t, n));
      })(i || (i = {}));
    },
    12968: (e, t, n) => {
      n.d(t, { u: () => i });
      const i = { flatUI: !1 };
    },
    99877: (e, t, n) => {
      var i, r;
      n.d(t, { e: () => i, n: () => r }),
        (function (e) {
          (e.intentCard = "intentCard"),
            (e.initialActionsList = "initialActionsList"),
            (e.followUpActionsList = "followUpActionsList"),
            (e.creditsInfoButton = "creditsInfoButton"),
            (e.promptInput = "promptInput"),
            (e.promptInputAndMenuContainer = "promptInputAndMenuContainer"),
            (e.promptMenuContent = "promptMenuContent"),
            (e.skill = "skill"),
            (e.referencesList = "referencesList"),
            (e.historyButton = "historyButton");
        })(i || (i = {})),
        (function (e) {
          (e.initialPopupAnchor = "initialPopupAnchor"),
            (e.initialBTSPopupAnchor = "initialBTSPopupAnchor"),
            (e.rewriteTooltipAnchor = "rewriteTooltipAnchor");
        })(r || (r = {}));
    },
    42724: (e, t, n) => {
      var i;
      n.d(t, { n: () => i }),
        (function (e) {
          let t;
          !(function (e) {
            e.create = function (e) {
              return e;
            };
          })((t = e.Id || (e.Id = {})));
        })(i || (i = {}));
    },
    79662: (e, t, n) => {
      n.d(t, { Pb: () => o, XU: () => a });
      var i = n(71761),
        r = n(9090);
      const o = i,
        a = r.i;
    },
    43254: (e, t, n) => {
      n.d(t, { t: () => Z });
      var i = n(99950),
        r = n(62965),
        o = n(57050),
        a = n(71761),
        s = n(85985),
        l = n(71032),
        c = n(12126),
        u = n(82900),
        d = n(18775),
        m = n(50858),
        p = n(55818),
        h = n(95195),
        f = n(40154),
        g = n(36991),
        v = n(98314),
        x = n(11452),
        y = n(83257),
        b = n(55415);
      function k(e) {
        return {
          encode: function (t) {
            var n = Object.entries(e)
              .filter(function (e) {
                return (0, v._)(e, 1)[0] in t;
              })
              .map(function (e) {
                var n = (0, v._)(e, 2),
                  i = n[0],
                  a = n[1];
                return (0, o.zG)(
                  void 0 === t[i] ? r.F2(void 0) : a.encode(t[i]),
                  r.UI(function (e) {
                    return [i, e];
                  })
                );
              });
            return (0, o.zG)(
              r.RD(n),
              r.UI(function (e) {
                return b.sq(e);
              })
            );
          }
        };
      }
      var w = k,
        C = w;
      function S() {
        return {
          encode: function (e) {
            return r.F2(e);
          }
        };
      }
      var E,
        _ = function (e) {
          return null === e ? "null" : void 0 === e ? "undefined" : (0, x._)(e);
        },
        I = function (e, t) {
          if (void 0 !== e && void 0 !== t) {
            var n = _(e),
              i = _(t);
            if ("object" === n || "object" === i) return Object.assign({}, e, t);
          }
          return t;
        },
        A = {
          URI: "io-ts/EncoderAsync",
          literal: function () {
            return S();
          },
          string: S(),
          number: S(),
          boolean: S(),
          nullable: function (e) {
            return {
              encode: function (t) {
                return null === t ? r.F2(null) : e.encode(t);
              }
            };
          },
          type: C,
          struct: w,
          partial: k,
          record: function (e) {
            return {
              encode: function (t) {
                var n = Object.entries(t).map(function (t) {
                  var n = (0, v._)(t, 2),
                    i = n[0],
                    a = n[1];
                  return (0, o.zG)(
                    e.encode(a),
                    r.UI(function (e) {
                      return [i, e];
                    })
                  );
                });
                return (0, o.zG)(
                  r.RD(n),
                  r.UI(function (e) {
                    return b.sq(e);
                  })
                );
              }
            };
          },
          array: function (e) {
            return {
              encode: function (t) {
                return r.RD(
                  t.map(function (t) {
                    return e.encode(t);
                  })
                );
              }
            };
          },
          tuple: function () {
            for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) t[n] = arguments[n];
            return {
              encode: function (e) {
                return r.RD(
                  t.map(function (t, n) {
                    return t.encode(e[n]);
                  })
                );
              }
            };
          },
          intersect: function (e) {
            return function (t) {
              return {
                encode: function (n) {
                  return (0, o.zG)(
                    t.encode(n),
                    r.tS(function (t) {
                      return (0, o.zG)(
                        e.encode(n),
                        r.UI(function (e) {
                          return I(t, e);
                        })
                      );
                    })
                  );
                }
              };
            };
          },
          sum: y.Sm,
          lazy: function (e, t) {
            return y.Vo(t);
          },
          readonly: y.OT
        },
        B = n(73915);
      y.ov, y.id(), y.id(), y.id(), y.AG, y.dt, y.n_, y.r$, y.IM, y.IX, y.bc, y.wf, y.Sm, y.OT;
      !(function (e) {
        e.interpreter = (0, o.MZ)(B.n);
        e.extend = function (e) {
          return function (t) {
            return (0, m._)({}, e, t);
          };
        };
      })(E || (E = {}));
      var R = n(50693),
        O = n(74923),
        U = n(31099),
        T = n(71346),
        N = (function (e) {
          (0, U._)(n, e);
          var t = (0, T._)(n);
          function n(e, i) {
            var r;
            return (
              (0, u._)(this, n),
              (r = t.call(this, "DLP Sanitizer: Schema mismatch error. ".concat(e))),
              (0, d._)((0, R._)(r), "decodeError", void 0),
              (r.decodeError = i),
              r
            );
          }
          return (
            (0, O._)(n, [
              {
                key: "toString",
                value: function () {
                  return "Decode error:\n      Message: ".concat(this.message, "\n      Details: ").concat(this.decodeError);
                }
              }
            ]),
            n
          );
        })(n(22232).sH),
        M = function e(t) {
          var n = this;
          (0, u._)(this, e),
            (0, d._)(this, "_sanitizationFunctions", void 0),
            (0, d._)(this, "sanitizeMessage", void 0),
            (0, d._)(this, "unsanitizeMessage", void 0),
            (0, d._)(this, "replaceInDelta", void 0),
            (0, d._)(this, "sanitizeDelta", void 0),
            (0, d._)(this, "unsanitizeDelta", void 0),
            (0, d._)(this, "sensitiveDecoder", void 0),
            (0, d._)(this, "sanitizingEncoder", void 0),
            (0, d._)(this, "unsanitizingEncoder", void 0),
            (0, d._)(this, "getMessageHandler", void 0),
            (this._sanitizationFunctions = t),
            (this.sanitizeMessage = function (e, t) {
              var i = n.getMessageHandler(t);
              return (0, o.zG)(
                i.decode(e),
                h.fold(
                  function (e) {
                    return r.t$(new N("Sanitization failed", f.ii(e)));
                  },
                  function (e) {
                    return i.sanitizer.encode(e);
                  }
                )
              );
            }),
            (this.unsanitizeMessage = function (e, t) {
              var i = n.getMessageHandler(t);
              return (0, o.zG)(
                i.decode(e),
                h.fold(
                  function (e) {
                    return r.t$(new N("Unsanitization failed", f.ii(e)));
                  },
                  function (e) {
                    return i.unsanitizer.encode(e);
                  }
                )
              );
            }),
            (this.replaceInDelta = function (e, t) {
              return (0, o.zG)(
                r.RD(
                  e.ops.map(function (e) {
                    return g.s.isInsertString(e)
                      ? (0, o.zG)(
                          t(e.insert),
                          r.UI(function (t) {
                            return (0, p._)((0, m._)({}, e), { insert: t });
                          })
                        )
                      : r.F2(e);
                  })
                ),
                r.UI(function (e) {
                  return { ops: e };
                })
              );
            }),
            (this.sanitizeDelta = function (e) {
              return n.replaceInDelta(e, n._sanitizationFunctions.sanitizeText);
            }),
            (this.unsanitizeDelta = function (e) {
              return n.replaceInDelta(e, n._sanitizationFunctions.unsanitizeText);
            }),
            (this.sensitiveDecoder = E.extend(j)({ any: f.id(), sensitiveString: f.Z_, sensitiveDelta: f.id() })),
            (this.sanitizingEncoder = E.extend(A)({
              any: S(),
              sensitiveString: { encode: this._sanitizationFunctions.sanitizeText },
              sensitiveDelta: { encode: this.sanitizeDelta }
            })),
            (this.unsanitizingEncoder = E.extend(A)({
              any: S(),
              sensitiveString: { encode: this._sanitizationFunctions.unsanitizeText },
              sensitiveDelta: { encode: this.unsanitizeDelta }
            })),
            (this.getMessageHandler = function (e) {
              return (0, p._)((0, m._)({}, E.interpreter(n.sensitiveDecoder)(e)), {
                sanitizer: E.interpreter(n.sanitizingEncoder)(e),
                unsanitizer: E.interpreter(n.unsanitizingEncoder)(e)
              });
            });
        },
        F = function e() {
          (0, u._)(this, e),
            (0, d._)(this, "sanitizeMessage", function (e, t) {
              return r.F2(e);
            }),
            (0, d._)(this, "unsanitizeMessage", function (e, t) {
              return r.F2(e);
            });
        },
        j = (0, p._)((0, m._)({}, f.z2), { struct: f.z2.partial, type: f.z2.partial }),
        P = n(33148),
        z = n(98370),
        G = n(89727),
        L = n(2735);
      class Z {
        constructor(e) {
          (this._params = e), (this.relevantInboundCAPIMessages = this._getRelevantInboundCAPIMessagesObs());
          const t = e.dlpOptions;
          this._dlpSanitizer = t
            ? new M({
                sanitizeText: (e) => r.Y3(() => t.sanitizeText(e), L.N),
                unsanitizeText: (e) => r.Y3(() => t.unsanitizeText(e), L.N)
              })
            : new F();
        }
        cheetahGetContext(e) {
          return (0, o.zG)(
            this._sanitizeOutboundCheetahMessage("cheetah:getContext", e, a.MessageGetContext),
            r.tS((e) =>
              this._params.sendCAPIMessage({ action: "cheetah:getContext", shouldInjectRev: !0, data: e, shouldInjectSessionId: !1 })
            )
          );
        }
        cheetahAction(e) {
          return (0, o.zG)(
            this._sanitizeOutboundCheetahMessage("cheetah:action", e, a.MessageAction),
            r.tS((e) => this._params.sendCAPIMessage({ action: "cheetah:action", shouldInjectRev: !0, data: e, shouldInjectSessionId: !1 }))
          );
        }
        cheetahGetHistory() {
          return this._params.sendCAPIMessage({ action: "cheetah:getHistory", shouldInjectRev: !1, data: {}, shouldInjectSessionId: !1 });
        }
        cheetahGetUserState() {
          return this._params.sendCAPIMessage({ action: "cheetah:getUserState", data: {}, shouldInjectRev: !1, shouldInjectSessionId: !1 });
        }
        cheetahInterrupt(e) {
          return this._params.sendCAPIMessage({ action: "cheetah:interrupt", data: e, shouldInjectRev: !1, shouldInjectSessionId: !1 });
        }
        cheetahSearchReferences(e) {
          return this._params.sendCAPIMessage({
            action: "cheetah:searchReferences",
            data: e,
            shouldInjectRev: !1,
            shouldInjectSessionId: !1
          });
        }
        cheetahSetVoice(e) {
          return this._params.sendCAPIMessage({ action: "cheetah:setVoice", data: e, shouldInjectRev: !1, shouldInjectSessionId: !1 });
        }
        cheetahSetVoiceProfile(e) {
          return this._params.sendCAPIMessage({
            action: "cheetah:setVoiceProfile",
            data: e,
            shouldInjectRev: !1,
            shouldInjectSessionId: !1
          });
        }
        user_action(e) {
          return this._params.sendCAPIMessage({ action: "user_action", data: e, shouldInjectRev: !1, shouldInjectSessionId: !0 });
        }
        set_context(e) {
          return this._params.sendCAPIMessage({ action: "set_context", data: e, shouldInjectRev: !0, shouldInjectSessionId: !1 });
        }
        submit_survey_result(e) {
          return this._params.sendCAPIMessage({ action: "submit_survey_result", data: e, shouldInjectRev: !0, shouldInjectSessionId: !1 });
        }
        feedback(e) {
          return this._params.sendCAPIMessage({ action: "feedback", data: e, shouldInjectRev: !1, shouldInjectSessionId: !1 });
        }
        _getRelevantInboundCAPIMessagesObs() {
          return this._params.inboundCAPIMessages.pipe(
            s.h(P.JS.is),
            l.b((e) =>
              c.D(
                (0, o.zG)(
                  e,
                  (e) => {
                    switch (e.action) {
                      case "cheetah:setContext":
                        return this._dlpSanitizer.unsanitizeMessage(e, a.MessageSetContext);
                      case "cheetah:chunk":
                        return this._dlpSanitizer.unsanitizeMessage(e, a.MessageChunk);
                      case "cheetah:result":
                        return this._dlpSanitizer.unsanitizeMessage(e, a.MessageResult);
                      default:
                        return r.F2(e);
                    }
                  },
                  r.g_(
                    (t) => (
                      this._params.monitoringService.notify((0, z.L)((0, G.xe)({ capiMessageAction: e.action, rawError: (0, L.N)(t) }))),
                      i.of(e)
                    ),
                    i.of
                  ),
                  (e) => e()
                )
              )
            )
          );
        }
        _sanitizeOutboundCheetahMessage(e, t, n) {
          return (0, o.zG)(
            this._dlpSanitizer.sanitizeMessage(t, n),
            r.Vn((t) => (this._params.monitoringService.notify((0, z.L)((0, G.bS)({ capiMessageAction: e, rawError: (0, L.N)(t) }))), t))
          );
        }
      }
    },
    92627: (e, t, n) => {
      n.d(t, { L: () => p });
      var i = n(5114),
        r = n(57050),
        o = n(9922),
        a = n(85985),
        s = n(77176),
        l = n(60797),
        c = n(98403),
        u = n(23239),
        d = n(33148),
        m = n(819);
      class p {
        constructor(e, t) {
          (this._capiService = e),
            (this._genAIFeaturesState = t),
            (this._subs = new o.w.Keeper()),
            (this._availability = u.h.create({
              kind: m._.Kind.pending,
              userSettings: { inlineQuickReplyEnabled: !1, inlineRewriteEnabled: !1 }
            })),
            (this.availability = this._availability.view()),
            this._subs.push(
              this._genAIFeaturesState.subscribe((e) =>
                this._availability.set(
                  e.enabled
                    ? m._.fromUserState(e.userState)
                    : { kind: m._.Kind.unavailable, userSettings: { inlineQuickReplyEnabled: !1, inlineRewriteEnabled: !1 } }
                )
              )
            ),
            this._subs.push(
              (0, r.zG)(
                this._capiService.relevantInboundCAPIMessages,
                a.h(d.JS.CheetahInboundCAPIMessage.is),
                s.U((e) => ("cheetah:setUserState" === e.action ? i.some(e.state) : i.none)),
                l.oA,
                s.U(m._.fromUserState)
              ).subscribe(c.wW(this._availability))
            ),
            this._subs.push(
              (0, r.zG)(
                this._capiService.relevantInboundCAPIMessages,
                a.h(d.JS.CheetahInboundCAPIMessage.is),
                s.U((e) => {
                  switch (e.action) {
                    case "cheetah:setContext":
                    case "cheetah:result":
                      return i.some(e.usage);
                    default:
                      return i.none;
                  }
                }),
                l.oA,
                s.U((e) => m._.updateUsage(this._availability.get(), e))
              ).subscribe(c.wW(this._availability))
            );
        }
        dispose() {
          this._subs.dispose();
        }
      }
    },
    63346: (e, t, n) => {
      n.d(t, { W: () => i });
      class i {
        constructor(e) {
          this.namespace = e;
        }
        static configureAllLoggers(e) {
          i._isEnabled = "prod" !== e.env;
        }
        trace(e, t, n) {
          this._printToConsole("trace", e, t, n);
        }
        warn(e, t, n) {
          this._printToConsole("warn", e, t, n);
        }
        debug(e, t, n) {
          this._printToConsole("debug", e, t, n);
        }
        info(e, t, n) {
          this._printToConsole("info", e, t, n);
        }
        error(e, t, n) {
          this._printToConsole("error", e, t, n);
        }
        fatal(e, t, n) {
          this._printToConsole("fatal", e, t, n);
        }
        _getMsgWithNamespace(e) {
          return `[${i._rootNamespace}.${this.namespace}]: ${e}`;
        }
        _printToConsole(e, t, n, r) {
          if ("fatal" === e) return void console.error(t, n, r);
          if (!i._isEnabled) return;
          const o = this._getMsgWithNamespace(t);
          n && r ? console[e](o, n, r) : !n && r ? console[e](o, r) : n && !r ? console[e](o, n) : console[e](o);
        }
      }
      (i._rootNamespace = "CheetahWeb"), (i._isEnabled = !1);
    },
    35298: (e, t, n) => {
      n.d(t, { j: () => a });
      var i = n(14601),
        r = n(98403),
        o = n(23239);
      class a {
        constructor(e) {
          (this._hostAvailability = e),
            (this._availability = o.h.create(null)),
            (this.availability = this._availability.view()),
            (this._sub = new i.w()),
            (this._sub = e.subscribe(r.wW(this._availability)));
        }
        augment(e) {
          this._sub.unsubscribe(), (this._sub = e(this._hostAvailability).subscribe(r.wW(this._availability)));
        }
        dispose() {
          this._sub.unsubscribe();
        }
      }
    },
    94175: (e, t, n) => {
      n.d(t, { Z: () => Oe });
      var i = n(17771),
        r = n(95195),
        o = n(64015),
        a = n(17889),
        s = n(13853),
        l = n(62965),
        c = n(57050),
        u = n(28043),
        d = n(50628),
        m = n(84966),
        p = n(9922),
        h = n(98403),
        f = n(38062),
        g = n(85985),
        v = n(80900),
        x = n(23063),
        y = n(77176),
        b = n(66310),
        k = n(55935),
        w = n(60797),
        C = n(66081),
        S = n(2834),
        E = n(40151),
        _ = n(22232),
        I = n(5114),
        A = n(83078),
        B = n(73975),
        R = n(8125),
        O = n(23239),
        U = n(25530);
      function T(e) {
        return (0, c.zG)(
          I.fromNullable(e.changesSummary),
          I.filter(({ title: e }) => "" !== e),
          I.chain(({ title: e, description: t }) =>
            (0, c.zG)(
              a.c2(t),
              I.map((t) => ({ title: e, description: t }))
            )
          )
        );
      }
      var N,
        M = n(27278),
        F = n(50687);
      !(function (e) {
        let t;
        function n(e) {
          switch (e) {
            case "sensitiveResult":
              return {
                header: "Assistance is unavailable",
                text: "Assistance is unavailable for that text or prompt.\nTry something else."
              };
            case "overload":
              return {
                header: "Couldnt generate text",
                text: "Were handling a lot of prompts right now and couldnt generate that text.\nPlease try again later."
              };
            case "unsupportedLanguage":
              return { header: "Hmm, dont know that language", text: "Assistance is currently only available for English." };
            case "critical":
            case "timeout":
            case "emptyResult":
            case "truncatedResult":
            case "usageExceeded":
              return {
                header: "Something went wrong",
                text: "Were not sure what happened, but we couldnt generate that text.\nPlease try again."
              };
            default:
              return (0, c.Rz)(e);
          }
        }
        !(function (e) {
          e.create = function (e) {
            switch (e) {
              case F.oS.Generic:
                return "critical";
              case F.oS.Overflow:
                return "truncatedResult";
              case F.oS.PromptsLimitExceeded:
                return "usageExceeded";
              case F.oS.SensitiveContent:
                return "sensitiveResult";
              case F.oS.ServerOverloaded:
                return "overload";
              case F.oS.UnsupportedLanguage:
                return "unsupportedLanguage";
              default:
                return (0, c.Rz)(e);
            }
          };
        })((t = e.Reason || (e.Reason = {}))),
          (e.create = function (e) {
            const r = t.create(e.kind),
              o = (0, c.zG)(
                i.Y(I.Applicative)({
                  header: (0, c.zG)(
                    I.fromNullable(e.title),
                    I.filter((e) => "" !== e.trim())
                  ),
                  text: (0, c.zG)(
                    I.fromNullable(e.text),
                    I.filter((e) => "" !== e.trim())
                  )
                }),
                I.getOrElse(() => n(r))
              );
            return Object.assign({ reason: r }, o);
          }),
          (e.createCriticalError = function (e) {
            return {
              reason: "critical",
              header: "Something went wrong",
              text: e
                ? "Were not sure what happened.\nPlease try again later."
                : "Were not sure what happened, but we couldnt generate that text.\nPlease try again."
            };
          }),
          (e.createEmptyResultError = function () {
            return Object.assign({ reason: "emptyResult" }, n("emptyResult"));
          });
      })(N || (N = {}));
      var j = n(98370),
        P = n(89727);
      var z = n(14047),
        G = n(7903),
        L = n(69693);
      function Z(e) {
        return L.w.isRewriteOrQuickRewrite(e.mode);
      }
      function D(e) {
        return L.w.isQuickReply(e.mode);
      }
      function H(e) {
        return L.w.isPushRewrite(e.mode);
      }
      var V,
        $ = n(8709);
      !(function (e) {
        const t = {
          "Cheetah/_System/Push/SimplifyRewrite": {
            copiablePrompt: I.none,
            iconUrl: I.some("https://assets.grammarly.com/cheetah/v1/actions/simplify.svg"),
            label: "Simplify your text"
          },
          "Cheetah/_System/Push/ImproveParagraph": {
            copiablePrompt: I.none,
            iconUrl: I.some("https://assets.grammarly.com/cheetah/v1/actions/improve.svg"),
            label: "Improve your text"
          }
        };
        (e.toPreviousText = function (e) {
          return (0, c.zG)(
            e,
            I.fromPredicate((e) => e.alertPname in t),
            I.map((e) => ({ kind: "writerExpert", suggestionId: e.alertId, pname: e.alertPname, text: e.replacementText }))
          );
        }),
          (e.getInitialResult = function (e, n) {
            const i = r.left(new $.i().insert(e.replacementText));
            return (0, c.zG)(
              I.fromNullable(t[e.alertPname]),
              I.map((t) => ({
                kind: "complete",
                id: z.x.Id.create(0),
                header: t,
                replacementDelta: i,
                text: e.replacementText,
                references: I.none,
                source: I.none,
                changesSummary: I.none,
                timestamp: Date.now(),
                supportedActions: new Set([z.x.SupportedAction.insert].concat(n ? [z.x.SupportedAction.copy] : [])),
                boundaryContextId: I.none
              }))
            );
          });
      })(V || (V = {}));
      var K = n(2735),
        W = n(26320),
        q = n(63817),
        Q = n(3299),
        Y = n(41866),
        X = n(33305);
      const J = { CheetahFetchSkills: new (n(33290).Cc)("cheetah_fetch_skills") };
      var ee = n(63346),
        te = n(30816),
        ne = n(31699),
        ie = n(32426),
        re = n(4068),
        oe = n(65602),
        ae = n(87683);
      const se = new Uint32Array([
        1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278,
        1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122,
        1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205,
        773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771,
        3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063,
        1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298
      ]);
      function le(e, t, n, i, r) {
        let o, a, s, l, c, u, d, m, p, h, f, g, v;
        for (; r >= 64; ) {
          for (o = t[0], a = t[1], s = t[2], l = t[3], c = t[4], u = t[5], d = t[6], m = t[7], h = 0; h < 16; h++)
            (f = i + 4 * h), (e[h] = ((255 & n[f]) << 24) | ((255 & n[f + 1]) << 16) | ((255 & n[f + 2]) << 8) | (255 & n[f + 3]));
          for (h = 16; h < 64; h++)
            (p = e[h - 2]),
              (g = ((p >>> 17) | (p << 15)) ^ ((p >>> 19) | (p << 13)) ^ (p >>> 10)),
              (p = e[h - 15]),
              (v = ((p >>> 7) | (p << 25)) ^ ((p >>> 18) | (p << 14)) ^ (p >>> 3)),
              (e[h] = ((g + e[h - 7]) | 0) + ((v + e[h - 16]) | 0));
          for (h = 0; h < 64; h++)
            (g =
              ((((((c >>> 6) | (c << 26)) ^ ((c >>> 11) | (c << 21)) ^ ((c >>> 25) | (c << 7))) + ((c & u) ^ (~c & d))) | 0) +
                ((m + ((se[h] + e[h]) | 0)) | 0)) |
              0),
              (v = ((((o >>> 2) | (o << 30)) ^ ((o >>> 13) | (o << 19)) ^ ((o >>> 22) | (o << 10))) + ((o & a) ^ (o & s) ^ (a & s))) | 0),
              (m = d),
              (d = u),
              (u = c),
              (c = (l + g) | 0),
              (l = s),
              (s = a),
              (a = o),
              (o = (g + v) | 0);
          (t[0] += o), (t[1] += a), (t[2] += s), (t[3] += l), (t[4] += c), (t[5] += u), (t[6] += d), (t[7] += m), (i += 64), (r -= 64);
        }
        return i;
      }
      class ce {
        constructor() {
          (this.digestLength = 32),
            (this.blockSize = 64),
            (this.state = new Int32Array(8)),
            (this.temp = new Int32Array(64)),
            (this.buffer = new Uint8Array(128)),
            (this.bufferLength = 0),
            (this.bytesHashed = 0),
            (this.finished = !1),
            this.reset();
        }
        reset() {
          return (
            (this.state[0] = 1779033703),
            (this.state[1] = 3144134277),
            (this.state[2] = 1013904242),
            (this.state[3] = 2773480762),
            (this.state[4] = 1359893119),
            (this.state[5] = 2600822924),
            (this.state[6] = 528734635),
            (this.state[7] = 1541459225),
            (this.bufferLength = 0),
            (this.bytesHashed = 0),
            (this.finished = !1),
            this
          );
        }
        clean() {
          for (let e = 0; e < this.buffer.length; e++) this.buffer[e] = 0;
          for (let e = 0; e < this.temp.length; e++) this.temp[e] = 0;
          this.reset();
        }
        update(e, t = e.length) {
          if (this.finished) throw new Error("SHA256: can't update because hash was finished.");
          let n = 0;
          if (((this.bytesHashed += t), this.bufferLength > 0)) {
            for (; this.bufferLength < 64 && t > 0; ) (this.buffer[this.bufferLength++] = e[n++]), t--;
            64 === this.bufferLength && (le(this.temp, this.state, this.buffer, 0, 64), (this.bufferLength = 0));
          }
          for (t >= 64 && ((n = le(this.temp, this.state, e, n, t)), (t %= 64)); t > 0; ) (this.buffer[this.bufferLength++] = e[n++]), t--;
          return this;
        }
        finish(e) {
          if (!this.finished) {
            const e = this.bytesHashed,
              t = this.bufferLength,
              n = (e / 536870912) | 0,
              i = e << 3,
              r = e % 64 < 56 ? 64 : 128;
            this.buffer[t] = 128;
            for (let e = t + 1; e < r - 8; e++) this.buffer[e] = 0;
            (this.buffer[r - 8] = (n >>> 24) & 255),
              (this.buffer[r - 7] = (n >>> 16) & 255),
              (this.buffer[r - 6] = (n >>> 8) & 255),
              (this.buffer[r - 5] = (n >>> 0) & 255),
              (this.buffer[r - 4] = (i >>> 24) & 255),
              (this.buffer[r - 3] = (i >>> 16) & 255),
              (this.buffer[r - 2] = (i >>> 8) & 255),
              (this.buffer[r - 1] = (i >>> 0) & 255),
              le(this.temp, this.state, this.buffer, 0, r),
              (this.finished = !0);
          }
          for (let t = 0; t < 8; t++)
            (e[4 * t + 0] = (this.state[t] >>> 24) & 255),
              (e[4 * t + 1] = (this.state[t] >>> 16) & 255),
              (e[4 * t + 2] = (this.state[t] >>> 8) & 255),
              (e[4 * t + 3] = (this.state[t] >>> 0) & 255);
          return this;
        }
        digest() {
          const e = new Uint8Array(this.digestLength);
          return this.finish(e), e;
        }
        _saveState(e) {
          for (let t = 0; t < this.state.length; t++) e[t] = this.state[t];
        }
        _restoreState(e, t) {
          for (let t = 0; t < this.state.length; t++) this.state[t] = e[t];
          (this.bytesHashed = t), (this.finished = !1), (this.bufferLength = 0);
        }
      }
      new Uint8Array(32);
      var ue = function (e, t, n, i) {
        return new (n || (n = Promise))(function (r, o) {
          function a(e) {
            try {
              l(i.next(e));
            } catch (e) {
              o(e);
            }
          }
          function s(e) {
            try {
              l(i.throw(e));
            } catch (e) {
              o(e);
            }
          }
          function l(e) {
            var t;
            e.done
              ? r(e.value)
              : ((t = e.value),
                t instanceof n
                  ? t
                  : new n(function (e) {
                      e(t);
                    })).then(a, s);
          }
          l((i = i.apply(e, t || [])).next());
        });
      };
      function de(e, t) {
        switch (e.historyStatus) {
          case G.z.HistoryStatus.restoreDisabled:
            return e.historyStatus;
          case G.z.HistoryStatus.unknown:
          case G.z.HistoryStatus.noHistory:
          case G.z.HistoryStatus.hasHistory:
            return void 0 !== t ? (t > 0 ? G.z.HistoryStatus.hasHistory : G.z.HistoryStatus.noHistory) : G.z.HistoryStatus.unknown;
          case G.z.HistoryStatus.historyRequested:
          case G.z.HistoryStatus.historyRestored:
            return "started" === e.kind && void 0 !== e.results.find(z.x.isHistory)
              ? G.z.HistoryStatus.historyRestored
              : G.z.HistoryStatus.restoreDisabled;
          default:
            (0, _.L0)(e.historyStatus);
        }
      }
      function me(e, t = !1) {
        return (0, c.zG)(
          e.replacementDelta,
          r.fold(c.yR, ({ preferVoice: e, generic: n, user: i }) => (t ? (e === z.x.GeneratedTextVoice.generic ? n : i) : n)),
          (e) => (0, oe.l)(e, "")
        );
      }
      function pe(e) {
        return l.fj(() => ("started" === e.kind ? r.right(e) : r.left(new Error("Session not started"))));
      }
      function he(e, t, n, i) {
        var r;
        const a = (0, c.zG)(
          G.z.toStarted(n),
          I.fold(
            () => [],
            (e) => e.voiceProfile.roles
          )
        );
        return {
          kind: "newVoiceProfile",
          userName: e.userName,
          title: e.title,
          subTitle: e.subTitle,
          profiles: e.profiles,
          isEnabledByDefault: e.myVoiceIsEnabledByDefault.state,
          isEnabledByDefaultLabel: e.myVoiceIsEnabledByDefault.label,
          dialects: X.L.Dialect.all(),
          roles: (0, c.zG)(
            null !== (r = t.roles) && void 0 !== r ? r : [],
            o.UI((e) => ({ id: X.L.Role.Id.create(e), label: e })),
            (e) => (e.length > 0 ? e : a)
          ),
          selectedDialect: (0, c.zG)(
            G.z.toStarted(n),
            I.fold(
              () => X.L.Dialect.Id.create(i),
              (e) => e.voiceProfile.selectedDialect
            )
          ),
          selectedRole: (0, c.zG)(
            I.fromNullable(t.selectedRole),
            I.map((e) => e.trim()),
            I.filter((e) => "" !== e),
            I.map(X.L.Role.Id.create)
          ),
          needsSetup: !1
        };
      }
      function fe(e, t, n) {
        var i, r;
        const a = (0, c.zG)(
            G.z.toStarted(t),
            I.map((e) => e.voiceProfile),
            I.chain(X.L.toLegacyVoiceProfile),
            I.fold(
              () => [],
              (e) => e.styles
            )
          ),
          s = (0, c.zG)(
            G.z.toStarted(t),
            I.fold(
              () => [],
              (e) => e.voiceProfile.roles
            )
          ),
          l = (0, c.zG)(
            null !== (i = e.styles) && void 0 !== i ? i : [],
            o.UI((e) => ({
              id: X.L.Style.Id.create(e.button.label),
              label: e.button.label,
              iconUrl: e.button.iconUrl,
              tones: e.tones.map((e) => ({
                id: X.L.Tone.Id.create(e.label),
                label: e.label,
                iconUrl: e.iconUrl,
                description: e.description
              })),
              maxTones: e.maxTones,
              description: e.button.description
            })),
            (e) => (e.length > 0 ? e : a)
          ),
          u = X.L.Style.Id.create(e.selectedStyle),
          d = l.find((e) => X.L.Style.Id.eq.equals(e.id, u));
        return {
          kind: "legacyVoiceProfile",
          styles: l,
          roles: (0, c.zG)(
            null !== (r = e.roles) && void 0 !== r ? r : [],
            o.UI((e) => ({ id: X.L.Role.Id.create(e), label: e })),
            (e) => (e.length > 0 ? e : s)
          ),
          selectedStyle: u,
          selectedTonesPerStyle: new Map().set(
            u,
            new Set(e.selectedTones.filter((e) => (null == d ? void 0 : d.tones.map((e) => e.id.toString()).includes(e))))
          ),
          selectedRole: (0, c.zG)(
            I.fromNullable(e.selectedRole),
            I.map((e) => e.trim()),
            I.filter((e) => "" !== e),
            I.map(X.L.Role.Id.create)
          ),
          dialects: X.L.Dialect.all(),
          selectedDialect: (0, c.zG)(
            G.z.toStarted(t),
            I.fold(
              () => X.L.Dialect.Id.create(n),
              (e) => e.voiceProfile.selectedDialect
            )
          ),
          needsSetup: e.needSetup
        };
      }
      function ge(e, t, n, i, r) {
        return [
          ...(0, c.zG)(
            t,
            o.UI((n) => U.aU.createFollowUpQuestionActionInputOrQuickActionInput(n, t, i, r, e)),
            o.oA
          ),
          ...n.map((e) => U.aU.createSkillAction(e, i))
        ];
      }
      function ve(e, t) {
        const n = (0, c.zG)(
          e.args,
          o.YM,
          I.map((t) => ({
            id: U.aU.Id.create(e.id),
            kind: "userPrompt",
            arg: {
              id: U.pY.Id.create(t.name),
              kind: "string",
              label: t.label,
              hints: (0, c.zG)(
                I.fromNullable(t.hint),
                I.map((e) => ({ header: e.header, items: e.text }))
              )
            },
            generatesTextType: I.some(F.cX.Insertable),
            useReferences: I.none,
            omitReferenceIds: I.none,
            disabled: void 0 !== e.disabled,
            notificationOnAttempt: (0, c.zG)(
              I.fromNullable(e.disabled),
              I.chain(({ onActionNotification: e }) => I.fromNullable(e)),
              I.map(({ text: e }) => e)
            )
          }))
        );
        return (
          I.isNone(n) &&
            t.warn("_extractUserPromptAction() - failed to extract user prompt action, received empty action args", { promptAction: e }),
          n
        );
      }
      function xe(e) {
        return {
          kind: "quickRewrite",
          id: U.aU.Id.create(e.id),
          label: (0, ne.sanitize)(e.label, { ALLOWED_TAGS: ae.ap }),
          iconUrl: e.iconUrl,
          generatesTextType: I.fromNullable(e.generatesTextType),
          disabled: void 0 !== e.disabled,
          notificationOnAttempt: (0, c.zG)(
            I.fromNullable(e.disabled),
            I.chain(({ onActionNotification: e }) => I.fromNullable(e)),
            I.map(({ text: e }) => e)
          )
        };
      }
      function ye(e) {
        return (0, c.zG)(
          I.fromNullable(e),
          I.map((e) => (0, ne.sanitize)(e, { ALLOWED_TAGS: [...ae.ap, "person"] })),
          I.map((e) => e.trim()),
          I.filter((e) => e.length > 0)
        );
      }
      function be(e) {
        return { kind: z.x.isComplete(e) ? "regular" : z.x.isHistory(e) ? "history" : (0, _.L0)(e), text: me(e) };
      }
      function ke(e) {
        return (0, c.zG)(
          I.fromNullable(e.references),
          I.map((t) =>
            t.map((t) => {
              var n;
              return Object.assign(Object.assign({}, t), {
                id: Q.s.Id.create(t.id),
                url: I.fromNullable(t.url),
                contextText: (0, c.zG)(
                  I.fromNullable(null === (n = e.metadata) || void 0 === n ? void 0 : n.knowledge_engine_references),
                  I.chainNullableK((e) => {
                    const n = Array.isArray(e) ? e.find((e) => e.id === t.id) : void 0,
                      i = null == n ? void 0 : n.contextText;
                    return "string" == typeof i ? i : void 0;
                  })
                )
              });
            })
          )
        );
      }
      const we = I.fromNullable;
      function Ce(e) {
        switch (e) {
          case "ideation":
            return F.s2.Ideation;
          case "rewrite":
            return F.s2.Rewrite;
          case "quickRewrite":
            return F.s2.QuickRewrite;
          case "quickReply":
            return F.s2.QuickReply;
          case "pushRewrite":
            return F.s2.PushRewrite;
          default:
            return (0, _.L0)(e);
        }
      }
      function Se(e) {
        const t = (0, c.zG)(
            e,
            I.fromPredicate(
              (e) =>
                (function (e) {
                  return L.w.isIdeation(e.mode);
                })(e) && !!e.documentUrl
            ),
            I.map((e) => e.documentUrl),
            I.chain(I.fromNullable),
            I.chain(_e),
            I.map((e) => ({ pageIdHash: e }))
          ),
          n = (0, c.zG)(
            e,
            I.fromPredicate(D),
            I.map((e) => re.H.toOuterContext(e.quickReplyContext))
          );
        return I.getMonoid((0, ie.getFirstSemigroup)()).concat(t, n);
      }
      function Ee(e) {
        return (0, c.zG)(e.quickReplyContext, I.map(re.H.toOuterContext));
      }
      function _e(e) {
        var t;
        return (0, c.zG)(
          null !==
            (t = (function (e) {
              var t;
              return null === (t = e.match(/^https:\/\/docs.google.com\/[a-zA-Z0-9-_]+\/d\/([a-zA-Z0-9-_]+)/)) || void 0 === t
                ? void 0
                : t[1];
            })(e)) && void 0 !== t
            ? t
            : (function (e) {
                var t;
                const n =
                  null !== (t = e.match(/^https:\/\/([a-zA-Z0-9-_]+).atlassian.net\/wiki\/spaces\/[a-zA-Z0-9-_]+\/pages\/([0-9]+)/)) &&
                  void 0 !== t
                    ? t
                    : [];
                return n[1] && n[2] ? `${n[1]}:${n[2]}` : void 0;
              })(e),
          I.fromNullable,
          I.map(Ie)
        );
      }
      function Ie(e) {
        const t = new TextEncoder().encode(e);
        return te.Buffer.from(
          (function (e) {
            const t = new ce().update(e),
              n = t.digest();
            return t.clean(), n;
          })(t)
        )
          .toString("base64")
          .replace(/\+/g, "-")
          .replace(/\//g, "_")
          .replace(/=/g, "");
      }
      function Ae(e, t, n, o, a) {
        var s, l;
        return ue(this, void 0, void 0, function* () {
          if ((null == a ? void 0 : a.contextUpdatesServer) && !M._.isPending(e) && n.textRevision === I.toUndefined(e.textRevision)) {
            const a = (0, c.zG)(
              I.isNone(n.selectedRange)
                ? (0, c.zG)(
                    I.fromNullable(null === (s = t.context) || void 0 === s ? void 0 : s.textScope),
                    I.filter((e) => e.start !== e.end)
                  )
                : (0, c.zG)(
                    i.Y(I.option)({
                      currentSelectionRange: n.selectedRange,
                      backendSelectionRange: I.fromNullable(null === (l = t.context) || void 0 === l ? void 0 : l.textScope)
                    }),
                    I.filter(({ currentSelectionRange: e, backendSelectionRange: t }) => e.start !== t.start || e.end !== t.end),
                    I.map(({ backendSelectionRange: e }) => e)
                  ),
              I.toUndefined
            );
            if (a) {
              if (a.start === a.end) return r.right(I.none);
              {
                const t = yield o(a)();
                return r.right(
                  (0, c.zG)(
                    I.fromEither(t),
                    I.map((e) => ({ text: e, range: a })),
                    I.alt(() => e.selection)
                  )
                );
              }
            }
            return r.left(void 0);
          }
          return r.left(void 0);
        });
      }
      var Be = function (e, t, n, i) {
          return new (n || (n = Promise))(function (r, o) {
            function a(e) {
              try {
                l(i.next(e));
              } catch (e) {
                o(e);
              }
            }
            function s(e) {
              try {
                l(i.throw(e));
              } catch (e) {
                o(e);
              }
            }
            function l(e) {
              var t;
              e.done
                ? r(e.value)
                : ((t = e.value),
                  t instanceof n
                    ? t
                    : new n(function (e) {
                        e(t);
                      })).then(a, s);
            }
            l((i = i.apply(e, t || [])).next());
          });
        },
        Re = function (e, t) {
          var n = {};
          for (var i in e) Object.prototype.hasOwnProperty.call(e, i) && t.indexOf(i) < 0 && (n[i] = e[i]);
          if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
            var r = 0;
            for (i = Object.getOwnPropertySymbols(e); r < i.length; r++)
              t.indexOf(i[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, i[r]) && (n[i[r]] = e[i[r]]);
          }
          return n;
        };
      class Oe {
        constructor(e) {
          var t, n, i, r, o;
          if (
            ((this._params = e),
            (this._subs = new p.w.Keeper()),
            (this._session = O.h.create(G.z.Starting.initial(this._params.startSessionOptions.mode))),
            (this._resultById = new Map()),
            (this._contextIdByResultId = new Map()),
            (this._contextById = new Map()),
            (this._historyResultIdByGetContextMessageId = new Map()),
            (this._contextMessageIdsTriggeredBySelectionChanges = new Set()),
            (this._stateBlobByContextId = new Map()),
            (this._initialReceivedContext = null),
            (this._upstreamDialect = O.h.create(X.L.Dialect.Id.create("american"))),
            (this._cheetahAckIds = new Set()),
            (this._searchReferencesUrlsById = new Map()),
            (this._cheetahAckHandlers = new Array()),
            (this._resultTimeout = void 0),
            (this._contextTimeout = void 0),
            (this._historyTimeout = void 0),
            (this._cheetahAckTimeout = void 0),
            (this._historyAckHandler = void 0),
            (this._skills = []),
            (this._resultTimeoutMs = null !== (t = this._params.resultTimeoutMs) && void 0 !== t ? t : 2e4),
            (this._contextTimeoutMs = null !== (n = this._params.contextTimeoutMs) && void 0 !== n ? n : 2e4),
            (this._historyTimeoutMs = null !== (i = this._params.historyTimeoutMs) && void 0 !== i ? i : 2e4),
            (this._cheetahAckTimeoutMs = null !== (r = this._params.cheetahAckTimeoutMs) && void 0 !== r ? r : 2e4),
            (this._logger = null !== (o = this._params.logger) && void 0 !== o ? o : new ee.W(Oe.name)),
            (this._notificationHandler = null),
            (this.session = this._session.view()),
            (this._handleCAPIMessage = (e) => {
              switch (e.action) {
                case "error":
                  return this._handleError(e);
                case "cheetah":
                  return this._handleCheetahAck(e);
                case "cheetah:setContext":
                  return void this._handleCheetahSetContext(e);
                case "cheetah:chunk":
                  return this._handleCheetahChunk(e);
                case "cheetah:result":
                  return void this._handleCheetahResult(e);
                case "cheetah:error":
                  return this._handleCheetahError(e);
                case "cheetah:setUserState":
                  return this._handleCheetahSetUserState(e);
                case "cheetah:searchReferencesResult":
                  return this._handleCheetahSearchReferencesResult(e);
                case "cheetah:invalidateContext":
                  return this._getContext();
                case "cheetah:setHistory":
                  return this._handleCheetahSetHistory(e);
                case "show_survey":
                case "emotions":
                case "finished":
                case "async_check_finished":
                  return;
                default:
                  return this._logger.warn("Received unexpected CAPI message", e), (0, _.L0)(e);
              }
            }),
            Z(this._params.startSessionOptions))
          ) {
            const e = this._params.textEditorService.selectedRange.get();
            (0, c.zG)(
              e,
              I.fold(
                () => this._init(),
                (e) =>
                  (0, W.t)(
                    "getText",
                    this._params.textEditorService.getText(e),
                    this._logger,
                    (t) => this._init({ selectedRange: e, selectedText: t }),
                    (t) => {
                      this._logger.warn("getText() - failed to get text from host, defaulting to empty text", {
                        selectedRange: e,
                        error: t
                      }),
                        this._params.monitoringService.notify((0, j.L)((0, P.q_)({ textRange: e, rawError: (0, K.N)(t) }))),
                        this._init();
                    }
                  )
              )
            );
          } else this._init();
        }
        registerNotificationHandler(e) {
          this._notificationHandler = e;
        }
        _pushNotification(e) {
          var t;
          null === (t = this._notificationHandler) || void 0 === t || t.call(this, e);
        }
        _init(e) {
          var t, n;
          this._session.set({
            kind: "starting",
            mode: this._params.startSessionOptions.mode,
            selectedRange: I.fromNullable(null == e ? void 0 : e.selectedRange),
            selectedText: (0, c.zG)(
              I.fromNullable(null == e ? void 0 : e.selectedText),
              I.filter((e) => e.length > 0)
            ),
            quickReplyContext: I.fromNullable(
              D(this._params.startSessionOptions) ? this._params.startSessionOptions.quickReplyContext : void 0
            ),
            writingExpertContext: I.fromNullable(
              H(this._params.startSessionOptions) ? this._params.startSessionOptions.writingExpertContext : void 0
            ),
            historyStatus: G.z.HistoryStatus.unknown,
            error: I.none,
            textRevision: 0,
            selectionContextStatus:
              this._params.selectionContextAvailability &&
              (null === (t = this._params.selectionContextAvailability.get()) || void 0 === t ? void 0 : t.contextUpdatesClient)
                ? G.z.SelectionContextStatus.dynamic
                : G.z.SelectionContextStatus.static
          }),
            this._subs.push(this._params.capiService.relevantInboundCAPIMessages.subscribe((e) => this._handleCAPIMessage(e))),
            this._subs.push(
              this._params.userService.user.view("dialect").view(X.L.Dialect.Id.create).subscribe(h.wW(this._upstreamDialect))
            ),
            this._subs.push(this._upstreamDialect.subscribe((e) => this._handleUpstreamDialectChange(e))),
            this._subs.push(this._session.subscribe((e) => this._logger.debug("Session updated:", e))),
            this._subs.push(
              this._session
                .pipe(
                  (0, u.x)((e, t) => e.kind === t.kind),
                  (0, d.P)((e) => "started" === e.kind)
                )
                .subscribe(() => {
                  this._params.trackingService.trackReadyToInteract();
                })
            ),
            this._params.selectionContextAvailability &&
              this._setUpSelectionAvailabilityChangeHandlers(this._params.selectionContextAvailability),
            this._params.selectionContextAvailability && null === this._params.selectionContextAvailability.get()
              ? f
                  .S3([
                    this._params.selectionContextAvailability.pipe(g.h((e) => null !== e)),
                    v.H(null !== (n = this._params.selectionContextAvailabilityWaitTimeoutMs) && void 0 !== n ? n : 2e3)
                  ])
                  .pipe(x.q(1))
                  .subscribe(() => {
                    this._startSession(this._params.startSessionOptions);
                  })
              : this._startSession(this._params.startSessionOptions);
        }
        _startSession(e, t) {
          (0, W.t)("flush", this._params.textEditorService.flush(), this._logger, () => {
            var n, r;
            const o = Z(e) ? this._params.textEditorService.selectedRange.get() : I.fromNullable(void 0),
              a = Se(e),
              s = I.fromNullable(H(e) ? e.writingExpertContext : void 0),
              u = {
                generationMode: Ce(e.mode),
                selectedRange: I.toUndefined(o),
                outerContext: I.toUndefined(a),
                stateBlob: t,
                metadata: e.metadata,
                previousText: (0, c.zG)(s, I.chain(V.toPreviousText), I.toUndefined),
                includeDisabledActions:
                  this._params.selectionContextAvailability &&
                  (null === (n = this._params.selectionContextAvailability.get()) || void 0 === n ? void 0 : n.contextUpdatesServer) &&
                  (null === (r = this._params.selectionContextAvailability.get()) || void 0 === r ? void 0 : r.contextUpdatesClient)
              };
            if (this._params.skillService) {
              const e = {
                skills: this._params.skillService.getSkills(),
                shouldShowSkills: (0, c.zG)(
                  this._params.experimentService ? this._params.experimentService.isGateEnabled(J.CheetahFetchSkills) : l.F2(!1),
                  l.Vn((e) => new Error(e))
                )
              };
              (0, W.t)(
                "getSkills",
                i.Y(W.L)(e),
                this._logger,
                ({ skills: e, shouldShowSkills: t }) => {
                  t &&
                    ((this._skills = e),
                    (0, c.zG)(
                      G.z.toStarted(this._session.get()),
                      I.filter((e) => !e.activeContext.availableActions.some((e) => "skillAction" === e.kind)),
                      A.bw((e) =>
                        this._session.set(
                          Object.assign(Object.assign({}, e), {
                            activeContext: Object.assign(Object.assign({}, e.activeContext), {
                              availableActions: e.activeContext.availableActions.concat(
                                this._skills.map((e) => U.aU.createSkillAction(e, this._session.get().mode))
                              )
                            }),
                            activeBoundaryContext: Object.assign(Object.assign({}, e.activeBoundaryContext), {
                              availableActions: e.activeBoundaryContext.availableActions.concat(
                                this._skills.map((e) => U.aU.createSkillAction(e, this._session.get().mode))
                              )
                            })
                          })
                        )
                      )
                    ));
                },
                (e) => this._params.monitoringService.notify((0, j.L)((0, Y.YC)({ rawError: (0, K.N)(e) })))
              );
            }
            this._getContext(u);
          });
        }
        _setUpSelectionAvailabilityChangeHandlers(e) {
          const t = e.pipe(y.U((e) => !!(null == e ? void 0 : e.contextUpdatesClient)));
          this._subs.push(
            t
              .pipe(
                b.w((e) =>
                  e
                    ? this._params.textEditorService.selectedRange.pipe(
                        k.T(1),
                        w.oA,
                        C.e(500),
                        S.b((e) => {
                          this._handleSelectedRangeUpdate(e);
                        })
                      )
                    : E.E
                )
              )
              .subscribe()
          ),
            this._subs.push(
              t
                .pipe(
                  b.w((e) =>
                    e
                      ? this._params.textEditorService.textUpdated.pipe(
                          S.b(() => {
                            this._handleTextUpdated();
                          })
                        )
                      : E.E
                  )
                )
                .subscribe()
            ),
            this._subs.push(
              t
                .pipe(
                  S.b((e) => {
                    this._session.modify((t) =>
                      Object.assign(Object.assign({}, t), {
                        selectionContextStatus: e ? G.z.SelectionContextStatus.dynamic : G.z.SelectionContextStatus.static
                      })
                    );
                  })
                )
                .subscribe()
            );
        }
        _handleSelectedRangeUpdate(e) {
          this._logger.debug("_handleSelectedRangeUpdate()", { selectedRange: e }),
            (0, W.t)("getText", this._params.textEditorService.getText(e), this._logger, (t) => {
              t.trim().length
                ? (this._session.modify(
                    G.z.fold({
                      starting: c.yR,
                      started: (n) =>
                        Object.assign(Object.assign({}, n), {
                          mode: "rewrite",
                          activeContext: Object.assign(Object.assign({}, n.activeContext), {
                            kind: "pending",
                            isBoundary: !0,
                            textRevision: I.some(n.textRevision),
                            selection: I.some({ text: t, range: e })
                          }),
                          activeBoundaryContext: Object.assign(Object.assign({}, n.activeBoundaryContext), {
                            kind: "pending",
                            isBoundary: !0,
                            textRevision: I.some(n.textRevision),
                            selection: I.some({ text: t, range: e })
                          }),
                          selectedRange: I.some(e),
                          selectedText: (0, c.zG)(
                            I.some(t),
                            I.filter((e) => e.length > 0)
                          )
                        })
                    })
                  ),
                  this._getContext(void 0, void 0, !0))
                : this._session.modify((e) => Object.assign(Object.assign({}, e), { selectedRange: I.none, selectedText: I.none }));
            });
        }
        _handleTextUpdated() {
          this._logger.debug("_handleTextUpdated()"),
            this._session.modify(
              G.z.fold({ starting: c.yR, started: (e) => Object.assign(Object.assign({}, e), { textRevision: e.textRevision + 1 }) })
            );
        }
        submitAction(e, t) {
          this._logger.debug("submitAction()", { actionValue: e, selectedVoice: t }),
            this._submitAction(e, void 0, void 0, void 0, void 0, t);
        }
        setVoiceProfile(e) {
          return (
            this._logger.debug("setVoiceProfile()", { voiceProfileSelections: e }),
            (0, c.zG)(
              pe(this._session.get()),
              l.UI(
                (t) => (
                  this._session.set(
                    Object.assign(Object.assign({}, t), {
                      voiceProfile: Object.assign(Object.assign({}, t.voiceProfile), e),
                      activeContext: Object.assign(Object.assign({}, t.activeContext), { kind: "pending" })
                    })
                  ),
                  t
                )
              ),
              l.tS((t) =>
                (0, c.zG)(
                  this._params.capiService.cheetahSetVoice({
                    voice: {
                      selectedStyle: e.selectedStyle,
                      selectedTones: Array.from(e.selectedTonesPerStyle.get(e.selectedStyle) || []),
                      selectedRole: (0, c.zG)(e.selectedRole, I.toUndefined),
                      needSetup: !1
                    }
                  }),
                  l.Pd(
                    (e) => new Error(`CAPIService.cheetahSetVoice error: ${e.message}`),
                    () => !X.L.Dialect.Id.eq.equals(t.voiceProfile.selectedDialect, e.selectedDialect)
                  ),
                  l.tS((t) =>
                    t
                      ? i.g(l.qA)(
                          (0, c.zG)(
                            this._params.capiService.set_context({ documentContext: { dialect: e.selectedDialect } }),
                            l.Vn((e) => new Error(`CAPIService.setContext error: ${e.message}`))
                          ),
                          (0, c.zG)(
                            this._params.userService.setDialect(e.selectedDialect),
                            l.Vn((e) => new Error(`CAPIService.setDialect error: ${e.message}`))
                          )
                        )
                      : l.of(null)
                  ),
                  l.Pd((e) => (this._params.monitoringService.notify((0, j.L)((0, P.TX)({ rawError: (0, K.N)(e) }))), e), c.Q1)
                )
              )
            )
          );
        }
        setNewVoiceProfile(e) {
          var { selectedDialect: t } = e,
            n = Re(e, ["selectedDialect"]);
          return (
            this._logger.debug("setNewVoiceProfile()", { dialect: t, voiceProfile: n }),
            (0, c.zG)(
              pe(this._session.get()),
              l.UI(
                (e) => (
                  this._session.set(
                    Object.assign(Object.assign({}, e), {
                      activeContext: Object.assign(Object.assign({}, e.activeContext), { kind: "pending" })
                    })
                  ),
                  e
                )
              ),
              l.tS((e) =>
                (0, c.zG)(
                  this._params.capiService.cheetahSetVoiceProfile({
                    role: (0, c.zG)(n.selectedRole, I.toUndefined),
                    isEnabledByDefault: n.isEnabledByDefault,
                    profiles: n.profiles
                  }),
                  l.Pd(
                    (e) => new Error(`CAPIService.cheetahSetVoice error: ${e.message}`),
                    () => !X.L.Dialect.Id.eq.equals(e.voiceProfile.selectedDialect, t)
                  ),
                  l.tS((e) =>
                    e
                      ? i.g(l.qA)(
                          (0, c.zG)(
                            this._params.capiService.set_context({ documentContext: { dialect: t } }),
                            l.Vn((e) => new Error(`CAPIService.setContext error: ${e.message}`))
                          ),
                          (0, c.zG)(
                            this._params.userService.setDialect(t),
                            l.Vn((e) => new Error(`CAPIService.setDialect error: ${e.message}`))
                          )
                        )
                      : l.of(null)
                  ),
                  l.Pd((e) => (this._params.monitoringService.notify((0, j.L)((0, P.Jr)({ rawError: (0, K.N)(e) }))), e), c.Q1)
                )
              )
            )
          );
        }
        stopInProgressResult() {
          return (
            this._logger.debug("stopInProgressResult()"),
            (0, c.zG)(
              this._session.get(),
              l.DT(G.z.isStartedWithInProgressResult, () => new Error("Session has no in-progress result.")),
              l.tS(
                (e) => (
                  this._clearResultRelatedTimeouts(),
                  this._session.modify((t) =>
                    Object.assign(Object.assign({}, t), {
                      activeContext: (0, c.zG)(
                        e.results.length > 0 ? this._extractLatestResultContext(e) : this._extractInitialContext(),
                        I.getOrElse(() => e.activeContext)
                      ),
                      inProgressResult: z.x.isInProgressPending(e.inProgressResult.value)
                        ? I.some(Object.assign(Object.assign({}, e.inProgressResult.value), { kind: "inProgressInterrupted" }))
                        : z.x.isInProgressInterrupted(e.inProgressResult.value)
                        ? e.inProgressResult
                        : z.x.isInProgressOngoing(e.inProgressResult.value)
                        ? I.none
                        : (0, _.L0)(e.inProgressResult.value)
                    })
                  ),
                  (0, c.zG)(
                    e.inProgressResult.value,
                    I.fromPredicate(z.x.isInProgressOngoing),
                    I.fold(
                      () => l.of(-1),
                      (e) => this._params.capiService.cheetahInterrupt({ promptId: z.x.Id.toPrimitive(e.id) })
                    )
                  )
                )
              ),
              l.Pd((e) => (this._params.monitoringService.notify((0, j.L)((0, P.Lp)({ rawError: (0, K.N)(e) }))), e), c.Q1)
            )
          );
        }
        regenerateResult(e, t, n) {
          this._logger.debug("regenerateResult()", { resultId: e, options: t, selectedVoice: n }),
            (0, c.zG)(
              G.z.toStarted(this._session.get()),
              A.ew(() =>
                this._logger.warn("regenerateResult() - trying to regenerate result with a session that is not `started`, skipping", {
                  session: this._session.get(),
                  resultId: e
                })
              ),
              I.chain((t) =>
                (0, c.zG)(
                  I.fromNullable(this._resultById.get(e)),
                  I.filter(z.x.isComplete),
                  I.filter((e) => e.supportedActions.has(z.x.SupportedAction.rephrase)),
                  I.map((e) => ({ session: t, result: e })),
                  A.ew(() => {
                    this._logger.warn("regenerateResult() - could not find a rephraseable result for provided result ID, skipping", {
                      session: t,
                      resultId: e
                    }),
                      this._params.monitoringService.notify((0, j.L)((0, P.g0)({ resultId: e, reason: "not-found" })));
                  })
                )
              ),
              I.chain(({ session: t, result: n }) =>
                (0, c.zG)(
                  i.Y(I.option)({ resultSource: n.source, boundaryContextId: n.boundaryContextId }),
                  I.map(({ resultSource: e, boundaryContextId: i }) => ({
                    resultSource: e,
                    boundaryContextId: i,
                    resultText: me(n),
                    session: t
                  })),
                  A.ew(() => {
                    this._logger.warn("regenerateResult() - trying to regenerate result without source action or boundaryContext", {
                      session: t,
                      result: n
                    }),
                      this._params.monitoringService.notify((0, j.L)((0, P.g0)({ resultId: e, reason: "no-source-action" })));
                  })
                )
              ),
              I.map(({ resultSource: i, boundaryContextId: r, resultText: o }) => {
                const s = i.actionValue,
                  l = I.getMonoid(a.jG()).concat,
                  u = (0, c.zG)(
                    s,
                    I.fromPredicate(U.aU.isUserPromptActionValue),
                    I.fold((0, c.a9)(s), (e) =>
                      Object.assign(Object.assign({}, e), { omitReferenceIds: l(e.omitReferenceIds, t.omitReferenceIds) })
                    )
                  ),
                  d = this._contextIdByResultId.get(e);
                void 0 === d &&
                  this._params.monitoringService.notify(
                    (0, j.L)({ kind: "warn", source: "core", name: "regenerateResultContextNotFound", data: null })
                  ),
                  this._submitAction(u, i.contextId, d, r, { kind: "regular", text: o }, n),
                  this._params.trackingService.trackResultRephrase(d);
              })
            );
        }
        searchReferences(e) {
          const t = this._session.get();
          "started" === t.kind
            ? t.detectedReferences.has(e) ||
              (this._session.set(Object.assign(Object.assign({}, t), { detectedReferences: new Map(t.detectedReferences).set(e, I.none) })),
              this._setupCheetahAckHandler("searchReferences", (t) => {
                this._searchReferencesUrlsById.set(t, e);
              }),
              (0, W.t)("cheetahSearchReferences", this._params.capiService.cheetahSearchReferences({ url: e }), this._logger))
            : this._logger.warn("searchReferences() - trying to search a reference with a session that is not `started`, skipping", {
                session: t
              });
        }
        dismissResult(e) {
          this._logger.debug("dismissResult()", { resultId: e });
          const t = this._session.get();
          let n = null;
          if ("started" === t.kind) {
            if (this._resultById.delete(e)) {
              const i = t.results.findIndex((t) => t.id === e);
              n = t.results[i];
              let r = t.activeContext,
                o = t.activeBoundaryContext,
                a = null;
              if (0 === i && t.results.length > 1) {
                this._logger.debug("dismissResult() - dismissing latest result, will try to restore context from previous result", {
                  session: t,
                  resultId: e
                });
                const n = I.toUndefined(this._extractPreviousResultContext(t)),
                  i = (0, c.zG)(
                    this._extractPreviousResultBoundaryContext(t),
                    I.alt(() => I.fromNullable(this._initialReceivedContext)),
                    I.toUndefined
                  ),
                  s = I.toUndefined(this._extractLatestResultBoundaryContext(t));
                n
                  ? i !== s
                    ? (this._logger.debug(
                        "dismissResult() - previous result was for different boundary context, will keep currently active boundary context",
                        { session: t, resultId: e }
                      ),
                      (r = t.activeBoundaryContext))
                    : (this._logger.debug("dismissResult() - found context for previous result, will restore its context", {
                        session: t,
                        resultId: e,
                        previousResultContext: n
                      }),
                      (r = n),
                      i && (o = i))
                  : t.results[1] &&
                    z.x.isHistory(t.results[1]) &&
                    (0, c.zG)(
                      I.fromNullable(this._contextIdByResultId.get(t.results[1].id)),
                      I.chain((e) => I.fromNullable(this._contextById.get(e))),
                      I.isNone
                    )
                  ? (a = t.results[1].id)
                  : this._logger.warn("dismissResult() - could not find context for previous result, context will not be updated", {
                      session: t,
                      resultId: e
                    });
              } else 1 === t.results.length && (r = t.activeBoundaryContext);
              this._session.set(
                Object.assign(Object.assign({}, t), {
                  activeContext: Object.assign(Object.assign({}, r), {
                    kind: null !== a ? "pending" : r.kind,
                    availableActions: a ? [] : r.availableActions
                  }),
                  activeBoundaryContext: o,
                  results: t.results.filter((t) => !z.x.Id.eq.equals(t.id, e))
                })
              );
              const s = this._contextIdByResultId.get(e);
              this._params.trackingService.trackResultDismiss(s, z.x.isHistory(n) ? e : void 0),
                "aiUsageNotification" === n.kind && this._params.trackingService.trackAINotificationDismiss("document"),
                a && this._getContext(void 0, a);
            } else
              this._logger.warn("dismissResult() - could not find result for provided result ID, skipping", { session: t, resultId: e });
          } else
            this._logger.warn("dismissResult() - trying to dismiss result with a session that is not `started`, skipping", {
              session: t,
              resultId: e
            });
        }
        dismissError() {
          this._logger.debug("dismissError()"), this._session.lens("error").set(I.none);
        }
        restoreHistory() {
          this._getHistory();
        }
        trackResultInsert(e, t = !1) {
          this._logger.debug("trackResultInsert()", { resultId: e });
          const n = this._resultById.get(e);
          if (n) {
            const i = this._contextIdByResultId.get(e);
            this._params.trackingService.trackResultInsert(i, z.x.isHistory(n) ? n.id : void 0, t);
          } else this._logger.warn("trackResultInsert() - could not find result for provided result ID, skipping", { resultId: e });
        }
        trackResultCopy(e) {
          this._logger.debug("trackResultCopy()", { resultId: e });
          const t = this._resultById.get(e);
          if (t) {
            const n = this._contextIdByResultId.get(e);
            this._params.trackingService.trackResultCopy(n, z.x.isHistory(t) ? t.id : void 0);
          } else this._logger.warn("trackResultCopy() - could not find result for provided result ID, skipping", { resultId: e });
        }
        _trackResultGenerationCompleted(e) {
          this._logger.debug("trackResultGenerationCompleted()", { resultId: e });
          const t = this._resultById.get(e);
          if (t) {
            const n = this._contextIdByResultId.get(e);
            this._params.trackingService.trackResultGenerationCompleted(n, z.x.isHistory(t) ? t.id : void 0);
          } else
            this._logger.warn("trackResultGenerationCompleted() - could not find result for provided result ID, skipping", { resultId: e });
        }
        trackResultOffensive(e) {
          this._logger.debug("trackResultOffensive()", { resultId: e });
          const t = this._resultById.get(e);
          if (t) {
            const n = this._contextIdByResultId.get(e);
            this._params.trackingService.trackResultOffensive(n, z.x.isHistory(t) ? t.id : void 0);
          } else this._logger.warn("trackResultOffensive() - could not find result for provided result ID, skipping", { resultId: e });
        }
        trackActionsOffensive() {
          this._logger.debug("trackActionsOffensive()");
          const e = this._session.get();
          if ("started" !== e.kind)
            return this._logger.warn(
              "trackActionsOffensive() - tracking actions as offensive with a session that is not `started`, skipping"
            );
          this._params.trackingService.trackActionsOffensive(e.activeContext.id);
        }
        getContextById(e) {
          return I.fromNullable(this._contextById.get(e));
        }
        dismissActiveBoundaryContext() {
          if (
            (this._logger.debug("dismissActiveBoundaryContext()"),
            (0, c.zG)(
              G.z.toStarted(this._session.get()),
              A.wo((e) => e.activeContext.id !== e.activeBoundaryContext.id)
            ))
          )
            return this._logger.warn("dismissActiveBoundaryContext() - there are results within this boundary, can't remove");
          const e = I.toNullable(
              (0, c.zG)(
                this._session.get(),
                G.z.toStarted,
                I.chain((e) => this._extractLatestResultContext(e))
              )
            ),
            t = I.toNullable(
              (0, c.zG)(
                this._session.get(),
                G.z.toStarted,
                I.chain((e) => this._extractLatestResultBoundaryContext(e)),
                I.alt(() => this._extractInitialContext())
              )
            );
          this._session.modify(
            G.z.fold({
              starting: c.yR,
              started: (n) =>
                e && t
                  ? Object.assign(Object.assign({}, n), {
                      mode: n.results.length ? n.mode : "ideation",
                      activeContext: e,
                      activeBoundaryContext: t
                    })
                  : Object.assign(Object.assign({}, n), {
                      kind: "starting",
                      activeContext: Object.assign(Object.assign({}, n.activeContext), { selection: I.none, kind: "pending" }),
                      activeBoundaryContext: void 0,
                      selectedRange: I.none,
                      selectedText: I.none
                    })
            })
          ),
            (e && t) || this._getContext();
        }
        dispose() {
          this._subs.dispose();
        }
        _getContext(e, t, n = !1) {
          var i, r;
          this._logger.debug("_getContext()", { data: e, fetchContextForHistoryCardId: t }),
            this._setupCheetahAckHandler("getContext", (e) => {
              this._setupContextTimeout("getContext"),
                void 0 !== t && this._historyResultIdByGetContextMessageId.set(e, t),
                n && this._contextMessageIdsTriggeredBySelectionChanges.add(e);
            });
          const o = this._session.get();
          (0, W.t)(
            "cheetahGetContext",
            this._params.capiService.cheetahGetContext(
              null != e
                ? e
                : {
                    generationMode: Ce(n ? "rewrite" : o.mode),
                    selectedRange: I.toUndefined(o.selectedRange),
                    outerContext: I.toUndefined(Ee(o)),
                    stateBlob: (0, c.zG)(
                      G.z.toStarted(o),
                      I.map((e) => e.activeContext),
                      I.fold(c.r5, (e) => this._stateBlobByContextId.get(e.id))
                    ),
                    previousText:
                      !n && "started" === o.kind && o.results.length > 0 && z.x.isStandardCompletedResult(o.results[0])
                        ? be(o.results[0])
                        : void 0,
                    includeDisabledActions:
                      this._params.selectionContextAvailability &&
                      (null === (i = this._params.selectionContextAvailability.get()) || void 0 === i ? void 0 : i.contextUpdatesServer) &&
                      (null === (r = this._params.selectionContextAvailability.get()) || void 0 === r ? void 0 : r.contextUpdatesClient)
                  }
            ),
            this._logger,
            () =>
              this._params.monitoringService.notify((0, j.L)({ kind: "info", source: "core", name: "getContextSuccessful", data: null })),
            () => {
              const e = N.createCriticalError((0, c.zG)(G.z.toStarting(this._session.get()), I.isSome));
              this._session.modify(
                G.z.fold({
                  starting: (t) => Object.assign(Object.assign({}, t), { error: I.some(e) }),
                  started: (t) => Object.assign(Object.assign({}, t), { error: I.some(e), inProgressResult: I.none })
                })
              ),
                this._params.monitoringService.notify((0, j.L)((0, P.$E)()));
            }
          );
        }
        _handleCheetahSetContext(e) {
          var t, n;
          return Be(this, void 0, void 0, function* () {
            this._logger.debug("_handleCheetahSetContext()", { message: e }), this._clearContextTimeout();
            const o = this._session.get(),
              a = (0, c.zG)(
                I.fromNullable(null === (t = e.context) || void 0 === t ? void 0 : t.voiceProfileSettings),
                I.fold(
                  () => fe(e.context.voice, o, this._upstreamDialect.get()),
                  (t) => he(t, e.context.voice, o, this._upstreamDialect.get())
                )
              ),
              s = {
                id: M._.Id.create(e.context.id),
                availableActions: ge(M._.Id.create(e.context.id), e.context.availableActions, this._skills, o.mode, o.selectedText),
                userPromptAction: ve(e.context.promptAction, this._logger),
                quickRewriteAction: xe(e.context.quickRewriteAction),
                intent: ye(e.context.intent),
                documentOverview: we(e.context.documentOverview),
                specialView: I.fromNullable(e.context.specialView),
                selection: this._historyResultIdByGetContextMessageId.has(e.promptId)
                  ? I.none
                  : (0, c.zG)(i.Y(I.option)({ text: o.selectedText, range: o.selectedRange })),
                textRevision: I.some(o.textRevision)
              },
              l = 0 === this._contextById.size;
            let u = e.progressMessage
              ? Object.assign(Object.assign({}, s), { kind: "pending", isBoundary: !1 })
              : Object.assign(Object.assign({}, s), {
                  kind: "received",
                  isBoundary: l || this._contextMessageIdsTriggeredBySelectionChanges.has(e.promptId)
                });
            if (this._shouldSkipContextUpdate(e)) return void this._logger.debug("skipping context update for missing history card");
            const d = yield Ae(
              u,
              e,
              this._session.get(),
              (e) => this._params.textEditorService.getText(e),
              null === (n = this._params.selectionContextAvailability) || void 0 === n ? void 0 : n.get()
            );
            (u = (0, c.zG)(
              I.fromEither(d),
              I.fold(
                () => u,
                (t) =>
                  Object.assign(Object.assign({}, u), {
                    isBoundary: !0,
                    selection: t,
                    availableActions: ge(
                      M._.Id.create(e.context.id),
                      e.context.availableActions,
                      this._skills,
                      o.mode,
                      (0, c.zG)(
                        t,
                        I.map(({ text: e }) => e)
                      )
                    )
                  })
              )
            )),
              0 === this._contextById.size && M._.isReceived(u) && (this._initialReceivedContext = u),
              this._contextById.set(u.id, u),
              this._stateBlobByContextId.set(u.id, e.context.stateBlob),
              this._bindContextToHistoryCardIfNeeded(e, u.id);
            const m = (0, c.zG)(
              o.writingExpertContext,
              I.chain((e) => V.getInitialResult(e, void 0 !== this._params.textEditorService.copyText)),
              A.bw((e) => {
                this._resultById.set(e.id, e), this._contextIdByResultId.set(e.id, u.id);
              }),
              I.fold(
                () => [],
                (e) => [e]
              )
            );
            if (
              (this._session.set(
                Object.assign(Object.assign({}, o), {
                  kind: "started",
                  voiceProfile: a,
                  activeContext: u,
                  activeBoundaryContext: u.isBoundary ? u : "started" === o.kind ? o.activeBoundaryContext : u,
                  inProgressResult:
                    "started" === o.kind
                      ? (0, c.zG)(
                          o.inProgressResult,
                          I.map((e) =>
                            Object.assign(Object.assign({}, e), { boundaryContextId: u.isBoundary ? I.some(u.id) : e.boundaryContextId })
                          )
                        )
                      : I.none,
                  results: "started" === o.kind ? o.results : m,
                  detectedReferences: "started" === o.kind ? o.detectedReferences : new Map(),
                  selectedRange: (0, c.zG)(
                    d,
                    r.fold(
                      () => o.selectedRange,
                      (e) =>
                        (0, c.zG)(
                          e,
                          I.map(({ range: e }) => e)
                        )
                    )
                  ),
                  selectedText: (0, c.zG)(
                    d,
                    r.fold(
                      () => o.selectedText,
                      (e) =>
                        (0, c.zG)(
                          e,
                          I.map(({ text: e }) => e)
                        )
                    )
                  )
                })
              ),
              (0, c.zG)(
                I.fromNullable(e.context.contextNotification),
                A.bw(({ text: t }) => {
                  this._pushNotification(q.C.create("information", t, `contextNotification:${e.id}`, !0)),
                    this._params.trackingService.trackContexNotification("context");
                })
              ),
              l && L.w.isQuickRewrite(o.mode))
            ) {
              const t = U.aU.QuickRewriteActionValue.fromInput(xe(e.context.quickRewriteAction));
              this._logger.debug(
                "_handleCheetahSetContext() - received initial context for quick rewrite session, submitting quick rewrite action",
                { session: o, message: e, quickRewriteAction: t }
              ),
                this._submitAction(t);
            }
          });
        }
        _shouldSkipContextUpdate(e) {
          return (0, c.zG)(
            I.fromNullable(this._historyResultIdByGetContextMessageId.get(e.promptId)),
            I.fold(c.jv, (e) =>
              (0, c.zG)(
                G.z.toStarted(this._session.get()),
                I.map((e) => e.results),
                I.fold(c.W8, (t) => !t.some((t) => t.id === e))
              )
            )
          );
        }
        _bindContextToHistoryCardIfNeeded(e, t) {
          (0, c.zG)(
            I.fromNullable(this._historyResultIdByGetContextMessageId.get(e.promptId)),
            I.filter((e) =>
              (0, c.zG)(
                I.fromNullable(this._contextIdByResultId.get(e)),
                I.fold(c.W8, (e) => void 0 === this._contextById.get(e))
              )
            ),
            A.bw((e) => this._contextIdByResultId.set(e, t))
          );
        }
        _handleCheetahSetUserState(e) {
          this._logger.debug("_handleCheetahUserState()", { message: e }),
            this._session.modify((t) => Object.assign(Object.assign({}, t), { historyStatus: de(t, e.state.historyItems) }));
        }
        _getHistory() {
          if ((this._logger.debug("_getHistory()"), void 0 !== this._historyAckHandler))
            return this._logger.warn("_getHistory() called when a cheetah:getHistory request hasn't been ack'ed yet, skipping");
          (this._historyAckHandler = () => {
            (this._historyAckHandler = void 0), this._setupHistoryTimeout();
          }),
            this._setupCheetahAckHandler("getHistory", this._historyAckHandler),
            this._session.lens("historyStatus").set(G.z.HistoryStatus.historyRequested),
            (0, W.t)(
              "cheetahGetHistory",
              this._params.capiService.cheetahGetHistory(),
              this._logger,
              () =>
                this._params.monitoringService.notify((0, j.L)({ kind: "info", source: "core", name: "getHistorySuccessful", data: null })),
              () => this._params.monitoringService.notify((0, j.L)((0, P.tD)()))
            );
        }
        _handleCheetahSetHistory(e) {
          void 0 !== this._historyAckHandler &&
            (this._removeCheetahAckHandler(this._historyAckHandler), (this._historyAckHandler = void 0)),
            this._clearHistoryTimeout();
          const t = this._session.get();
          if ("started" !== t.kind)
            return this._logger.warn(
              "_handleCheetahSetHistory() - trying to handle `cheetah:setHistory` result with a session that is not `started`, skipping",
              { session: t }
            );
          (0, c.zG)(
            e.cards,
            o.UI((e) => z.x.History.createFromCard(e, void 0 !== this._params.textEditorService.copyText)),
            o.GY,
            a.c2,
            I.fold(
              () => this._session.lens("historyStatus").set(G.z.HistoryStatus.noHistory),
              (e) => {
                e.forEach((e) => this._resultById.set(e.id, e)),
                  this._session.set(
                    Object.assign(Object.assign({}, t), {
                      activeContext: Object.assign(Object.assign({}, t.activeContext), {
                        kind: "pending",
                        textRevision: I.none,
                        availableActions: [],
                        selection: I.none
                      }),
                      historyStatus: G.z.HistoryStatus.historyRestored,
                      results: [...t.results, ...e],
                      selectedRange: I.none,
                      selectedText: I.none
                    })
                  ),
                  this._getContext(void 0, e[0].id);
              }
            )
          );
        }
        _handleCheetahChunk(e) {
          this._logger.debug("_handleCheetahChunk()", { message: e });
          const t = this._session.get();
          if ("started" !== t.kind)
            return this._logger.warn("_handleCheetahChunk() - received chunk with a session that is not `started`, skipping", {
              session: t,
              message: e
            });
          const n = z.x.Id.create(e.promptId);
          (0, c.zG)(
            t.inProgressResult,
            I.filter(z.x.isInProgressOngoing),
            I.filter((e) => z.x.Id.eq.equals(e.id, n)),
            I.fold(
              () => {
                const e = (0, c.zG)(
                  t.inProgressResult,
                  I.filter(z.x.isInProgressOngoing),
                  I.map((e) => e.id),
                  I.toNullable
                );
                this._params.monitoringService.notify(
                  (0, j.L)(
                    (function (e) {
                      return { kind: "warn", source: "core", name: "unexpectedChunkReceived", data: e };
                    })({ expectedInProgressResultId: e, receivedInProgressResultId: n })
                  )
                );
              },
              (n) => {
                this._clearResultRelatedTimeouts(),
                  this._session.set(
                    Object.assign(Object.assign({}, t), {
                      inProgressResult: I.some(Object.assign(Object.assign({}, n), { text: n.text + e.token }))
                    })
                  ),
                  this._setupResultTimeout();
              }
            )
          );
        }
        _handleCheetahResult(e) {
          return Be(this, void 0, void 0, function* () {
            this._logger.debug("_handleCheetahResult()", { message: e });
            const t = this._session.get();
            if ("started" !== t.kind)
              return this._logger.warn("_handleCheetahResult() - received result with a session that is not `started`, skipping", {
                session: t,
                message: e
              });
            const n = z.x.Id.create(e.promptId);
            try {
              yield (0, c.zG)(
                t.inProgressResult,
                I.filter(z.x.isInProgressOngoing),
                I.filter((e) => z.x.Id.eq.equals(e.id, n)),
                I.fold(
                  () => {
                    const e = (0, c.zG)(
                      t.inProgressResult,
                      I.filter(z.x.isInProgressOngoing),
                      I.map((e) => e.id),
                      I.toNullable
                    );
                    return (
                      this._params.monitoringService.notify(
                        (0, j.L)(
                          (function (e) {
                            return { kind: "warn", source: "core", name: "unexpectedResultReceived", data: e };
                          })({ expectedInProgressResultId: e, receivedInProgressResultId: n })
                        )
                      ),
                      Promise.resolve(void 0)
                    );
                  },
                  (n) =>
                    Be(this, void 0, void 0, function* () {
                      var i, o, a, l;
                      if ((this._clearResultRelatedTimeouts(), e.error || !e.text || "" === e.text.plain)) {
                        const n = e.error ? N.create(e.error) : N.createEmptyResultError();
                        this._logger.warn("_handleCheetahResult() - received result with error, adding error to session", {
                          session: t,
                          message: e,
                          error: n
                        }),
                          this._session.set(Object.assign(Object.assign({}, t), { inProgressResult: I.none, error: I.some(n) }));
                      } else if (e.text.interrupted)
                        this._logger.debug("_handleCheetahResult() - received result with interrupted text, skipping", {
                          session: t,
                          message: e
                        });
                      else {
                        let u, d, m, p;
                        (u =
                          "aiUsageAlert" ===
                          (null === (o = null === (i = e.context) || void 0 === i ? void 0 : i.specialView) || void 0 === o
                            ? void 0
                            : o.kind)
                            ? z.x.AIUsageNotification.fromInProgressResult(n, e.text.plain)
                            : Object.assign(Object.assign({}, n), {
                                text: e.text.plain,
                                kind: "complete",
                                timestamp: Date.now(),
                                replacementDelta: z.x.ResultDelta.createFromResultMessage(e),
                                supportedActions: (0, c.zG)(
                                  ((l = n.source),
                                  (0, c.zG)(
                                    l,
                                    I.map((e) => e.actionValue.generatesTextType),
                                    I.filter(A.FX(F.cX.Insertable)),
                                    I.fold(
                                      () => s.cS,
                                      () => s.Sq(new Set([z.x.SupportedAction.rephrase, z.x.SupportedAction.insert]))
                                    )
                                  )),
                                  this._params.textEditorService.copyText ? s.$T(B.yv)(z.x.SupportedAction.copy) : c.yR
                                ),
                                references: ke(e),
                                changesSummary: T(e)
                              })),
                          this._logger.debug("_handleCheetahResult() - received complete result, saving complete result into history", {
                            session: t,
                            message: e,
                            result: u
                          });
                        let h = r.left(void 0);
                        if (e.context) {
                          const i = e.context;
                          (m = i.voiceProfileSettings
                            ? he(i.voiceProfileSettings, i.voice, t, this._upstreamDialect.get())
                            : fe(i.voice, t, this._upstreamDialect.get())),
                            (d = {
                              kind: "received",
                              id: M._.Id.create(i.id),
                              availableActions: ge(M._.Id.create(e.context.id), i.availableActions, this._skills, t.mode, t.selectedText),
                              userPromptAction: ve(i.promptAction, this._logger),
                              intent: ye(i.intent),
                              documentOverview: we(i.documentOverview),
                              specialView: I.fromNullable(i.specialView),
                              selection: this._historyResultIdByGetContextMessageId.has(e.promptId)
                                ? I.none
                                : (0, c.zG)(
                                    n.boundaryContextId,
                                    I.chain((e) =>
                                      (0, c.zG)(
                                        I.fromNullable(this._contextById.get(e)),
                                        I.chain(({ selection: e }) => e)
                                      )
                                    )
                                  ),
                              isBoundary: !1,
                              textRevision: (0, c.zG)(
                                (0, c.zG)(
                                  n.boundaryContextId,
                                  I.chain((e) => I.fromNullable(this._contextById.get(e))),
                                  I.chain(({ textRevision: e }) => e)
                                )
                              )
                            }),
                            (h = yield Ae(
                              d,
                              e,
                              this._session.get(),
                              (e) => this._params.textEditorService.getText(e),
                              null === (a = this._params.selectionContextAvailability) || void 0 === a ? void 0 : a.get()
                            )),
                            (d = (0, c.zG)(
                              I.fromEither(h),
                              I.fold(
                                () => d,
                                (e) =>
                                  Object.assign(Object.assign({}, d), {
                                    isBoundary: !0,
                                    selection: e,
                                    availableActions: ge(
                                      M._.Id.create(i.id),
                                      i.availableActions,
                                      this._skills,
                                      t.mode,
                                      (0, c.zG)(
                                        e,
                                        I.map(({ text: e }) => e)
                                      )
                                    )
                                  })
                              )
                            )),
                            d.isBoundary && (u = Object.assign(Object.assign({}, u), { boundaryContextId: I.some(d.id) })),
                            (p = i.stateBlob),
                            this._logger.debug(
                              "_handleCheetahResult() - received result with context, will update voice profile and context accordingly",
                              { session: t, message: e, voiceProfile: m, context: d }
                            );
                        } else
                          this._logger.warn(
                            "_handleCheetahResult() - received result without context, keeping latest voice profile and context",
                            { session: t, message: e }
                          ),
                            (m = t.voiceProfile),
                            (d = t.activeContext),
                            (p = this._stateBlobByContextId.get(t.activeContext.id));
                        this._contextById.set(d.id, d),
                          void 0 !== p && this._stateBlobByContextId.set(d.id, p),
                          this._resultById.set(u.id, u),
                          this._contextIdByResultId.set(u.id, d.id),
                          this._session.set(
                            Object.assign(Object.assign({}, t), {
                              voiceProfile: m,
                              activeContext: d,
                              inProgressResult: I.none,
                              results: [u, ...t.results],
                              selectedRange: (0, c.zG)(
                                h,
                                r.fold(
                                  () => t.selectedRange,
                                  (e) =>
                                    (0, c.zG)(
                                      e,
                                      I.map(({ range: e }) => e)
                                    )
                                )
                              ),
                              selectedText: (0, c.zG)(
                                h,
                                r.fold(
                                  () => t.selectedText,
                                  (e) =>
                                    (0, c.zG)(
                                      e,
                                      I.map(({ text: e }) => e)
                                    )
                                )
                              )
                            })
                          ),
                          this._trackResultGenerationCompleted(u.id);
                      }
                    })
                )
              );
            } catch (e) {
              return this._logger.warn("_handleCheetahResult() - cannot handle cheetah result", {
                session: t,
                incomingResultId: n,
                error: e
              });
            }
          });
        }
        _handleCheetahSearchReferencesResult(e) {
          const t = this._session.get();
          if ("started" === t.kind) {
            const n = this._searchReferencesUrlsById.get(e.promptId);
            if (n) {
              const i = e.references[0];
              i &&
                this._session.set(
                  Object.assign(Object.assign({}, t), { detectedReferences: new Map(t.detectedReferences).set(n, I.some(Q.s.create(i))) })
                );
            } else
              this._logger.warn(
                "_handleCheetahSearchReferencesResult() - trying to handle a search references result that did not have a corresponding cheetah:searchReferences request, skipping",
                { message: e }
              );
          } else
            this._logger.warn(
              "_handleCheetahSearchReferencesResult() - trying to handle a search references result with a session that is not `started`, skipping",
              { session: t }
            );
        }
        _handleCheetahError(e) {
          this._logger.debug("_handleCheetahError", { message: e }), this._clearAllTimeouts();
          const t = N.create(e.error);
          this._logger.warn("_handleCheetahError - received error, adding error to session", { error: t }),
            this._session.modify((e) => Object.assign(Object.assign({}, e), { inProgressResult: I.none, error: I.some(t) }));
        }
        _handleUpstreamDialectChange(e) {
          this._logger.debug("_handleUpstreamDialectChange()", { upstreamDialect: e });
          const t = this._session.get();
          if ("started" === t.kind) {
            const n = X.L.Dialect.Id.create(e);
            this._logger.debug(
              "_handleUpstreamDialectChange() - dialect changed on upstream services, updating selected dialect on voice profile",
              { session: t, selectedDialect: n }
            ),
              this._session.set(
                Object.assign(Object.assign({}, t), {
                  voiceProfile: Object.assign(Object.assign({}, t.voiceProfile), { selectedDialect: n })
                })
              );
          }
        }
        _handleCheetahAck(e) {
          this._logger.debug("_handleCheetahAck()", { message: e }), this._clearCheetahAckTimeout(), this._cheetahAckIds.add(e.id);
          const t = this._cheetahAckHandlers.length > 0 ? this._cheetahAckHandlers[0] : void 0;
          t &&
            (this._logger.debug("_handleCheetahAck() - extracting `cheetah:ack` handler from queue and executing it", {
              message: e,
              cheetahAckHandlers: this._cheetahAckHandlers
            }),
            (this._cheetahAckHandlers = this._cheetahAckHandlers.slice(1)),
            t(e.id));
        }
        _handleError(e) {
          if (this._cheetahAckIds.has(e.id))
            if ((this._clearAllTimeouts(), e.error === m.jK.SESSION_NOT_INITIALIZED)) {
              const t = (0, c.zG)(
                G.z.toStarted(this._session.get()),
                I.map((e) => this._stateBlobByContextId.get(e.activeContext.id)),
                I.toUndefined
              );
              this._session.modify((e) => Object.assign(Object.assign({}, e), { inProgressResult: I.none })),
                this._startSession(this._params.startSessionOptions, t),
                this._params.monitoringService.notify(
                  (0, j.L)(
                    (function (e) {
                      return { kind: "warn", source: "core", name: "capiErrorHandled", data: e };
                    })({ capiError: e })
                  )
                );
            } else {
              const t = N.createCriticalError((0, c.zG)(G.z.toStarting(this._session.get()), I.isSome));
              this._session.modify((e) => Object.assign(Object.assign({}, e), { inProgressResult: I.none, error: I.some(t) })),
                this._params.monitoringService.notify((0, j.L)((0, P.Z9)({ capiError: e })));
            }
          else this._params.monitoringService.notify((0, j.L)((0, P.Z9)({ capiError: e })));
        }
        _submitAction(e, t, n, i, r, o) {
          var s, u;
          this._logger.debug("_submitAction()", {
            actionValue: e,
            contextId: t,
            triggerContextId: n,
            boundaryContextId: i,
            previousText: r,
            selectedVoice: o
          });
          const d = this._session.get();
          if ("started" === d.kind) {
            const m = null !== (s = null != t ? t : null == e ? void 0 : e.contextId) && void 0 !== s ? s : d.activeContext.id,
              p = null != n ? n : m,
              h = null != i ? i : d.activeBoundaryContext.id,
              f = (null != r ? r : void 0 !== (null == e ? void 0 : e.contextId))
                ? void 0
                : d.results.length > 0 && z.x.isStandardCompletedResult(d.results[0])
                ? be(d.results[0])
                : void 0,
              g = this._stateBlobByContextId.get(m);
            if (void 0 === g)
              return this._logger.warn("_submitAction() - cannot find state blob for context ID, skipping", {
                session: d,
                contextId: m,
                triggerContextId: n,
                contextStateBlob: g
              });
            const v =
              "aiUsageNotification" === (null === (u = d.results[0]) || void 0 === u ? void 0 : u.kind) ? d.results.slice(1) : d.results;
            this._session.set(
              Object.assign(Object.assign({}, d), {
                results: v,
                historyStatus: G.z.HistoryStatus.restoreDisabled,
                activeContext: Object.assign(Object.assign({}, d.activeContext), { kind: "pending" }),
                inProgressResult: I.isSome(e.generatesTextType)
                  ? I.some({
                      kind: "inProgressPending",
                      header: {
                        label: U.aU.isUserPromptActionValue(e) ? e.arg.value : e.label,
                        iconUrl: U.aU.isUserPromptActionValue(e) || "" === e.iconUrl.trim() ? I.none : I.some(e.iconUrl),
                        copiablePrompt: U.aU.isUserPromptActionValue(e) && "" !== e.arg.value.trim() ? I.some(e.arg.value) : I.none
                      },
                      text: "",
                      source: I.some({ contextId: m, actionValue: e }),
                      boundaryContextId: I.some(h)
                    })
                  : I.none,
                error: I.none
              })
            ),
              this._setupCheetahAckHandler("action", (e) => {
                (0, c.zG)(
                  G.z.toStarted(this._session.get()),
                  I.chain((e) => e.inProgressResult),
                  I.filter((0, R.Kg)(z.x.isInProgressPending, z.x.isInProgressInterrupted)),
                  I.fold(
                    () => (
                      this._logger.warn(
                        "received `cheetah:ack` related to in-progress-pending result but we don't have an in-progress-pending result, skipping",
                        { ackId: e }
                      ),
                      l.of(void 0)
                    ),
                    (t) => {
                      if (z.x.isInProgressInterrupted(t))
                        return (
                          this._logger.info(
                            "received `cheetah:ack` related to in-progress-interrupted result, sending `cheetah:interrupt`",
                            { ackId: e }
                          ),
                          this._session.modify((e) => Object.assign(Object.assign({}, e), { inProgressResult: I.none })),
                          this._params.capiService.cheetahInterrupt({ promptId: e })
                        );
                      if (z.x.isInProgressPending(t)) {
                        this._setupContextTimeout("action"), this._setupResultTimeout();
                        const n = Object.assign(Object.assign({}, t), { kind: "inProgressOngoing", id: z.x.Id.create(e) });
                        return (
                          this._logger.debug(
                            "received `cheetah:ack` related to in-progress-pending result, transitioning result to in-progress-ongoing",
                            { ackId: e, inProgressResult: n }
                          ),
                          this._resultById.set(n.id, n),
                          this._session.modify((e) => Object.assign(Object.assign({}, e), { inProgressResult: I.some(n) })),
                          l.of(void 0)
                        );
                      }
                      (0, _.L0)(t);
                    }
                  )
                )();
              });
            const x = Object.assign(
                {
                  contextId: m,
                  triggerContextId: p,
                  actionId: e.id,
                  args: U.aU.isUserPromptActionValue(e)
                    ? [{ name: e.arg.id, value: e.arg.value }]
                    : (0, c.zG)(
                        a.c2(e.args),
                        I.fold(
                          () => [],
                          (e) => e.map((e) => ({ name: e.id, value: e.value }))
                        )
                      ),
                  stateBlob: g,
                  previousText: f
                },
                o ? { metadata: { selectedVoice: o } } : null
              ),
              y = (0, c.zG)(
                e,
                I.fromPredicate(U.aU.isUserPromptActionValue),
                I.fold((0, c.a9)(x), (e) =>
                  Object.assign(Object.assign({}, x), {
                    useReferences: I.toUndefined(e.useReferences),
                    omitReferenceIds: I.toUndefined(e.omitReferenceIds)
                  })
                )
              );
            this._logger.debug("_submitAction() - sending `cheetah:action` to CAPI", { data: y }),
              (0, W.t)(
                "cheetahAction",
                this._params.capiService.cheetahAction(y),
                this._logger,
                () =>
                  this._params.monitoringService.notify(
                    (0, j.L)(
                      (function (e) {
                        return { kind: "info", source: "core", name: "actionSuccessful", data: e };
                      })({ actionId: e.id })
                    )
                  ),
                () => this._params.monitoringService.notify((0, j.L)((0, P.g4)({ actionId: e.id })))
              );
          } else
            this._logger.warn("_submitAction() - submitting action with a session that is not `started`, skipping", {
              session: d,
              actionValue: e,
              contextId: t
            });
        }
        _extractLatestResultContext(e) {
          return this._extractContextFromResults(e, 0);
        }
        _extractLatestResultBoundaryContext(e) {
          return this._extractBoundaryContextFromResults(e, 0);
        }
        _extractPreviousResultContext(e) {
          return this._extractContextFromResults(e, 1);
        }
        _extractPreviousResultBoundaryContext(e) {
          return this._extractBoundaryContextFromResults(e, 1);
        }
        _extractContextFromResults(e, t) {
          const n = (0, c.zG)(
            I.fromNullable(e.results[t]),
            I.map((e) => e.id),
            I.chain((e) => I.fromNullable(this._contextIdByResultId.get(e))),
            I.chain((e) => I.fromNullable(this._contextById.get(e)))
          );
          return (
            I.isNone(n) &&
              this._logger.warn("_extractContextFromResults() - could not find context for result", { session: e, resultIndex: t }),
            n
          );
        }
        _extractBoundaryContextFromResults(e, t) {
          return (0, c.zG)(
            I.fromNullable(e.results[t]),
            I.filter(z.x.isComplete),
            I.chain(({ boundaryContextId: e }) => e),
            I.chain((e) => I.fromNullable(this._contextById.get(e))),
            A.ew(() => {
              this._logger.warn("_extractBoundaryContext() - could not find boundary context for result index");
            })
          );
        }
        _extractInitialContext() {
          return null !== this._initialReceivedContext
            ? I.some(this._initialReceivedContext)
            : (this._logger.warn("_extractInitialContext() - could not find initial context"), I.none);
        }
        _setupResultTimeout() {
          this._clearResultTimeout(),
            (this._resultTimeout = v.H(this._resultTimeoutMs).subscribe(() => {
              this._session.modify((e) =>
                Object.assign(Object.assign({}, e), {
                  inProgressResult: I.none,
                  error: I.some(N.createCriticalError((0, c.zG)(G.z.toStarting(this._session.get()), I.isSome)))
                })
              ),
                this._params.monitoringService.notify((0, j.L)((0, P.bE)()));
            }));
        }
        _setupContextTimeout(e) {
          this._logger.debug("_setupContextTimeout()", { sourceCommand: e }),
            this._clearContextTimeout(),
            (this._contextTimeout = v.H(this._contextTimeoutMs).subscribe(() => {
              const t = N.createCriticalError((0, c.zG)(G.z.toStarting(this._session.get()), I.isSome));
              this._logger.warn("waited too long to receive `cheetah:setContext`, adding error to session", { error: t }),
                this._session.modify((e) => Object.assign(Object.assign({}, e), { inProgressResult: I.none, error: I.some(t) })),
                this._params.monitoringService.notify((0, j.L)((0, P.gW)({ sourceCommand: e })));
            }));
        }
        _setupHistoryTimeout() {
          this._clearHistoryTimeout(),
            (this._historyTimeout = v.H(this._historyTimeoutMs).subscribe(() => {
              const e = N.createCriticalError((0, c.zG)(G.z.toStarting(this._session.get()), I.isSome));
              this._logger.warn("waited too long to receive `cheetah:setHistory`, adding error to session", { error: e }),
                this._session.modify((t) => Object.assign(Object.assign({}, t), { inProgressResult: I.none, error: I.some(e) })),
                this._params.monitoringService.notify((0, j.L)((0, P.Ax)()));
            }));
        }
        _setupCheetahAckTimeout(e) {
          this._logger.debug("_setupCheetahAckTimeout()", { sourceCommand: e }),
            this._clearCheetahAckTimeout(),
            (this._cheetahAckTimeout = v.H(this._cheetahAckTimeoutMs).subscribe(() => {
              const t = N.createCriticalError((0, c.zG)(G.z.toStarting(this._session.get()), I.isSome));
              this._logger.warn("waited too long to receive an ACK for a `cheetah:*` command, adding error to session", { error: t }),
                this._session.modify((e) => Object.assign(Object.assign({}, e), { inProgressResult: I.none, error: I.some(t) })),
                this._params.monitoringService.notify((0, j.L)((0, P.No)({ sourceCommand: e })));
            }));
        }
        _clearResultTimeout() {
          var e;
          null === (e = this._resultTimeout) || void 0 === e || e.unsubscribe(), (this._resultTimeout = void 0);
        }
        _clearContextTimeout() {
          var e;
          null === (e = this._contextTimeout) || void 0 === e || e.unsubscribe(), (this._contextTimeout = void 0);
        }
        _clearHistoryTimeout() {
          var e;
          null === (e = this._historyTimeout) || void 0 === e || e.unsubscribe(), (this._historyTimeout = void 0);
        }
        _clearCheetahAckTimeout() {
          var e;
          null === (e = this._cheetahAckTimeout) || void 0 === e || e.unsubscribe(), (this._cheetahAckTimeout = void 0);
        }
        _clearResultRelatedTimeouts() {
          this._clearContextTimeout(), this._clearResultTimeout(), this._clearCheetahAckTimeout();
        }
        _clearAllTimeouts() {
          this._clearResultTimeout(), this._clearContextTimeout(), this._clearHistoryTimeout(), this._clearCheetahAckTimeout();
        }
        _setupCheetahAckHandler(e, t) {
          this._setupCheetahAckTimeout(e), this._cheetahAckHandlers.push(t);
        }
        _removeCheetahAckHandler(e) {
          (this._cheetahAckHandlers = this._cheetahAckHandlers.filter((t) => t !== e)),
            0 === this._cheetahAckHandlers.length && this._clearCheetahAckTimeout();
        }
      }
    },
    84403: (e, t, n) => {
      n.d(t, { c: () => u });
      var i,
        r = n(57050),
        o = n(22232),
        a = n(5114),
        s = n(71249);
      !(function (e) {
        let t, n, i, l, c, u, d, m, p;
        !(function (e) {
          let t;
          !(function (e) {
            (e.rephrase = "rephrase"),
              (e.dismiss = "dismiss"),
              (e.insert = "insert"),
              (e.offensive = "offensive"),
              (e.copy = "copy"),
              (e.generationCompleted = "generationCompleted");
          })((t = e.UserAction || (e.UserAction = {})));
        })((t = e.Result || (e.Result = {}))),
          (function (e) {
            let t;
            !(function (e) {
              (e.open = "open"),
                (e.skip = "skip"),
                (e.openFromBanner = "openFromBanner"),
                (e.keepVoiceTag = "keepTag"),
                (e.removeVoiceTag = "removeTag"),
                (e.toggleToMyVoice = "toggleToMyVoice"),
                (e.toggleToNeutral = "toggleToNeutral");
            })((t = e.UserAction || (e.UserAction = {})));
          })((n = e.VoiceProfile || (e.VoiceProfile = {}))),
          (function (e) {
            let t;
            !(function (e) {
              (e.openStore = "openStore"), (e.offensive = "offensive");
            })((t = e.UserAction || (e.UserAction = {})));
          })((i = e.Actions || (e.Actions = {}))),
          (function (e) {
            let t;
            !(function (e) {
              e.search = "search";
            })((t = e.UserAction || (e.UserAction = {})));
          })((l = e.Prompt || (e.Prompt = {}))),
          (function (e) {
            let t;
            !(function (e) {
              (e.hover = "hover"), (e.click = "click");
            })((t = e.UserAction || (e.UserAction = {})));
          })((c = e.UsageInfo || (e.UsageInfo = {}))),
          (function (e) {
            let t;
            !(function (e) {
              e.view = "view";
            })((t = e.UserAction || (e.UserAction = {})));
          })((u = e.HistoryButton || (e.HistoryButton = {}))),
          (function (e) {
            let t;
            !(function (e) {
              (e.view = "view"), (e.skip = "skip"), (e.next = "next");
            })((t = e.UserAction || (e.UserAction = {})));
          })((d = e.Onboarding || (e.Onboarding = {}))),
          (function (e) {
            let t;
            !(function (e) {
              (e.close = "close"), (e.readyToInteract = "readyToInteract");
            })((t = e.UserAction || (e.UserAction = {})));
          })((m = e.Assistant || (e.Assistant = {}))),
          (function (e) {
            let t, n;
            !(function (e) {
              e.view = "view";
            })((t = e.UserAction || (e.UserAction = {}))),
              (function (e) {
                (e.dontShowOnDocument = "dontShowOnDocument"), (e.dontShowForever = "dontShowForever");
              })((n = e.AIUsageUserAction || (e.AIUsageUserAction = {})));
          })((p = e.Notification || (e.Notification = {}))),
          (e.getComponentId = function (e, t, n, l = {}) {
            const c = (0, r.zG)(e.kind, (t) => {
              switch (t) {
                case "result":
                  return "card";
                case "voiceProfile":
                  return "voice";
                case "actions":
                  return e.userAction === i.UserAction.openStore ? "group" : "card";
                case "assistant":
                  return "widget";
                case "onboardingPromptsTooltip":
                  return "onboardingPromptTooltip";
                case "onboardingReviewTooltip":
                  return "onboardingReviewtextTooltip";
                case "usageInfo":
                case "historyButton":
                case "prompt":
                case "onboardingPopup":
                case "BTSonboardingPopup":
                case "onboardingRewriteTooltip":
                case "onboardingKnowledgeHubTooltip":
                case "onboardingReferencesTooltip":
                case "onboardingHistoryTooltip":
                case "aiUsageNotification":
                case "contextNotification":
                case "actionNotification":
                  return t;
                default:
                  return (0, o.L0)(t);
              }
            });
            return (0, r.zG)(
              a.fromNullable(n),
              a.map((e) => `cheetah:history-card:${e}`),
              a.getOrElse(() => `cheetah:${c}${t ? `:${t}` : ""}`),
              ((u = l),
              (e) =>
                (0, r.zG)(
                  Object.entries(u),
                  s.u4(e, (e, [t, n]) => {
                    const i = e.includes("?") ? "&" : "?";
                    return e + `${i}${t}=${n}`;
                  })
                ))
            );
            var u;
          }),
          (e.getUserAction = function (e) {
            return (0, r.zG)(e.kind, (t) => {
              switch (t) {
                case "actions":
                  return e.userAction === i.UserAction.openStore ? "All Ideas" : e.userAction;
                case "assistant":
                  return e.userAction === m.UserAction.close ? "dismiss" : e.userAction;
                case "result":
                case "voiceProfile":
                case "prompt":
                case "usageInfo":
                case "historyButton":
                case "onboardingPopup":
                case "BTSonboardingPopup":
                case "onboardingPromptsTooltip":
                case "onboardingReviewTooltip":
                case "onboardingRewriteTooltip":
                case "onboardingKnowledgeHubTooltip":
                case "onboardingReferencesTooltip":
                case "onboardingHistoryTooltip":
                case "aiUsageNotification":
                case "contextNotification":
                case "actionNotification":
                  return e.userAction;
                default:
                  return (0, o.L0)(t);
              }
            });
          });
      })(i || (i = {}));
      var l = n(26320),
        c = n(63346);
      class u {
        constructor(e, t = new c.W(u.name)) {
          (this._capiService = e), (this._logger = t);
        }
        trackResultInsert(e, t, n = !1) {
          this._logger.debug("trackResultInsert()", { contextId: e, historyResultId: t }),
            e || this._logger.warn("trackResultInsert() - tracking result insert without context"),
            this._trackUxInteraction({ kind: "result", userAction: i.Result.UserAction.insert }, e, t, { withVoiceProfile: n });
        }
        trackResultOffensive(e, t) {
          this._logger.debug("trackResultOffensive()", { contextId: e, historyResultId: t }),
            e || this._logger.warn("trackResultOffensive() - tracking result offensive without context"),
            this._trackUxInteraction({ kind: "result", userAction: i.Result.UserAction.offensive }, e, t);
        }
        trackResultDismiss(e, t) {
          this._logger.debug("trackResultDismiss()", { contextId: e, historyResultId: t }),
            e || this._logger.warn("trackResultDismiss() - tracking result dismiss without context"),
            this._trackUxInteraction({ kind: "result", userAction: i.Result.UserAction.dismiss }, e, t);
        }
        trackResultRephrase(e) {
          this._logger.debug("trackResultRephrase()", { contextId: e }),
            e || this._logger.warn("trackResultRephrase() - tracking result rephrase without context"),
            this._trackUxInteraction({ kind: "result", userAction: i.Result.UserAction.rephrase }, e);
        }
        trackResultCopy(e, t) {
          this._logger.debug("trackCopy()"), this._trackUxInteraction({ kind: "result", userAction: i.Result.UserAction.copy }, e, t);
        }
        trackResultGenerationCompleted(e, t) {
          this._logger.debug("trackResultGenerationCompleted()"),
            this._trackUxInteraction({ kind: "result", userAction: i.Result.UserAction.generationCompleted }, e, t);
        }
        trackVoiceProfileOpen(e) {
          this._logger.debug("trackVoiceProfileOpen()", { source: e }),
            this._trackUxInteraction({
              kind: "voiceProfile",
              userAction: "toolbar" === e ? i.VoiceProfile.UserAction.open : i.VoiceProfile.UserAction.openFromBanner
            });
        }
        trackVoiceProfileSkip() {
          this._logger.debug("trackVoiceProfileSkip()"),
            this._trackUxInteraction({ kind: "voiceProfile", userAction: i.VoiceProfile.UserAction.skip });
        }
        trackActionsOpenStore() {
          this._logger.debug("trackActionsOpenStore()"),
            this._trackUxInteraction({ kind: "actions", userAction: i.Actions.UserAction.openStore });
        }
        trackActionsOffensive(e) {
          this._logger.debug("trackActionsOffensive()"),
            e || this._logger.warn("trackActionsOffensive() - tracking actions offensive without context"),
            this._trackUxInteraction({ kind: "actions", userAction: i.Actions.UserAction.offensive }, e);
        }
        trackPromptSearch() {
          this._logger.debug("trackPromptSearch()"), this._trackUxInteraction({ kind: "prompt", userAction: i.Prompt.UserAction.search });
        }
        trackUsageInfoClick() {
          this._logger.debug("trackUsageInfoClick()"),
            this._trackUxInteraction({ kind: "usageInfo", userAction: i.UsageInfo.UserAction.click });
        }
        trackUsageInfoHover() {
          this._logger.debug("trackUsageInfoHover()"),
            this._trackUxInteraction({ kind: "usageInfo", userAction: i.UsageInfo.UserAction.hover });
        }
        trackHistoryButtonView() {
          this._logger.debug("trackHistoryButtonView()"),
            this._trackUxInteraction({ kind: "historyButton", userAction: i.HistoryButton.UserAction.view });
        }
        trackOnboardingPopupView() {
          this._logger.debug("trackOnboardingPopupView()"),
            this._trackUxInteraction({ kind: "onboardingPopup", userAction: i.Onboarding.UserAction.view });
        }
        trackOnboardingPopupSkip() {
          this._logger.debug("trackOnboardingPopupSkip()"),
            this._trackUxInteraction({ kind: "onboardingPopup", userAction: i.Onboarding.UserAction.skip });
        }
        trackOnboardingPopupNext() {
          this._logger.debug("trackOnboardingPopupNext()"),
            this._trackUxInteraction({ kind: "onboardingPopup", userAction: i.Onboarding.UserAction.next });
        }
        trackBTSOnboardingPopupView() {
          this._logger.debug("trackBTSOnboardingPopupView()"),
            this._trackUxInteraction({ kind: "BTSonboardingPopup", userAction: i.Onboarding.UserAction.view });
        }
        trackBTSOnboardingPopupSkip() {
          this._logger.debug("trackBTSOnboardingPopupSkip()"),
            this._trackUxInteraction({ kind: "BTSonboardingPopup", userAction: i.Onboarding.UserAction.skip });
        }
        trackBTSOnboardingPopupNext() {
          this._logger.debug("trackBTSOnboardingPopupNext()"),
            this._trackUxInteraction({ kind: "BTSonboardingPopup", userAction: i.Onboarding.UserAction.next });
        }
        trackOnboardingPromptsTooltipView() {
          this._logger.debug("trackOnboardingPromptsTooltipView()"),
            this._trackUxInteraction({ kind: "onboardingPromptsTooltip", userAction: i.Onboarding.UserAction.view });
        }
        trackOnboardingReviewTooltipView() {
          this._logger.debug("trackOnboardingReviewTooltipView()"),
            this._trackUxInteraction({ kind: "onboardingReviewTooltip", userAction: i.Onboarding.UserAction.view });
        }
        trackOnboardingRewriteTooltipView() {
          this._logger.debug("trackOnboardingRewriteTooltipView()"),
            this._trackUxInteraction({ kind: "onboardingRewriteTooltip", userAction: i.Onboarding.UserAction.view });
        }
        trackOnboardingKnowledgeHubTooltipView() {
          this._logger.debug("trackOnboardingRewriteTooltipView()"),
            this._trackUxInteraction({ kind: "onboardingKnowledgeHubTooltip", userAction: i.Onboarding.UserAction.view });
        }
        trackOnboardingReferencesTooltipView() {
          this._logger.debug("trackOnboardingReferencesTooltipView()"),
            this._trackUxInteraction({ kind: "onboardingReferencesTooltip", userAction: i.Onboarding.UserAction.view });
        }
        trackOnboardingHistoryTooltipView() {
          this._logger.debug("trackOnboardingHistoryTooltipView()"),
            this._trackUxInteraction({ kind: "onboardingHistoryTooltip", userAction: i.Onboarding.UserAction.view });
        }
        trackAssistantClose() {
          this._logger.debug("trackAssistantClose()"),
            this._trackUxInteraction({ kind: "assistant", userAction: i.Assistant.UserAction.close });
        }
        trackVoiceProfileRemoveTag() {
          this._logger.debug("trackVoiceProfileRemoveTag()"),
            this._trackUxInteraction({ kind: "voiceProfile", userAction: i.VoiceProfile.UserAction.removeVoiceTag });
        }
        trackVoiceProfileKeepTag() {
          this._logger.debug("trackVoiceProfileKeepTag()"),
            this._trackUxInteraction({ kind: "voiceProfile", userAction: i.VoiceProfile.UserAction.keepVoiceTag });
        }
        trackAINotificationDismiss(e) {
          this._logger.debug("trackAINotificationDismiss()"),
            this._trackUxInteraction({
              kind: "aiUsageNotification",
              userAction:
                "document" === e ? i.Notification.AIUsageUserAction.dontShowOnDocument : i.Notification.AIUsageUserAction.dontShowForever
            });
        }
        trackReadyToInteract() {
          this._logger.debug("trackReadyToInteract()"),
            this._trackUxInteraction({ kind: "assistant", userAction: i.Assistant.UserAction.readyToInteract });
        }
        trackMyVoiceCardToggle(e) {
          this._logger.debug("trackMyVoiceCardToggle"),
            this._trackUxInteraction({
              kind: "voiceProfile",
              userAction: e ? i.VoiceProfile.UserAction.toggleToMyVoice : i.VoiceProfile.UserAction.toggleToNeutral
            });
        }
        trackContexNotification(e) {
          this._logger.debug("trackContexNotification()", e),
            this._trackUxInteraction({
              kind: "context" === e ? "contextNotification" : "actionNotification",
              userAction: i.Notification.UserAction.view
            });
        }
        _trackUxInteraction(e, t, n, r = {}) {
          const o = i.getComponentId(e, t, n, r),
            a = i.getUserAction(e);
          this._logger.debug("_trackUxInteraction() - sending `user_action` to CAPI", {
            componentId: o,
            userAction: a,
            uxInteraction: e,
            contextId: t
          }),
            (0, l.t)("sendUserAction", this._capiService.user_action({ componentId: o, userAction: a }), this._logger);
        }
      }
    },
    94689: (e, t, n) => {
      n.d(t, { Ki: () => a, dD: () => s, fx: () => r, s4: () => o });
      var i = n(89894);
      function r(e, t) {
        return Object.assign(
          Object.assign(
            {},
            (function (e) {
              return { width: i.ux.rem(e), minWidth: i.ux.rem(e) };
            })(e)
          ),
          (function (e) {
            return { height: i.ux.rem(e), minHeight: i.ux.rem(e) };
          })(null != t ? t : e)
        );
      }
      function o(e, t) {
        return `.${e}`.repeat(t);
      }
      const a = 7;
      function s(e, t) {
        return (function (e, t, n) {
          return { $nest: { [`&${o(t, n)}`]: e } };
        })(e, t, a);
      }
    },
    65602: (e, t, n) => {
      n.d(t, { DO: () => c, l: () => u });
      var i = n(5114),
        r = n(57050),
        o = n(69243),
        a = n(8709),
        s = n(36991);
      const l = o.OT(o.dt({ ops: o.Bk(o.G0([o.dt({ insert: o.OT(o.Z_) }), o.dt({ retain: o.OT(o.pk) }), o.dt({ delete: o.OT(o.pk) })])) }));
      function c(e) {
        return (0, r.zG)(
          e,
          i.fromPredicate(l.is),
          i.map((e) => new a.i([...e.ops]))
        );
      }
      function u(e, t) {
        return e.reduce(
          (e, t) => (
            s.s.isInsertString(t)
              ? ((e.text = `${e.text.substring(0, e.index)}${t.insert}${e.text.substring(e.index)}`), (e.index += t.insert.length))
              : s.s.isDelete(t)
              ? (e.text = `${e.text.substring(0, e.index)}${e.text.substring(e.index + t.delete)}`)
              : s.s.isRetain(t)
              ? (e.index += t.retain)
              : (function (e) {
                  var t;
                  return s.s.isInsertEmbed(e) && !0 === (null === (t = e.insert) || void 0 === t ? void 0 : t.linebreak);
                })(t) && ((e.text = `${e.text.substring(0, e.index)}\n${e.text.substring(e.index)}`), (e.index += 1)),
            e
          ),
          { text: t, index: 0 }
        ).text;
      }
    },
    79378: (e, t, n) => {
      n.d(t, { Z: () => r });
      var i = n(62172);
      const r = Object.assign(Object.assign({}, i), {
        BrandGreen60: "#018374",
        BrandGreen80: "#017467",
        BorderBaseSubduedColor: "#CDD1DC",
        TextBaseSubduedColor: "#646B81",
        TextBaseDefault: "#161719",
        BorderBaseInverse: "#ffffff",
        BackgroundNeutralDefault: "#646B81",
        BackgroundAdditionSubdued: "#DEF7F5",
        BackgroundBaseSubdued: "#F4F4F6",
        BackgroundBrandDefault: "#027E6F",
        BackgroundBrandHover: "#017467",
        BackgroundBrandActive: "#014C43",
        BorderBrandDefault: "#027E6F",
        ColorBrandDefault: "#027E6F",
        ButtonBackgroundSecondaryHover: "#DEF7F5",
        ButtonBackgroundSecondaryActive: "#B1F0E8",
        ButtonTextSecondaryDefault: "#027E6F",
        ButtonTextSecondaryHover: "#014C43",
        ButtonTextSecondaryActive: "#014C43",
        ButtonBackgroundTertiaryHover: "#E2E4E9",
        ButtonBackgroundTertiaryActive: "#CDD1DC",
        ButtonTextTertiaryDefault: "#646B81",
        ButtonTextTertiaryHover: "#474B58",
        ButtonTextTertiaryActive: "#474B58",
        ButtonBorderTertiaryHover: "#878DA2",
        ButtonBorderTertiaryActive: "#878DA2",
        ButtonTextTertiaryDefaultInverse: "#C2C6D4",
        ButtonTextTertiaryHoverInverse: "#C2C6D4",
        ButtonBackgroundTertiaryHoverInverse: "#27282E",
        ButtonBorderTertiaryHoverInverse: "#C2C6D4",
        ButtonTextTertiaryActiveInverse: "#C2C6D4",
        ButtonBackgroundTertiaryActiveInverse: "#474B58",
        ButtonBorderTertiaryActiveInverse: "#C2C6D4",
        PopoverBackgroundBaseSubdued: "#27282E",
        IndicatorDotDefault: "#E7E9F5",
        IndicatorDotActive: "#4A6EE0",
        MenuBackgroundSelected: "#F4F4F6",
        MenuIconSelected: "#646B81",
        MenuBorderDefault: "#878DA2",
        MenuBackgroundHover: "#E2E4E9",
        MenuIconHover: "#474B58"
      });
    },
    87683: (e, t, n) => {
      n.d(t, { $Q: () => o, E: () => c, Re: () => s, ap: () => l, vY: () => a });
      var i = n(31699),
        r = n(77176);
      function o(e, t = 3) {
        if (e && t > 0) {
          const n = (function (e) {
            const t =
              (null === (r = null === (i = (n = e).ownerDocument) || void 0 === i ? void 0 : i.defaultView) || void 0 === r
                ? void 0
                : r.getComputedStyle(n)) || null;
            var n, i, r;
            return t
              ? "auto" === t.overflow ||
                  "scroll" === t.overflow ||
                  "auto" === t.overflowY ||
                  "scroll" === t.overflowY ||
                  "auto" === t.overflowX ||
                  "scroll" === t.overflowX
              : null;
          })(e);
          return n ? e : null === n ? null : o(null == e ? void 0 : e.parentElement, t - 1);
        }
        return null;
      }
      function a(e) {
        var t, n;
        return null === (n = (null === (t = e.activeElement) || void 0 === t ? void 0 : t.shadowRoot) || e) || void 0 === n
          ? void 0
          : n.activeElement;
      }
      function s(e) {
        return e instanceof HTMLElement;
      }
      const l = ["b", "i"];
      function c(e, t = l) {
        return "string" == typeof e
          ? { dangerouslySetInnerHTML: { __html: (0, i.sanitize)(e, { ALLOWED_TAGS: Array.from(t) }) } }
          : { dangerouslySetInnerHTML: e.pipe(r.U((e) => ({ __html: (0, i.sanitize)(e, { ALLOWED_TAGS: Array.from(t) }) }))) };
      }
    },
    2735: (e, t, n) => {
      function i(e) {
        const t = e;
        return null != t && ((void 0 !== t.message && void 0 !== t.name) || void 0 !== t.stack);
      }
      function r(e) {
        return i(e) ? e : { message: String(e), name: "", stack: void 0 };
      }
      n.d(t, { N: () => r, x: () => i });
    },
    44361: (e, t, n) => {
      function i(e) {
        return (t) => {
          (null == t ? void 0 : t.isTrusted) && (null == e || e(t));
        };
      }
      n.d(t, { m: () => i });
    },
    33498: (e, t, n) => {
      n.d(t, { D: () => o });
      var i = n(44586),
        r = n(76974);
      function o(e) {
        return e instanceof i.y ? e : (0, r.of)(e);
      }
    },
    26320: (e, t, n) => {
      n.d(t, { L: () => c, t: () => l });
      var i = n(95195),
        r = n(62965),
        o = n(57050),
        a = n(2735),
        s = function (e, t, n, i) {
          return new (n || (n = Promise))(function (r, o) {
            function a(e) {
              try {
                l(i.next(e));
              } catch (e) {
                o(e);
              }
            }
            function s(e) {
              try {
                l(i.throw(e));
              } catch (e) {
                o(e);
              }
            }
            function l(e) {
              var t;
              e.done
                ? r(e.value)
                : ((t = e.value),
                  t instanceof n
                    ? t
                    : new n(function (e) {
                        e(t);
                      })).then(a, s);
            }
            l((i = i.apply(e, t || [])).next());
          });
        };
      function l(e, t, n, r, o) {
        return s(this, void 0, void 0, function* () {
          try {
            const a = yield t();
            i.isLeft(a)
              ? (null == n || n.error("runTaskEither() - error running task", { taskName: e, result: a }), null == o || o(a.left))
              : (null == n || n.debug("runTaskEither() - task successful", { taskName: e, result: a.right }), null == r || r(a.right));
          } catch (t) {
            null == o || o(t instanceof Error ? t : new Error(String(t))),
              null == n ||
                n.error("runTaskEither() - promise rejection running task", (0, a.x)(t) ? t : new Error(String(t)), { taskName: e });
          }
        });
      }
      const c = { URI: r.ov, map: r.dO.map, ap: (e, t) => (0, o.zG)(e, r.ap(t)) };
    },
    86262: (e, t, n) => {
      n.d(t, { e: () => ky });
      var i = n(5114),
        r = n(34217),
        o = n(63346),
        a = n(57050),
        s = n(98370),
        l = n(89727),
        c = n(79662),
        u = n(2735);
      const d = "62.2.0";
      var m = function (e, t, n, i) {
        return new (n || (n = Promise))(function (r, o) {
          function a(e) {
            try {
              l(i.next(e));
            } catch (e) {
              o(e);
            }
          }
          function s(e) {
            try {
              l(i.throw(e));
            } catch (e) {
              o(e);
            }
          }
          function l(e) {
            var t;
            e.done
              ? r(e.value)
              : ((t = e.value),
                t instanceof n
                  ? t
                  : new n(function (e) {
                      e(t);
                    })).then(a, s);
          }
          l((i = i.apply(e, t || [])).next());
        });
      };
      class p {
        constructor(e) {
          (this._params = e),
            (this._commonLabels = {
              version: d,
              cheetahClientProtocolVersion: c.XU,
              clientType: this._params.lifecycleService.hostInfo.clientType,
              clientVersion: this._params.lifecycleService.hostInfo.clientVersion,
              containerId: this._params.lifecycleService.hostInfo.containerId,
              environment: this._params.lifecycleService.hostInfo.environment,
              isMergedExperience: (0, a.zG)(this._params.revisionEngine, i.fold((0, a.a9)("false"), (0, a.a9)("true")))
            }),
            (this._markedMetricNames = new Set());
        }
        mark(e) {
          performance.mark(e), this._markedMetricNames.add(e);
        }
        report(e) {
          return m(this, void 0, void 0, function* () {
            if ("test" === this._params.lifecycleService.hostInfo.environment)
              return this._params.logger.debug("test environment; skipping metric report", e);
            const t = Object.keys(this._commonLabels)
                .map((e) => ({ key: e, value: this._commonLabels[e] }))
                .concat(
                  (0, a.zG)(
                    i.fromNullable(e.labels),
                    i.fold(
                      () => [],
                      (e) => Object.keys(e).map((t) => ({ key: t, value: e[t] }))
                    )
                  )
                ),
              n = this._markedMetricNames.has(e.name) ? performance.measure(e.name, { start: e.name }).duration : void 0;
            try {
              const i = yield fetch(`${p.FEMETRICS_ENDPOINT}/batch/import`, {
                method: "POST",
                body: JSON.stringify([
                  { name: `${e.name}_total`, type: "counter", value: 1, labels: t },
                  ...(n ? [{ name: `${e.name}_duration_ms`, type: "histogram", value: n, labels: t }] : [])
                ])
              });
              if (!i.ok) {
                const e = yield i.text();
                throw Error(e);
              }
            } catch (t) {
              this._params.monitoringService.notify((0, s.L)((0, l.Ld)({ rawError: (0, u.N)(t), metric: e })));
            }
          });
        }
        dispose() {
          this._markedMetricNames.forEach((e) => {
            performance.clearMarks(e), performance.clearMeasures(e);
          });
        }
      }
      p.FEMETRICS_ENDPOINT = "https://assistant.femetrics.grammarly.io";
      const h = p;
      var f = n(32952),
        g = n(23239),
        v = n(12968);
      class x {
        constructor() {
          (this._notifications = new f.xQ()), (this.notifications = this._notifications.asObservable());
        }
        notify(e) {
          this._notifications.next(e);
        }
      }
      var y = n(14601),
        b = n(83289),
        k = n(26320);
      class w {
        constructor(e) {
          (this._params = e),
            (this._sub = new y.w()),
            (this._domain = g.h.create(i.none)),
            (this._state = g.h.create({})),
            (this.stagingFeedbackFormData = this._state.view()),
            (this.domain = this._domain.view()),
            this._sub.add(this._params.feedbackService.domain.subscribe((e) => this._domain.set(i.fromNullable(e)))),
            this._sub.add(this._params.assistantUIActions.subscribe((e) => this._handleUIAction(e)));
        }
        dispose() {
          this._sub.unsubscribe();
        }
        _handleUIAction(e) {
          switch (e.kind) {
            case b.i.Kind.openFeedbackFormButtonClick:
              return this._openFeedbackForm(e.source);
            case b.i.Kind.feedbackFormChange:
              return this._updateFeedbackForm(e.feedbackData);
            case b.i.Kind.feedbackFormSubmitButtonClick:
              return this._submitFeedbackForm(e.feedbackData);
            default:
              return;
          }
        }
        _openFeedbackForm(e) {
          this._params.routingViewModel.push({ kind: "feedbackForm" }), this._state.set({ source: e });
        }
        _updateFeedbackForm(e) {
          this._state.modify((t) => Object.assign(Object.assign({}, t), e));
        }
        _submitFeedbackForm(e) {
          this._params.routingViewModel.pop(),
            this._state.set({}),
            (0, k.t)("submitFeedback", this._params.feedbackService.submitFeedback(e), this._params.logger, void 0, (e) =>
              this._params.monitoringService.notify(
                (0, s.L)({ source: "feedback", kind: "error", name: "submitFeedbackFailed", data: { rawError: (0, u.N)(e) } })
              )
            );
        }
      }
      var C = n(64015),
        S = n(80900),
        E = n(66310),
        _ = n(66081),
        I = n(85985),
        A = n(23063),
        B = n(76974),
        R = n(2834),
        O = n(28043),
        U = n(8125),
        T = n(63817);
      class N {
        constructor(e, t, n, i = 3e3, r = 300, o = 1) {
          (this._notificationService = e),
            (this._assistantUIActions = t),
            (this._activeView = n),
            (this._notificationsDurationMs = i),
            (this._mouseOutHoldBackDurationMs = r),
            (this._maxNotificationsCountAtOnce = o),
            (this._state = g.h.create([])),
            (this._notificationsSubs = new Map()),
            (this._subs = new y.w()),
            (this._hovered = g.h.create(!1)),
            (this.state = this._state.view()),
            this._subs.add(this._showFeedbackSubmittedToast().subscribe()),
            this._subs.add(this._clearNotificationsOnViewChange().subscribe()),
            this._subs.add(this._removeVoiceTagNotification().subscribe()),
            this._subs.add(this._showServiceNotifications().subscribe());
        }
        dismiss(e) {
          var t;
          null === (t = this._notificationsSubs.get(e)) || void 0 === t || t.unsubscribe(),
            this._notificationsSubs.delete(e),
            this._state.modify(C.hX((t) => t.id !== e)),
            this._hovered.set(!1);
        }
        hover(e) {
          this._hovered.set(e);
        }
        clearAll() {
          this._notificationsSubs.forEach((e) => e.unsubscribe()), this._notificationsSubs.clear(), this._state.set([]);
        }
        dispose() {
          this._subs.unsubscribe(), this.clearAll();
        }
        _showNotification(e) {
          e.persistent ||
            this._notificationsSubs.set(
              e.id,
              S.H(e.customTimeout || this._notificationsDurationMs)
                .pipe(
                  E.w(() =>
                    this._hovered.get()
                      ? this._hovered.pipe(
                          _.e(10),
                          I.h((e) => !e),
                          A.q(1),
                          E.w(() => S.H(this._mouseOutHoldBackDurationMs))
                        )
                      : B.of(null)
                  )
                )
                .subscribe(() => this.dismiss(e.id))
            ),
            this._state.modify((0, a.ls)(C.QI(e), C.ke(this._maxNotificationsCountAtOnce)));
        }
        _showFeedbackSubmittedToast() {
          return this._assistantUIActions.pipe(
            I.h(
              (0, U.Kg)(
                b.i.is(b.i.Kind.feedbackFormSubmitButtonClick),
                b.i.is(b.i.Kind.reportOffensiveResultButtonClick),
                b.i.is(b.i.Kind.reportOffensiveActionsButtonClick)
              )
            ),
            R.b(() => this._showNotification(T.C.create("feedbackSubmitted")))
          );
        }
        _removeVoiceTagNotification() {
          return this._assistantUIActions.pipe(
            I.h(b.i.is(b.i.Kind.voiceTagPopoverRemoveButtonClick)),
            R.b(() => this._showNotification(T.C.create("voiceTagRemoved")))
          );
        }
        _showServiceNotifications() {
          return this._notificationService.notifications.pipe(R.b((e) => this._showNotification(e)));
        }
        _clearNotificationsOnViewChange() {
          return this._activeView.view("kind").pipe(
            O.x(),
            R.b(() => this.clearAll())
          );
        }
      }
      var M = n(17771),
        F = n(17889),
        j = n(22232),
        P = n(25530),
        z = n(819),
        G = n(7903),
        L = n(73975);
      function Z(e) {
        return "home" === e.kind || "thread" === e.kind;
      }
      const D = { legacyVoiceProfile: !0, voiceProfile: !0, feedbackForm: !0, skill: !0, toneReport: !0, settings: !0 };
      function H(e) {
        return !0 === D[e.kind];
      }
      var V;
      !(function (e) {
        e.eq = L.f7((e, t) => e.kind === t.kind);
      })(V || (V = {}));
      class $ {
        constructor(e, t, n, r) {
          (this._session = e),
            (this._activeView = t),
            (this._genAIAvailability = n),
            (this._toneDetectorViewModel = r),
            (this.contextualActions = g.h.combine(
              this._session,
              this._activeView.view(i.fromPredicate(Z)),
              this._genAIAvailability,
              (e, t, n) =>
                (0, a.zG)(
                  M.Y(i.option)({
                    session: G.z.toStarted(e),
                    view: (0, a.zG)(
                      t,
                      i.map((e) => e.kind)
                    )
                  }),
                  i.map(({ session: e, view: t }) =>
                    "home" === t ? e.activeBoundaryContext : "thread" === t ? e.activeContext : (0, j.L0)(t)
                  ),
                  (t) =>
                    (function (e, t, n) {
                      return (0, a.zG)(
                        e,
                        i.fold(
                          () => ({
                            loading: !t,
                            actions: [],
                            context: { kind: "pending", isBoundary: !1, textRevision: i.none, selection: i.none }
                          }),
                          (e) => ({
                            loading: !t && "pending" === e.kind,
                            actions:
                              z._.isUnavailable(n) || i.exists(({ kind: e }) => "aiUsageAlert" === e)(e.specialView)
                                ? []
                                : e.availableActions.filter((0, a.ff)(P.aU.isSkillAction)),
                            context: e
                          })
                        )
                      );
                    })(t, i.isSome(e.error), n)
                )
            )),
            (this.toneAction = (0, a.zG)(
              this._toneDetectorViewModel,
              i.fold(
                () => g.h.create(i.none),
                (e) => e.state.view(i.chain((0, a.ls)(({ tones: e }) => F.c2(e), i.map(F.YM), i.map(P.aU.createToneAction))))
              )
            )),
            (this.skillActions = this._session.view(
              (0, a.ls)(
                G.z.toStarted,
                i.map((e) => e.activeContext),
                i.map((e) => e.availableActions),
                i.fold(() => [], C.hX(P.aU.isSkillAction))
              )
            ));
        }
      }
      var K = n(87847),
        W = n(77176),
        q = n(41398),
        Q = n(98403),
        Y = n(78674),
        X = n(16118),
        J = n(60797),
        ee = n(2844),
        te = n(93508),
        ne = n(83078),
        ie = n(99877),
        re = n(87683),
        oe = n(45701);
      function ae(e) {
        return e
          .split(/\s+/)
          .map((e) => e.trim())
          .filter((e) => "" !== e);
      }
      var se = n(27378),
        le = n(95195),
        ce = n(54001),
        ue = n(8543),
        de = n(93986),
        me = n(13578),
        pe = n(31278);
      const he = (e) =>
          se.createElement(
            pe.a1,
            Object.assign({ width: "24", height: "24", viewBox: "0 0 24 24", fill: "none" }, e),
            se.createElement("path", {
              d: "M14 11.5H16.7929L8.92289 19.37L10.4851 13.1213L10.6404 12.5H10H7.20711L15.0771 4.62999L13.5149 10.8787L13.3596 11.5H14Z",
              stroke: me.Il.Text.Base.Subdued,
              strokeMiterlimit: "4.25735"
            })
          ),
        fe = (e) =>
          se.createElement(
            pe.a1,
            Object.assign({ width: "24", height: "24", viewBox: "0 0 24 24", fill: "none" }, e),
            se.createElement("rect", { x: "4.5", y: "4.5", width: "6", height: "6", rx: "1.5", stroke: me.Il.Text.Base.Subdued }),
            se.createElement("rect", { x: "4.5", y: "13.5", width: "6", height: "6", rx: "1.5", stroke: me.Il.Text.Base.Subdued }),
            se.createElement("rect", { x: "13.5", y: "4.5", width: "6", height: "6", rx: "1.5", stroke: me.Il.Text.Base.Subdued }),
            se.createElement("path", {
              d: "M14.5513 15.8162L12.9269 16.3577C12.7902 16.4033 12.7902 16.5967 12.9269 16.6423L14.5513 17.1838C15.1485 17.3828 15.6172 17.8515 15.8162 18.4487L16.3577 20.0731C16.4033 20.2098 16.5967 20.2098 16.6423 20.0731L17.1838 18.4487C17.3828 17.8515 17.8515 17.3828 18.4487 17.1838L20.0731 16.6423C20.2098 16.5967 20.2098 16.4033 20.0731 16.3577L18.4487 15.8162C17.8515 15.6172 17.3828 15.1485 17.1838 14.5513L16.6423 12.9269C16.5967 12.7902 16.4033 12.7902 16.3577 12.9269L15.8162 14.5513C15.6172 15.1485 15.1485 15.6172 14.5513 15.8162Z",
              fill: me.Il.Text.Base.Subdued,
              stroke: me.Il.Text.Base.Subdued
            })
          );
      var ge = n(9546),
        ve = n(62172),
        xe = n(89894),
        ye = n(94689),
        be = n(79378);
      const ke = "brick",
        we = (0, ye.dD)({ padding: `0 ${xe.ux.rem(ge.x)} 0 ${xe.ux.rem(ge.F2)}` }, ke),
        Ce = { display: "flex", alignItems: "center", gap: xe.ux.rem(ge.x) },
        Se = (0, ye.dD)({ minHeight: xe.ux.rem(1.75), fontSize: xe.ux.rem(0.75), lineHeight: xe.ux.rem(1.125), color: ve.BlueGray80 }, ke),
        Ee = (0, ye.dD)(
          { minHeight: xe.ux.rem(2), fontSize: xe.ux.rem(0.875), lineHeight: xe.ux.rem(1.375), color: me.Il.Text.Base.Default },
          ke
        ),
        _e = (0, ye.dD)({ boxShadow: `inset 0 0 0 ${xe.ux.rem(0.125)} ${be.Z.BrandGreen60}` }, ke),
        Ie = (0, ye.dD)(
          {
            boxShadow: "none",
            color: ve.NeutralGray70,
            $nest: {
              "&:not([data-disabled='true'])[data-hovered='true'], &:not([data-disabled='true'])[data-active='true']": {
                color: be.Z.BlueGray80,
                boxShadow: `inset 0 0 0 1px ${be.Z.BlueGray40}`,
                backgroundColor: be.Z.BlueGray5
              }
            }
          },
          ke
        ),
        Ae = {
          textAlign: "left",
          whiteSpace: "initial",
          lineHeight: xe.ux.rem(1.125),
          margin: `${xe.ux.rem(0.25)} 0 ${xe.ux.rem(0.25)} 0`
        },
        Be = Object.assign({}, (0, ye.fx)(1.5)),
        Re = xe.ux.joinClasses([ke, xe.ux.style(we)]),
        Oe = xe.ux.style(Ce),
        Ue = xe.ux.style(Se),
        Te = xe.ux.style(Ee),
        Ne = xe.ux.style(_e),
        Me = xe.ux.style(Ie),
        Fe = xe.ux.style(Ae),
        je = xe.ux.style(Be),
        Pe = xe.ux.style(Be),
        ze = (0, ce.xb)(de.z),
        Ge = "actionBrick",
        Le = r.UI.Node.make(({ view: e, notify: t }) =>
          se.createElement(
            ze,
            Object.assign(
              {
                flatUI: !1,
                variant: "secondary",
                onClick: e("action").pipe(W.U((e) => t({ kind: b.i.Kind.actionBrickClick, action: e }))),
                name: "actionBrick"
              },
              (0, ce.Sh)(
                Ge,
                Re,
                e("action").pipe(W.U(({ kind: e }) => ("go" === e ? Ne : null))),
                e("mode").pipe(W.U((e) => ("compact" === e ? Ue : "standard" === e ? Te : (0, j.L0)(e)))),
                e("customViewOpts").pipe(W.U((e) => ((null == e ? void 0 : e.isPinned) ? Me : null)))
              )
            ),
            se.createElement(
              ue.F.div,
              { className: Oe },
              e("icon").pipe(
                W.U(
                  le.fold(
                    (e) => {
                      switch (e) {
                        case "allResults":
                          return se.createElement(fe, { className: je });
                        case "go":
                          return se.createElement(he, { className: Pe });
                        default:
                          return (0, j.L0)(e);
                      }
                    },
                    (e) => se.createElement("img", { src: e, style: { width: 20, height: 20 } })
                  )
                )
              ),
              se.createElement(ue.F.span, Object.assign({ className: Fe }, (0, re.E)(e("label"))))
            )
          )
        );
      var Ze = n(95835);
      const De = "action-row-btn",
        He = ({ icon: e, label: t, style: n, onClick: i }) =>
          se.createElement(
            de.z,
            { variant: "tertiary", onClick: i, name: "actionBrick", size: "large", style: [Xe, n], className: De },
            (0, a.zG)(
              e,
              le.fold(
                () => se.createElement(fe, null),
                (e) => se.createElement("img", { src: e, style: { width: xe.ux.rem(Ve), height: xe.ux.rem(Ve) } })
              )
            ),
            se.createElement(ue.F.div, Object.assign({}, (0, re.E)(t), { className: Je }))
          ),
        Ve = 1.25,
        $e = ge.mh,
        Ke = ge.mh,
        We = ge.qp,
        qe = $e + Ve + We,
        Qe = Ke,
        Ye = (0, Ze.Rv)(`inset 0 0 0 2px ${be.Z.BorderBrandDefault}`),
        Xe = {
          default: {
            fontSize: xe.ux.rem(0.875),
            lineHeight: xe.ux.rem(1.3125),
            minHeight: xe.ux.rem(2.5),
            gap: xe.ux.rem(We),
            padding: `${xe.ux.rem(ge.x)} ${xe.ux.rem(Ke)} ${xe.ux.rem(ge.x)} ${xe.ux.rem($e)}`,
            justifyContent: "flex-start",
            alignItems: "flex-start",
            color: me.Il.Text.Base.Default,
            boxShadow: "none",
            borderRadius: 0,
            $nest: Ye
          },
          hovered: { color: me.Il.Text.Base.Default, boxShadow: "none", $nest: Ye },
          active: { color: me.Il.Text.Base.Default, boxShadow: "none", $nest: Ye },
          icon: (0, ye.fx)(Ve)
        },
        Je = xe.ux.style({ whiteSpace: "initial", textAlign: "left", lineHeight: xe.ux.rem(1.3125) });
      var et;
      !(function (e) {
        (e.isActionStore = function (e) {
          return "actionStore" === e.kind;
        }),
          (e.isSearchResults = function (e) {
            return "searchResults" === e.kind;
          });
      })(et || (et = {}));
      class tt {
        constructor(e, t, n, r, o, s, l) {
          (this._trackingService = o),
            (this._focusPromptField = l),
            (this._subs = new y.w()),
            (this._state = g.h.create(i.none)),
            (this._userTyped = new f.xQ()),
            (this._promptOrMenuFocused = new f.xQ()),
            (this._promptMenuActions = new f.xQ()),
            (this._promptMenuContainer = g.h.create(i.none)),
            (this._promptMenuContentContainer = i.none),
            (this._cachedActionBricks = i.none),
            (this.state = this._state.view()),
            this._subs.add(e.subscribe((e) => this._handleUIAction(e))),
            this._subs.add(
              this._userTyped
                .pipe(
                  K.D((e) => (e.trim().length > 0 ? S.H(150) : B.of(null))),
                  W.U((e) => e.trim()),
                  R.b((e) => {
                    "" === e && this._promptMenuActions.next({ kind: "close" });
                  }),
                  I.h((e) => "" !== e),
                  I.h(() => !s()),
                  q.M(
                    this._state.view(
                      i.fold(
                        () => a.W8,
                        (e) => e.filterPredicate
                      )
                    )
                  ),
                  R.b(([e, t]) => this._promptMenuActions.next({ kind: "showSearchResults", search: e, filterPredicate: t }))
                )
                .subscribe()
            ),
            this._subs.add(
              (function (e, t, n, r, o) {
                const s = r;
                return ee
                  .aj([
                    e.pipe(
                      E.w((e) =>
                        "showSearchResults" === e.kind
                          ? g.h.combine(t, s, n, ({ actions: t, loading: n }, r, o) =>
                              (0, a.zG)(
                                (0, a.zG)([r], C.oA)
                                  .concat(o)
                                  .concat(t.filter((0, a.ff)(P.aU.isSkillAction))),
                                C.hX(e.filterPredicate),
                                F.c2,
                                i.filter(() => "" !== e.search.trim() && !n),
                                i.chain((t) =>
                                  (function (e, t) {
                                    return (0, a.zG)(
                                      e,
                                      C.DZ((e) =>
                                        (0, a.zG)(
                                          (function (e, t, n) {
                                            const r = ae(e),
                                              o = [
                                                ...ae(t),
                                                ...(0, a.zG)(
                                                  n,
                                                  C.tS((e) => ae(e))
                                                )
                                              ],
                                              s = r.map(() => null);
                                            let l = 0;
                                            for (const e of o) {
                                              if (l >= r.length) break;
                                              e.toLowerCase().includes(r[l].toLowerCase()) && ((s[l] = 0), ++l);
                                            }
                                            return s.includes(null)
                                              ? i.none
                                              : i.some(s.map((e) => (null != e ? e : 0)).reduce((e, t) => e + t, 0));
                                          })(t, e.searchLabel, e.searchTags),
                                          i.map((t) => ({ data: e, matchScore: t }))
                                        )
                                      ),
                                      C.DY(oe.contramap(({ matchScore: e }) => e)(oe.ordNumber)),
                                      C.UI(({ data: e }) => e),
                                      F.c2
                                    );
                                  })(t, e.search)
                                ),
                                i.map((t) => ({ kind: "searchResults", actions: t, filterPredicate: e.filterPredicate }))
                              )
                            )
                          : "showActionStore" === e.kind
                          ? g.h.combine(t, s, n, ({ actions: t, loading: n }, r, o) =>
                              (0, a.zG)(
                                (0, a.zG)([r], C.oA)
                                  .concat(o)
                                  .concat(t.filter((0, a.ff)(P.aU.isSkillAction))),
                                C.hX(e.filterPredicate),
                                F.c2,
                                i.filter(() => !n),
                                i.map((t) => ({ kind: "actionStore", actions: t, filterPredicate: e.filterPredicate }))
                              )
                            )
                          : "close" === e.kind
                          ? B.of(i.none)
                          : (0, j.L0)(e)
                      ),
                      te.O(i.none)
                    ),
                    o
                  ])
                  .pipe(
                    W.U(([e, t]) =>
                      (0, a.zG)(
                        e,
                        i.map((e) => Object.assign(Object.assign({}, e), { promptMenuContainer: t }))
                      )
                    )
                  );
              })(this._promptMenuActions, t, n, r, this._promptMenuContainer).subscribe(Q.wW(this._state))
            ),
            this._subs.add(
              this._promptOrMenuFocused
                .pipe(
                  Y.b(100),
                  I.h((e) => !e)
                )
                .subscribe(() => this._promptMenuActions.next({ kind: "close" }))
            ),
            this._subs.add(
              this.state
                .pipe(
                  X.G(),
                  I.h(([e, t]) => i.isNone(e) && i.isSome(t)),
                  W.U(([e, t]) => t),
                  J.oA
                )
                .subscribe((e) => {
                  "actionStore" === e.kind
                    ? this._trackingService.trackActionsOpenStore()
                    : "searchResults" === e.kind && this._trackingService.trackPromptSearch();
                })
            ),
            this._subs.add(this._promptMenuActions.pipe(I.h((e) => "close" === e.kind)).subscribe(() => this._invalidateActionBricks()));
        }
        dispose() {
          this._subs.unsubscribe();
        }
        _handleUIAction(e) {
          switch (e.kind) {
            case b.i.Kind.mount:
              return void (e.name === ie.e.promptMenuContent
                ? (this._promptMenuContentContainer = i.some(e.element))
                : e.name === ie.e.promptInputAndMenuContainer && this._promptMenuContainer.set(i.some(e.element)));
            case b.i.Kind.unmount:
              return void (e.name === ie.e.promptInputAndMenuContainer && this._promptMenuContainer.set(i.none));
            case b.i.Kind.promptMenuKeyPressArrowDown:
              return this._onPromptMenuKeyPressArrowDown();
            case b.i.Kind.promptMenuKeyPressArrowUp:
              return this._onPromptMenuKeyPressArrowUp();
            case b.i.Kind.promptFieldKeyPressArrowUp:
              return this._focusLastBrick();
            case b.i.Kind.promptFieldKeyPressArrowDown:
              return this._focusFirstBrick();
            case b.i.Kind.promptFieldTextChange:
              return this._invalidateActionBricks(), this._userTyped.next(e.text);
            case b.i.Kind.promptFieldKeyPressEscape:
              return e.menuOpened ? this._promptMenuActions.next({ kind: "close" }) : void 0;
            case b.i.Kind.collapsePromptMenuButtonClick:
            case b.i.Kind.promptSubmitButtonClick:
              return this._promptMenuActions.next({ kind: "close" });
            case b.i.Kind.promptFieldKeyPressEnter:
              return void (e.text.trim().length > 0 && this._promptMenuActions.next({ kind: "close" }));
            case b.i.Kind.actionBrickClick:
              return "allResults" === e.action.kind
                ? this._promptMenuActions.next({ kind: "showActionStore", filterPredicate: e.action.filterPredicate })
                : this._promptMenuActions.next({ kind: "close" });
            case b.i.Kind.promptFieldAndMenuFocusChange:
              return this._promptOrMenuFocused.next(e.focused);
            default:
              return;
          }
        }
        _invalidateActionBricks() {
          this._cachedActionBricks = i.none;
        }
        _getActionBricks() {
          return (0, a.zG)(
            this._cachedActionBricks,
            i.getOrElse(() => {
              const e = (0, a.zG)(
                this._promptMenuContentContainer,
                i.fold(
                  () => [],
                  (e) => C.nI(Array.from(e.querySelectorAll(".actionBrick, .action-row-btn")).filter(re.Re))
                )
              );
              return (this._cachedActionBricks = i.some(e)), e;
            })
          );
        }
        _onPromptMenuKeyPressArrowDown() {
          var e;
          const t = this._getActionBricks(),
            n = (0, re.vY)(
              (null === (e = i.toNullable(this._promptMenuContentContainer)) || void 0 === e ? void 0 : e.ownerDocument) || document
            );
          return (0, a.zG)(
            i.fromNullable(t.findIndex((e) => e === n)),
            ne.bw((e) => {
              var n;
              e + 1 >= t.length ? this._focusPromptField() : null === (n = t[e + 1]) || void 0 === n || n.focus();
            })
          );
        }
        _onPromptMenuKeyPressArrowUp() {
          var e;
          const t = this._getActionBricks(),
            n = (0, re.vY)(
              (null === (e = i.toNullable(this._promptMenuContentContainer)) || void 0 === e ? void 0 : e.ownerDocument) || document
            );
          return (0, a.zG)(
            i.fromNullable(t.findIndex((e) => e === n)),
            ne.bw((e) => {
              var n;
              e - 1 < 0 ? this._focusPromptField() : null === (n = t[e - 1]) || void 0 === n || n.focus();
            })
          );
        }
        _focusFirstBrick() {
          var e;
          null === (e = this._getActionBricks()[0]) || void 0 === e || e.focus();
        }
        _focusLastBrick() {
          var e;
          const t = this._getActionBricks();
          null === (e = t[t.length - 1]) || void 0 === e || e.focus();
        }
      }
      class nt {
        constructor(e) {
          (this._params = e),
            (this._subs = new y.w()),
            this._subs.add(
              this._params.assistantUIActions.subscribe((e) => {
                if (e.kind === b.i.Kind.settingsButtonClick)
                  return "withView" === this._params.options.kind
                    ? this._params.routingViewModel.push({ kind: "settings" })
                    : this._params.options.onClick(e.buttonRect);
              })
            );
        }
        getView() {
          return "withView" === this._params.options.kind ? i.some(this._params.options.getView()) : i.none;
        }
        dispose() {
          this._subs.unsubscribe();
        }
      }
      var it = n(62965),
        rt = n(41866);
      class ot {
        constructor(e, t, n, r) {
          (this._assistantUIActions = e),
            (this._router = t),
            (this._monitoringService = n),
            (this._skillService = r),
            (this._subs = new y.w()),
            (this._state = g.h.create(i.none)),
            (this.state = this._state.view()),
            this._skillService &&
              this._subs.add(
                this._skillService.skillRequests.subscribe((e) => {
                  e.close
                    ? (this._onSkillClosed(), this._state.set(i.none))
                    : e.size && this._state.modify(i.map((t) => Object.assign(Object.assign({}, t), { size: e.size })));
                })
              ),
            this._subs.add(this._assistantUIActions.subscribe((e) => this._handleUIAction(e)));
        }
        dispose() {
          this._subs.unsubscribe();
        }
        _handleUIAction(e) {
          switch (e.kind) {
            case b.i.Kind.actionBrickClick:
              if ("regularAction" === e.action.kind && P.aU.isSkillAction(e.action.action)) {
                const t = e.action.action.skill;
                this._onSkillOpened(), this._state.set(i.some({ skill: t, status: "loading", size: { width: 416, height: 245 } }));
              }
              break;
            case b.i.Kind.mount:
              e.name === ie.e.skill &&
                (0, k.t)(
                  "initSkill",
                  (0, a.zG)(
                    (0, a.zG)(
                      this._state.get(),
                      it.Yo(() => new Error("Cannot init Skill. No Skill state available."))
                    ),
                    it.tS((t) =>
                      this._skillService
                        ? (0, a.zG)(
                            this._skillService.initSkill(t.skill, e.element),
                            it.UI((e) => Object.assign(Object.assign({}, t), { size: e }))
                          )
                        : it.t$(new Error("Cannot init Skill. No `SkillService` available."))
                    )
                  ),
                  void 0,
                  (e) => this._state.set(i.some(Object.assign(Object.assign({}, e), { status: "ready" }))),
                  (e) => {
                    this._state.modify(i.map((e) => Object.assign(Object.assign({}, e), { status: "error" }))),
                      this._monitoringService.notify(
                        (0, s.L)(
                          (0, rt.iJ)({
                            skillId: (0, a.zG)(
                              this._state.get(),
                              i.map((e) => e.skill.id),
                              i.toNullable
                            ),
                            rawError: (0, u.N)(e)
                          })
                        )
                      );
                  }
                );
              break;
            case b.i.Kind.unmount:
              e.name !== ie.e.skill ||
                this._router.has({ kind: "skill" }).get() ||
                (0, k.t)(
                  "terminateSkill",
                  (0, a.zG)(
                    (0, a.zG)(
                      this._state.get(),
                      it.Yo(() => new Error("Cannot terminate Skill. No Skill state available."))
                    ),
                    it.tS((e) =>
                      this._skillService
                        ? (0, a.zG)(
                            this._skillService.terminateSkill(e.skill),
                            it.UI(() => e)
                          )
                        : it.t$(new Error("Cannot terminate Skill. No `SkillService` available."))
                    )
                  ),
                  void 0,
                  () => this._state.set(i.none),
                  (e) => {
                    this._state.set(i.none),
                      this._monitoringService.notify(
                        (0, s.L)(
                          (0, rt.go)({
                            skillId: (0, a.zG)(
                              this._state.get(),
                              i.map((e) => e.skill.id),
                              i.toNullable
                            ),
                            rawError: (0, u.N)(e)
                          })
                        )
                      );
                  }
                );
          }
        }
        _onSkillOpened() {
          this._router.push({ kind: "skill" });
        }
        _onSkillClosed() {
          "skill" === this._router.activeView.get().kind && this._router.pop();
        }
      }
      var at = n(90488);
      class st {
        constructor(e) {
          (this._params = e),
            (this._subscriptions = new y.w()),
            (this.state = g.h.combine(
              this._params.toneDetectorService.state,
              this._params.userService.user.view("institutionName"),
              (e, t) =>
                (0, a.zG)(
                  e,
                  i.map((e) => Object.assign(Object.assign({}, e), { institutionName: t }))
                )
            )),
            this._subscriptions.add(
              this._params.assistantUIActions
                .pipe(I.h((0, U.Kg)(b.i.isToneDetectorAction, b.i.is(b.i.Kind.actionBrickClick))))
                .subscribe((e) => this._handleUIAction(e))
            ),
            this._subscriptions.add(
              this._params.toneDetectorService.state
                .view(
                  i.fold(
                    () => [],
                    (e) => (e.hidden ? [] : e.tones)
                  )
                )
                .pipe(
                  X.G(),
                  I.h(([e, t]) => e.length > 0 && 0 === t.length),
                  q.M(this._params.routingViewModel.activeView.view("kind")),
                  I.h(([e, t]) => "toneReport" === t)
                )
                .subscribe(() => this._params.routingViewModel.pop())
            );
        }
        dispose() {
          this._subscriptions.unsubscribe();
        }
        _handleUIAction(e) {
          switch (e.kind) {
            case b.i.Kind.toneReportToneLikeButtonClick:
              this._params.toneDetectorService.submitToneFeedback(e.toneName, at.RO.positive);
              break;
            case b.i.Kind.toneReportToneDislikeButtonClick:
              this._params.toneDetectorService.submitToneFeedback(e.toneName, at.RO.negative);
              break;
            case b.i.Kind.actionBrickClick: {
              const t = e.action;
              "regularAction" === t.kind && P.aU.isToneAction(t.action) && this._params.routingViewModel.push({ kind: "toneReport" });
              break;
            }
            default:
              (0, j.L0)(e);
          }
        }
      }
      var lt,
        ct = n(31705);
      !(function (e) {
        e.empty = {
          activeSurvey: i.none,
          stage: ct.x.Stage.Type.Rating,
          transitionStage: ct.x.Stage.Type.Rating,
          rating: i.none,
          errors: i.none,
          openAnswer: i.none
        };
      })(lt || (lt = {}));
      class ut {
        constructor(e) {
          (this._params = e),
            (this._state = g.h.create(lt.empty)),
            (this._subs = new y.w()),
            (this._stageTimeoutClear = void 0),
            (this.state = this._state.view()),
            this._updateStageAfterTransition(),
            this._subscribeToActiveSurvey(),
            this._subs.add(
              this._params.assistantUIActions.subscribe((e) => {
                (0, U.Kg)(b.i.isSurveyAction, b.i.isSurveyImplicitDismissAction)(e) && this._handleUIAction(e);
              })
            );
        }
        get _activeSurvey() {
          return this.state.get().activeSurvey;
        }
        _subscribeToActiveSurvey() {
          this._subs.add(
            this._params.userSurveyService.activeSurvey.subscribe((e) => {
              (0, a.zG)(
                e,
                i.map((e) => {
                  (0, a.zG)(
                    this._activeSurvey,
                    i.fold(
                      () => this._updateActiveSurvey(e),
                      (t) => {
                        t.detailedPlacement !== e.detailedPlacement && this._updateActiveSurvey(e);
                      }
                    )
                  );
                })
              );
            })
          );
        }
        _updateActiveSurvey(e) {
          this._state.set(Object.assign(Object.assign({}, lt.empty), { activeSurvey: i.some(e) }));
        }
        _handleUIAction(e) {
          switch (e.kind) {
            case b.i.Kind.surveySubmitButtonClick:
            case b.i.Kind.surveyKeyPressShiftEnter:
              this._onSurveyCompleted();
              break;
            case b.i.Kind.surveyCancelButtonClick:
            case b.i.Kind.surveyCloseButtonClick:
              this._onDismissExplicitly();
              break;
            case b.i.Kind.surveyOpenAnswerChange:
              this._onOpenAnswerChange(e.openAnswer);
              break;
            case b.i.Kind.surveyRatingSelectionChange:
              this._onRatingSelectionChange(e.rating);
              break;
            case b.i.Kind.promptSubmitButtonClick:
            case b.i.Kind.actionBrickClick:
            case b.i.Kind.resultCardInsertButtonClick:
            case b.i.Kind.resultCardRephraseButtonClick:
            case b.i.Kind.resultCardHeaderClick:
            case b.i.Kind.resultCardDismissButtonClick:
              this._onDismissImplicitly();
              break;
            default:
              (0, j.L0)(e);
          }
        }
        _onRatingSelectionChange(e) {
          (0, a.zG)(
            this._activeSurvey,
            i.map((e) => e.skipOpenAnswerFrom),
            i.map((t) => {
              e < t
                ? this._state.modify((t) =>
                    Object.assign(Object.assign({}, t), { rating: i.some(e), transitionStage: ct.x.Stage.Type.Feedback })
                  )
                : this._state.modify((t) =>
                    Object.assign(Object.assign({}, t), { rating: i.some(e), transitionStage: ct.x.Stage.Type.Completed })
                  ),
                this._reportCompleting();
            })
          );
        }
        _onOpenAnswerChange(e) {
          (0, a.zG)(
            this._activeSurvey,
            i.chain(({ openAnswer: e }) => e),
            i.map(({ maxLen: t }) => {
              e.length <= t && this._state.modify((t) => Object.assign(Object.assign({}, t), { openAnswer: i.some(e), errors: i.none }));
            })
          );
        }
        _onSurveyCompleted() {
          (0, a.zG)(
            this._activeSurvey,
            i.chain(({ openAnswer: e }) => e),
            i.chain(({ minLen: e }) => e),
            i.fold(
              () => this._complete(),
              (e) => {
                (0, a.zG)(
                  this._state.get().openAnswer,
                  i.fold(
                    () => this._setOpenAnswerError("This field is required."),
                    (t) => {
                      t.length < e
                        ? this._setOpenAnswerError(e > 0 ? `Please enter at least ${e} characters.` : "This field is required.")
                        : this._complete();
                    }
                  )
                );
              }
            )
          );
        }
        _complete() {
          this._reportCompleting(), this._state.lens("transitionStage").set(ct.x.Stage.Type.Completed);
        }
        _reportCompleting() {
          (0, a.zG)(
            this._activeSurvey,
            i.chain((e) =>
              (0, a.zG)(
                this._state.get().rating,
                i.map((t) => ({ survey: e, rating: t }))
              )
            ),
            i.map(({ survey: e, rating: t }) =>
              this._params.userSurveyService.submitSurveyResult({
                rating: t,
                openAnswer: this._state.get().openAnswer,
                placement: e.placement,
                detailedPlacement: e.detailedPlacement,
                stage: this.state.get().stage,
                type: e.type
              })
            )
          );
        }
        _setOpenAnswerError(e) {
          this._state.lens("errors").set(i.some({ openAnswerError: i.some(e) }));
        }
        _onDismissExplicitly() {
          (0, a.zG)(
            this._activeSurvey,
            i.map((e) => {
              const t = this.state.get().stage;
              t === ct.x.Stage.Type.Rating &&
                this._params.userSurveyService.dismissSurvey({
                  placement: e.placement,
                  detailedPlacement: e.detailedPlacement,
                  type: e.type,
                  stage: t
                });
            })
          ),
            this._state.lens("transitionStage").set(ct.x.Stage.Type.Closed);
        }
        _onDismissImplicitly() {
          this._state.lens("transitionStage").set(ct.x.Stage.Type.Closed);
        }
        _updateStageAfterTransition() {
          this._subs.add(
            this._state.subscribe((e) => {
              this._clearStageTimeout(),
                (this._stageTimeoutClear = setTimeout(() => {
                  this._state.lens("stage").set(e.transitionStage);
                }, dt[e.transitionStage]));
            })
          );
        }
        _clearStageTimeout() {
          void 0 !== this._stageTimeoutClear && (clearTimeout(this._stageTimeoutClear), (this._stageTimeoutClear = void 0));
        }
        dispose() {
          this._subs.unsubscribe(), this._clearStageTimeout();
        }
      }
      const dt = {
        [ct.x.Stage.Type.Rating]: 0,
        [ct.x.Stage.Type.Feedback]: 300,
        [ct.x.Stage.Type.Completed]: 0,
        [ct.x.Stage.Type.Closed]: 0
      };
      var mt,
        pt = n(48044),
        ht = n(13853);
      !(function (e) {
        e.set = function (e, t) {
          return (n) => Object.assign(Object.assign({}, n), { [e]: t });
        };
      })(mt || (mt = {}));
      var ft = n(33305);
      class gt {
        constructor(e) {
          (this._params = e),
            (this._subs = new y.w()),
            (this._state = g.h.create({ stagingNewVoiceProfile: i.none, stagingVoiceProfile: i.none })),
            (this.state = this._state.view()),
            this._subs.add(this._params.assistantUIActions.subscribe((e) => this._handleUIAction(e)));
        }
        dispose() {
          this._subs.unsubscribe();
        }
        _handleUIAction(e) {
          switch (e.kind) {
            case b.i.Kind.headerGoBackButtonClick:
              return this._handleGoBack(e.goBackFrom);
            case b.i.Kind.headerVoiceButtonClick:
              return this._openVoiceProfile("toolbar");
            case b.i.Kind.setVoiceButtonClick:
              return this._openVoiceProfile("banner");
            case b.i.Kind.voiceProfileCloseButtonClick:
              return this._closeVoiceProfile();
            case b.i.Kind.voiceProfileUseVoiceButtonClick:
              return this._applyVoiceProfile();
            case b.i.Kind.toneToggleClick:
              return this._toggleTone(e.id, e.selected);
            case b.i.Kind.styleToggleClick:
              return this._selectStyle(e.id);
            case b.i.Kind.roleTypeaheadSelectionChange:
              return this._selectRole(
                (0, a.zG)(
                  e.role,
                  i.map((e) => e.id)
                )
              );
            case b.i.Kind.dialectDropdownSelectionChange:
              return this._selectDialect(e.dialect.id);
            case b.i.Kind.voiceProfileTabChange:
              return this._switchNewVoiceProfileTab(e.profileName);
            case b.i.Kind.voiceTagPopoverRemoveButtonClick:
              return this._removeVoiceTag(e);
            case b.i.Kind.voiceTagPopoverCloseButtonClick:
              return this._closeVoiceTagPopover();
            case b.i.Kind.voiceTagPopoverKeepButtonClick:
              return this._keepVoiceTagPopover();
            case b.i.Kind.applyVoiceToWritingCheckboxChange:
              return this._updateMyVoiceIsEnabled(e.checked);
            case b.i.Kind.voiceTagClick:
              return this._toggleVoiceTag(e);
            case b.i.Kind.voiceDialectDropdownSelectionChange:
              return this._selectNewVoiceDialect(e.dialect.id);
            case b.i.Kind.voiceRoleDropdownSelectionChange:
              return this._selectNewVoiceRole(e.role.id);
            case b.i.Kind.voiceSelectionsSaveButtonClick:
              return this._saveNewVoiceSelections();
            case b.i.Kind.voiceSelectionsCancelButtonClick:
              return this._cancelNewVoiceSelectionChanges();
            case b.i.Kind.voiceSelectionsEditButtonClick:
              return this._editNewVoiceSelections();
            case b.i.Kind.promptFieldKeyPressEscape:
            case b.i.Kind.headerCloseButtonClick:
              return this._trySaveNewProfileIfChanged();
            default:
              return;
          }
        }
        _handleGoBack(e) {
          ("voiceProfile" !== e.kind && "legacyVoiceProfile" !== e.kind) ||
            (0, a.zG)(
              G.z.toStarted(this._params.sessionService.session.get()),
              ne.bw((e) => {
                "newVoiceProfile" === e.voiceProfile.kind
                  ? (this._trySaveNewProfileIfChanged(), this._state.lens("stagingNewVoiceProfile").set(i.none))
                  : "legacyVoiceProfile" === e.voiceProfile.kind && this._state.lens("stagingVoiceProfile").set(i.none);
              })
            );
        }
        _createVoiceProfile(e) {
          var t;
          return "newVoiceProfile" === e.kind
            ? mt.set(
                "stagingNewVoiceProfile",
                i.some({
                  selectedRole: e.selectedRole,
                  selectedDialect: e.selectedDialect,
                  isEnabledByDefault: e.isEnabledByDefault,
                  profiles: e.profiles,
                  activeTagId: i.none,
                  activeProfileName: i.fromNullable(null === (t = e.profiles.find((e) => e.selected)) || void 0 === t ? void 0 : t.name),
                  stagingSelections: i.none
                })
              )
            : mt.set(
                "stagingVoiceProfile",
                i.some({
                  selectedStyle: e.selectedStyle,
                  selectedTonesPerStyle: e.selectedTonesPerStyle,
                  selectedRole: e.selectedRole,
                  selectedDialect: e.selectedDialect,
                  needsSetup: e.needsSetup
                })
              );
        }
        _openVoiceProfile(e) {
          (0, a.zG)(
            G.z.toStarted(this._params.sessionService.session.get()),
            ne.bw((t) => {
              this._params.trackingService.trackVoiceProfileOpen(e),
                this._params.routingViewModel.push({
                  kind: "newVoiceProfile" === t.voiceProfile.kind ? "voiceProfile" : "legacyVoiceProfile"
                }),
                this._state.modify(this._createVoiceProfile(t.voiceProfile));
            })
          );
        }
        _closeVoiceProfile() {
          this._params.trackingService.trackVoiceProfileSkip(),
            this._params.routingViewModel.pop(),
            this._state.lens("stagingVoiceProfile").set(i.none);
        }
        _applyVoiceProfile() {
          const e = this._state.get().stagingVoiceProfile;
          this._params.routingViewModel.pop(),
            this._state.lens("stagingVoiceProfile").set(i.none),
            (0, a.zG)(
              e,
              ne.bw((e) => {
                (0, k.t)("setVoiceProfile", this._params.sessionService.setVoiceProfile(e), this._params.logger);
              })
            );
        }
        _toggleTone(e, t) {
          this._state.lens("stagingVoiceProfile").modify(
            i.map((n) => {
              return Object.assign(Object.assign({}, n), {
                selectedTonesPerStyle: (0, a.zG)(
                  n.selectedTonesPerStyle,
                  t
                    ? ((r = ft.L.Style.Id.eq),
                      (e, t) => (n) =>
                        (0, a.zG)(
                          n,
                          pt.cq(r)(e, (0, a.ls)(i.some, t)),
                          i.getOrElse(() => (0, a.zG)(n, pt.ZQ(r)(e, t(i.none))))
                        ))(
                        n.selectedStyle,
                        i.fold(() => new Set([e]), ht.$T(ft.L.Tone.Id.eq)(e))
                      )
                    : (0, a.ls)(
                        pt.cq(ft.L.Style.Id.eq)(n.selectedStyle, ht.Od(ft.L.Tone.Id.eq)(e)),
                        i.getOrElse(() => n.selectedTonesPerStyle)
                      )
                )
              });
              var r;
            })
          );
        }
        _selectStyle(e) {
          this._state.lens("stagingVoiceProfile").modify(i.map((t) => Object.assign(Object.assign({}, t), { selectedStyle: e })));
        }
        _selectRole(e) {
          this._state.lens("stagingVoiceProfile").modify(i.map((t) => Object.assign(Object.assign({}, t), { selectedRole: e })));
        }
        _selectDialect(e) {
          this._state.lens("stagingVoiceProfile").modify(i.map((t) => Object.assign(Object.assign({}, t), { selectedDialect: e })));
        }
        _editNewVoiceSelections() {
          this._updateNewProfileStateIfAny((e) =>
            Object.assign(Object.assign({}, e), {
              stagingSelections: i.some({ selectedDialect: e.selectedDialect, selectedRole: e.selectedRole })
            })
          );
        }
        _cancelNewVoiceSelectionChanges() {
          this._updateNewProfileStateIfAny((e) => Object.assign(Object.assign({}, e), { stagingSelections: i.none }));
        }
        _saveNewVoiceSelections() {
          this._updateNewProfileStateIfAny((e) =>
            Object.assign(Object.assign({}, e), {
              selectedDialect: (0, a.zG)(
                e.stagingSelections,
                i.fold(
                  () => e.selectedDialect,
                  (e) => e.selectedDialect
                )
              ),
              selectedRole: (0, a.zG)(
                e.stagingSelections,
                i.fold(
                  () => e.selectedRole,
                  (e) => e.selectedRole
                )
              ),
              stagingSelections: i.none
            })
          );
        }
        _selectNewVoiceRole(e) {
          this._updateNewProfileStateIfAny((t) =>
            Object.assign(Object.assign({}, t), {
              stagingSelections: (0, a.zG)(
                t.stagingSelections,
                i.map((t) => Object.assign(Object.assign({}, t), { selectedRole: i.some(e) }))
              )
            })
          );
        }
        _selectNewVoiceDialect(e) {
          this._updateNewProfileStateIfAny((t) =>
            Object.assign(Object.assign({}, t), {
              stagingSelections: (0, a.zG)(
                t.stagingSelections,
                i.map((t) => Object.assign(Object.assign({}, t), { selectedDialect: e }))
              )
            })
          );
        }
        _updateNewProfileStateIfAny(e) {
          this._state.lens("stagingNewVoiceProfile").modify(i.map(e));
        }
        _keepVoiceTagPopover() {
          this._params.trackingService.trackVoiceProfileKeepTag(), this._closeVoiceTagPopover();
        }
        _closeVoiceTagPopover() {
          this._updateNewProfileStateIfAny((e) => Object.assign(Object.assign({}, e), { activeTagId: i.none }));
        }
        _toggleVoiceTag({ tagName: e, sectionName: t, profileName: n }) {
          this._updateNewProfileStateIfAny((r) =>
            Object.assign(Object.assign({}, r), {
              activeTagId:
                i.toNullable(r.activeTagId) === ft.b.createId({ tagName: e, sectionName: t, profileName: n })
                  ? i.none
                  : i.some(ft.b.createId({ tagName: e, sectionName: t, profileName: n }))
            })
          );
        }
        _updateMyVoiceIsEnabled(e) {
          this._updateNewProfileStateIfAny((t) => Object.assign(Object.assign({}, t), { isEnabledByDefault: e }));
        }
        _removeVoiceTag({ tagName: e, profileName: t, sectionName: n }) {
          this._params.trackingService.trackVoiceProfileRemoveTag(),
            this._updateNewProfileStateIfAny((i) =>
              Object.assign(Object.assign({}, i), {
                profiles: (0, a.zG)(
                  i.profiles,
                  C.UI((i) =>
                    i.name === t
                      ? Object.assign(Object.assign({}, i), {
                          sections: i.sections.map((t) =>
                            t.name === n ? Object.assign(Object.assign({}, t), { tags: t.tags.filter((t) => t.name !== e) }) : t
                          )
                        })
                      : i
                  )
                )
              })
            );
        }
        _switchNewVoiceProfileTab(e) {
          this._updateNewProfileStateIfAny((t) => Object.assign(Object.assign({}, t), { activeProfileName: i.some(e) }));
        }
        _trySaveNewProfileIfChanged() {
          (0, a.zG)(
            M.Y(i.option)({
              editedVoiceProfile: this._state.view("stagingNewVoiceProfile").get(),
              sessionVoiceProfile: (0, a.zG)(
                G.z.toStarted(this._params.sessionService.session.get()),
                i.map((e) => e.voiceProfile),
                i.chain(ft.L.toNewVoiceProfile)
              )
            }),
            i.filter(
              ({ editedVoiceProfile: e, sessionVoiceProfile: t }) =>
                !ft.L.NewSelections.eqByRoleDialectProfileAndIsEnabledByDefault.equals(e, t)
            ),
            ne.bw(({ editedVoiceProfile: e }) => {
              (0, k.t)(
                "setNewVoiceProfile",
                this._params.sessionService.setNewVoiceProfile({
                  selectedDialect: e.selectedDialect,
                  selectedRole: e.selectedRole,
                  isEnabledByDefault: e.isEnabledByDefault,
                  profiles: e.profiles
                }),
                this._params.logger
              );
            })
          );
        }
      }
      var vt,
        xt = n(24209),
        yt = n(19751),
        bt = n(14047),
        kt = n(65602);
      function wt(e, t) {
        return (0, a.zG)(
          G.z.toStarted(e),
          i.filter((e) =>
            (0, a.zG)(
              t ? e.activeBoundaryContext.specialView : e.activeContext.specialView,
              ne.wo(({ kind: e }) => "aiUsageAlert" !== e)
            )
          ),
          i.map((e) => (t ? e.activeBoundaryContext.availableActions : e.activeContext.availableActions)),
          i.chain(F.c2)
        );
      }
      function Ct(e, t) {
        return (0, a.zG)(
          G.z.toStarted(e),
          i.chain((e) =>
            (0, a.zG)(
              (function (e) {
                return (0, a.zG)(
                  e.split(/\s/).filter((e) => e.length > 3 && e.includes(".")),
                  F.nI
                );
              })(t),
              i.map(
                C.DZ((t) => {
                  var n;
                  return null !== (n = e.detectedReferences.get(t)) && void 0 !== n ? n : i.none;
                })
              ),
              i.chain(F.c2)
            )
          )
        );
      }
      !(function (e) {
        (e.eq = le.getEq(L.yv, bt.x.Id.eq)),
          (e.card = function (e) {
            return le.right(e);
          }),
          (e.uiItem = function (e) {
            return le.left(e);
          }),
          (e.toCard = function (e) {
            return i.fromEither(e);
          }),
          (e.toUIItem = function (e) {
            return (0, a.zG)(
              e,
              le.fold(i.some, () => i.none)
            );
          });
      })(vt || (vt = {}));
      var St,
        Et,
        _t = function (e, t, n, i) {
          return new (n || (n = Promise))(function (r, o) {
            function a(e) {
              try {
                l(i.next(e));
              } catch (e) {
                o(e);
              }
            }
            function s(e) {
              try {
                l(i.throw(e));
              } catch (e) {
                o(e);
              }
            }
            function l(e) {
              var t;
              e.done
                ? r(e.value)
                : ((t = e.value),
                  t instanceof n
                    ? t
                    : new n(function (e) {
                        e(t);
                      })).then(a, s);
            }
            l((i = i.apply(e, t || [])).next());
          });
        },
        It = function (e, t) {
          var n = {};
          for (var i in e) Object.prototype.hasOwnProperty.call(e, i) && t.indexOf(i) < 0 && (n[i] = e[i]);
          if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
            var r = 0;
            for (i = Object.getOwnPropertySymbols(e); r < i.length; r++)
              t.indexOf(i[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, i[r]) && (n[i[r]] = e[i[r]]);
          }
          return n;
        };
      !(function (e) {
        let t;
        !(function (e) {
          (e.make = function (e) {
            return { kind: "regularAction", action: e };
          }),
            (e.ordByActionStore = oe.contramap((e) => e.action.store.rank)(oe.ordNumber));
        })((t = e.RegularAction || (e.RegularAction = {})));
      })(St || (St = {})),
        (function (e) {
          e.create = function () {
            return {
              textBox: "",
              selectedAction: i.none,
              promptAutofocusToken: 0,
              cardsState: { hoveredCard: i.none, focusedCard: i.none },
              reportMenuVisible: i.none,
              referencesVisibility: new Map(),
              detectedReferences: i.none,
              overrideCardVoice: new Map()
            };
          };
        })(Et || (Et = {}));
      class At {
        constructor(e) {
          (this._params = e),
            (this._state = g.h.create(Et.create())),
            (this._subs = new y.w()),
            (this._reportMenuVisibleDebounced = g.h.create(i.none)),
            (this.state = g.h.combine(
              this._state,
              this._params.userService.user,
              this._params.genAIAvailabilityService.availability,
              this._params.sessionService.session,
              this._params.routingViewModel.activeView,
              this._params.themeViewModel.theme.view("flatUI"),
              this._reportMenuVisibleDebounced,
              (e, t, n, r, o, s, l) => {
                var { cardsState: c, reportMenuVisible: u, textBox: d } = e,
                  m = It(e, ["cardsState", "reportMenuVisible", "textBox"]);
                return Object.assign(Object.assign({}, m), {
                  textBox: d,
                  user: t,
                  genAIAvailability: n,
                  session: r,
                  userPromptAction: (0, a.zG)(
                    G.z.toStarted(r),
                    i.chain((e) => e.activeContext.userPromptAction),
                    i.map((e) =>
                      Object.assign(Object.assign({}, e), {
                        arg: Object.assign(Object.assign({}, e.arg), {
                          kind: "string",
                          label: s ? "Try Write an ode to the Oxford comma" : "string" === e.arg.kind ? e.arg.label : "Tell us to..."
                        })
                      })
                    )
                  ),
                  activeCards: new Set((0, a.zG)([c.hoveredCard, (0, a.zG)(c.focusedCard, ne.vx((0, a.zG)(l, i.chain(vt.toCard))))], C.oA)),
                  canScroll: i.isNone(u),
                  contextualActions: wt(r, "home" === o.kind)
                });
              }
            )),
            this._subs.add(this.state.subscribe((e) => this._params.logger.debug("assistant view model state updated", e))),
            this._subs.add(this._updateActiveView().subscribe()),
            this._subs.add(
              xt
                .T(
                  this._state.view("reportMenuVisible").pipe(J.oA, W.U(i.some)),
                  this._state.view("reportMenuVisible").pipe(yt.skipBy(i.getEq(vt.eq)), Y.b(250), I.h(i.isNone))
                )
                .subscribe(Q.wW(this._reportMenuVisibleDebounced))
            ),
            this._subs.add(
              this._params.routingViewModel.activeView.subscribe(() =>
                this._state.modify(
                  (0, a.ls)(mt.set("reportMenuVisible", i.none), mt.set("cardsState", { hoveredCard: i.none, focusedCard: i.none }))
                )
              )
            ),
            this._subs.add(
              this._params.assistantUIActions.subscribe((e) => {
                this._handleUIAction(e);
              })
            );
        }
        focusPromptField() {
          this._state.lens("promptAutofocusToken").modify((e) => e + 1);
        }
        getContextById(e) {
          return this._params.sessionService.getContextById(e);
        }
        dispose() {
          this._subs.unsubscribe();
        }
        _updateActiveView() {
          return xt.T(
            this._params.sessionService.session.view(
              (0, a.ls)(
                G.z.toStarting,
                i.chain((e) => e.error),
                ne.bw(() => this._params.routingViewModel.replace({ kind: "error" }))
              )
            )
          );
        }
        _handleUIAction(e) {
          switch (e.kind) {
            case b.i.Kind.headerCloseButtonClick:
              return void this._onClose(e);
            case b.i.Kind.headerGoBackButtonClick:
            case b.i.Kind.radioOptionsCancelButtonClick:
              return this._goBack();
            case b.i.Kind.promptFieldTextChange:
              return this._updateTextBox(e.text);
            case b.i.Kind.actionBrickClick:
              return this._executeAction(e.action);
            case b.i.Kind.promptSubmitButtonClick:
              return this._go(i.none);
            case b.i.Kind.userPromptSubmit:
              return this._go(i.some(e.prompt));
            case b.i.Kind.radioOptionsSubmitButtonClick:
              return this._submitSelectedAction({ selectedRadioOption: e.selectedOption });
            case b.i.Kind.generateStopButtonClick:
              return this._stop();
            case b.i.Kind.resultCardInsertButtonClick:
              return this._insert(e.result, e.selectedVoice);
            case b.i.Kind.resultCardRephraseButtonClick:
              return this._rephrase(e.result, e.selectedVoice);
            case b.i.Kind.resultCardDismissButtonClick:
              return this._dismissResult(e.result);
            case b.i.Kind.errorCardOkButtonClick:
              return this._dismissError();
            case b.i.Kind.reportOffensiveResultButtonClick:
              return this._reportOffensiveResult(e.result);
            case b.i.Kind.reportOffensiveActionsButtonClick:
              return this._reportOffensiveActions();
            case b.i.Kind.resultCardHeaderClick:
              return this._clickResultHeader(e.prompt);
            case b.i.Kind.creditsInfoHover:
              return this._params.trackingService.trackUsageInfoHover();
            case b.i.Kind.creditsInfoClick:
              return this._onCreditsInfoClick();
            case b.i.Kind.resultCardHoverChange:
              return this._onCardHover(e.resultId, e.hovered);
            case b.i.Kind.resultCardFocusChange:
              return this._onCardFocus(e.resultId, e.focused);
            case b.i.Kind.resultCardCopy:
              return this._onCardCopy(e.resultId, e.voice);
            case b.i.Kind.resultCardToggleGenericVoiceButtonClick:
              return this._onToggleGenericVoice(e.resultId, e.voice);
            case b.i.Kind.reportMenuVisibilityChange:
              return this._onCardReportMenuVisibilityChange(e.trigger, e.visible);
            case b.i.Kind.referencesVisibilityChange:
              return this._onCardReferencesVisibilityChange(e.resultId, e.visible);
            case b.i.Kind.regenerateWithoutReferenceButtonClick:
              return this._regenerateWithoutReference(e.result, e.referenceId, e.selectedVoice);
            case b.i.Kind.mount:
              return this._handleMount(e);
            case b.i.Kind.promptFieldKeyPressEscape:
              return this._onPromptFieldKeyPressEscape(e);
            case b.i.Kind.promptFieldKeyPressEnter:
              return e.text.trim().length > 0 ? this._go(i.none) : this._tryInsertLatestResult();
            case b.i.Kind.restoreHistoryButtonClick:
              return this._handleHistoryButtonClick();
            case b.i.Kind.removeSelectionContextClick:
              return this._params.sessionService.dismissActiveBoundaryContext();
            case b.i.Kind.selectionContextInteraction:
              return this._params.textEditorService.setContextHighlight(e.range, e.visibility);
            default:
              return;
          }
        }
        _handleHistoryButtonClick() {
          (0, a.zG)(
            G.z.toStarted(this._params.sessionService.session.get()),
            i.map((e) => i.isSome(e.inProgressResult) || e.results.length > 0),
            ne.bw((e) => {
              e
                ? this._params.routingViewModel.push({ kind: "thread" })
                : (this._params.sessionService.restoreHistory(),
                  this._subs.add(
                    this._params.sessionService.session
                      .view(G.z.toStarted)
                      .pipe(
                        J.oA,
                        I.h((e) => void 0 !== e.results.find(bt.x.isHistory)),
                        A.q(1)
                      )
                      .subscribe(() => this._params.routingViewModel.push({ kind: "thread" }))
                  ));
            })
          );
        }
        _handleMount(e) {
          e.name === ie.e.creditsInfoButton
            ? (0, k.t)(
                "reportUphookShow",
                this._params.uphookService.reportUphookShow(this._params.userService.user.get()),
                this._params.logger,
                void 0,
                (e) => this._params.monitoringService.notify((0, s.L)((0, l.ix)({ rawError: (0, u.N)(e) })))
              )
            : e.name === ie.e.historyButton && this._params.trackingService.trackHistoryButtonView();
        }
        _onCardHover(e, t) {
          this._state
            .lens("cardsState")
            .lens("hoveredCard")
            .modify(t ? () => i.some(e) : i.filter((t) => t !== e));
        }
        _onCardFocus(e, t) {
          this._state
            .lens("cardsState")
            .lens("focusedCard")
            .modify(t ? () => i.some(e) : i.filter((t) => t !== e));
        }
        _onCardCopy(e, t) {
          (0, a.zG)(
            G.z.toStarted(this._params.sessionService.session.get()),
            i.map((e) => e.results),
            i.chain(C.Ew((t) => t.id === e)),
            i.filter((e) => "aiUsageNotification" !== e.kind),
            i.chain((e) =>
              (0, a.zG)(
                i.fromNullable(this._params.textEditorService.copyText),
                i.map((t) => ({ result: e, copyText: t }))
              )
            ),
            i.map(({ copyText: n, result: i }) =>
              (0, k.t)(
                "copyText",
                n(
                  (0, kt.l)(
                    (0, a.zG)(
                      i.replacementDelta,
                      le.fold(a.yR, (e) => (t === bt.x.GeneratedTextVoice.user ? e.user : e.generic))
                    ),
                    ""
                  )
                ),
                this._params.logger,
                () => {
                  this._params.sessionService.trackResultCopy(e);
                }
              )
            )
          );
        }
        _onCardReportMenuVisibilityChange(e, t) {
          this._state.modify((n) =>
            Object.assign(Object.assign({}, n), {
              reportMenuVisible: t
                ? i.some(e)
                : (0, a.zG)(
                    n.reportMenuVisible,
                    i.filter((t) => !vt.eq.equals(t, e))
                  ),
              cardsState: Object.assign(Object.assign({}, n.cardsState), {
                hoveredCard: (0, a.zG)(
                  vt.toCard(e),
                  i.fold(
                    () => n.cardsState.hoveredCard,
                    (e) =>
                      t
                        ? n.cardsState.hoveredCard
                        : (0, a.zG)(
                            n.cardsState.hoveredCard,
                            i.filter((t) => t !== e)
                          )
                  )
                )
              })
            })
          );
        }
        _onCardReferencesVisibilityChange(e, t) {
          this._state.lens("referencesVisibility").modify((n) => new Map(n).set(e, t));
        }
        _onToggleGenericVoice(e, t) {
          this._state.lens("overrideCardVoice").modify((n) => {
            var i;
            const r = new Map(n),
              o =
                (null !== (i = n.get(e)) && void 0 !== i ? i : t) === bt.x.GeneratedTextVoice.generic
                  ? bt.x.GeneratedTextVoice.user
                  : bt.x.GeneratedTextVoice.generic;
            return r.set(e, o), this._params.trackingService.trackMyVoiceCardToggle(o === bt.x.GeneratedTextVoice.user), r;
          });
        }
        _onClose(e) {
          b.i.is(b.i.Kind.headerCloseButtonClick)(e) && this._params.trackingService.trackAssistantClose(),
            this._params.lifecycleViewModel.onClose();
        }
        _goBack() {
          "followUpPrompt" === this._params.routingViewModel.activeView.get().kind &&
            this._state.modify((e) => Object.assign(Object.assign({}, e), { selectedAction: i.none, textBox: "" })),
            this._params.routingViewModel.pop();
        }
        _updateTextBox(e) {
          this._state.lens("textBox").set(e), this._searchReferences(e);
        }
        _executeAction(e) {
          if ("regularAction" === e.kind)
            if (e.action.disabled)
              (0, a.zG)(
                e.action.notificationOnAttempt,
                ne.bw((e) => {
                  this._params.notificationService.notify(T.C.create("information", e, void 0, void 0, 5e3)),
                    this._params.trackingService.trackContexNotification("action");
                })
              );
            else if (P.aU.isFollowUpQuestionActionInput(e.action)) {
              const t = e.action;
              this._state.modify((e) => Object.assign(Object.assign({}, e), { textBox: "", selectedAction: i.some(t) })),
                this._params.routingViewModel.push({
                  kind: "followUpPrompt",
                  inputType: P.Xy.match({ radio: () => "radio", string: () => "string" })(e.action.args[0])
                });
            } else
              P.aU.isQuickActionInput(e.action)
                ? (this._state.modify((e) => Object.assign(Object.assign({}, e), { selectedAction: i.none, textBox: "" })),
                  this._params.sessionService.submitAction(e.action, i.toUndefined(this._lastResultSelectedVoice())),
                  this._params.routingViewModel.push({ kind: "thread" }))
                : (0, U.Kg)(P.aU.isSkillAction, P.aU.isToneAction)(e.action) || (0, j.L0)(e.action);
          else "allResults" === e.kind || ("go" === e.kind ? this._go(i.none) : (0, j.L0)(e));
        }
        _handleAIUsageNotificationOnPromptSubmit() {
          (0, a.zG)(
            G.z.toStarted(this._params.sessionService.session.get()),
            i.chain((e) => e.activeContext.specialView),
            i.filter((e) => "aiUsageAlert" === e.kind),
            ne.bw(() => this._params.trackingService.trackAINotificationDismiss("document"))
          );
        }
        _go(e) {
          i.isSome(e)
            ? (this._handleAIUsageNotificationOnPromptSubmit(),
              this._params.sessionService.submitAction(ne.MH(e), i.toUndefined(this._lastResultSelectedVoice())),
              this._params.routingViewModel.push({ kind: "thread" }))
            : i.isSome(this._state.get().selectedAction)
            ? this._submitSelectedAction({ textBox: this._state.get().textBox })
            : (this._handleAIUsageNotificationOnPromptSubmit(), this._submitUserPromptAction());
        }
        _stop() {
          return _t(this, void 0, void 0, function* () {
            yield this._params.sessionService.stopInProgressResult()();
            (0, a.zG)(this._params.sessionService.session.get(), G.z.fold({ starting: a.jv, started: (e) => 0 === e.results.length })) &&
              "thread" === this._params.routingViewModel.activeView.get().kind &&
              this._params.routingViewModel.pop();
          });
        }
        _insert(e, t) {
          (0, k.t)(
            "insertText",
            this._params.textEditorService.insertText(
              (0, kt.l)(
                (0, a.zG)(
                  e.replacementDelta,
                  le.fold(a.yR, (e) => (t === bt.x.GeneratedTextVoice.user ? e.user : e.generic))
                ),
                ""
              )
            ),
            this._params.logger,
            () => {
              this._params.sessionService.trackResultInsert(e.id, t === bt.x.GeneratedTextVoice.user);
            }
          );
        }
        _tryInsertLatestResult() {
          (0, a.zG)(
            G.z.toStarted(this._params.sessionService.session.get()),
            i.map((e) => e.results),
            i.chain(C.YM),
            i.filter(bt.x.isStandardCompletedResult),
            ne.bw((e) =>
              this._insert(
                e,
                (0, a.zG)(
                  this._lastResultSelectedVoice(),
                  i.getOrElse(() => bt.x.GeneratedTextVoice.generic)
                )
              )
            )
          );
        }
        _onPromptFieldKeyPressEscape(e) {
          e.menuOpened ||
            (0, a.zG)(
              G.z.toStarted(this._params.sessionService.session.get()),
              i.chain((e) => e.inProgressResult),
              i.fold(
                () => this._onClose(e),
                () => this._stop()
              )
            );
        }
        _rephrase(e, t) {
          this._params.sessionService.regenerateResult(e.id, { omitReferenceIds: i.none }, t);
        }
        _dismissResult(e) {
          this._params.sessionService.dismissResult(e.id),
            this._state.modify((t) =>
              Object.assign(Object.assign({}, t), {
                reportMenuVisible: (0, a.zG)(
                  t.reportMenuVisible,
                  i.filter((t) => !vt.eq.equals(t, vt.card(e.id)))
                ),
                cardsState: {
                  hoveredCard: (0, a.zG)(
                    t.cardsState.hoveredCard,
                    i.filter((t) => t !== e.id)
                  ),
                  focusedCard: (0, a.zG)(
                    t.cardsState.hoveredCard,
                    i.filter((t) => t !== e.id)
                  )
                }
              })
            );
          (0, a.zG)(
            this._params.sessionService.session.get(),
            G.z.fold({ starting: a.jv, started: (e) => 0 === e.results.length && i.isNone(e.inProgressResult) })
          ) &&
            "thread" === this._params.routingViewModel.activeView.get().kind &&
            this._params.routingViewModel.pop();
        }
        _dismissError() {
          this._params.sessionService.dismissError();
        }
        _reportOffensiveResult(e) {
          this._params.sessionService.trackResultOffensive(e.id);
        }
        _reportOffensiveActions() {
          this._params.sessionService.trackActionsOffensive();
        }
        _clickResultHeader(e) {
          this._state.modify((t) => Object.assign(Object.assign({}, t), { textBox: e, promptAutofocusToken: t.promptAutofocusToken + 1 }));
        }
        _onCreditsInfoClick() {
          this._params.trackingService.trackUsageInfoClick(),
            (0, k.t)(
              "reportUphookClick",
              this._params.uphookService.reportUphookClick(this._params.userService.user.get()),
              this._params.logger,
              void 0,
              (e) => this._params.monitoringService.notify((0, s.L)((0, l.ol)({ rawError: (0, u.N)(e) })))
            );
        }
        _submitSelectedAction(e) {
          (0, a.zG)(
            this._state.get().selectedAction,
            i.chain((t) =>
              (0, a.zG)(
                t.args[0],
                P.Xy.match({
                  string: () => {
                    var n;
                    return (0, a.zG)(
                      i.fromNullable(null === (n = e.textBox) || void 0 === n ? void 0 : n.trim()),
                      i.filter((e) => e.length > 0),
                      i.map((e) => P.aU.FollowUpQuestionActionValue.fromTextInput(t, e))
                    );
                  },
                  radio: () =>
                    (0, a.zG)(
                      i.fromNullable(e.selectedRadioOption),
                      i.map((e) => P.aU.FollowUpQuestionActionValue.fromRadioInput(t, e))
                    )
                })
              )
            ),
            ne.bw((e) => {
              this._state.modify((e) => Object.assign(Object.assign({}, e), { selectedAction: i.none, textBox: "" })),
                this._params.sessionService.submitAction(e, i.toUndefined(this._lastResultSelectedVoice())),
                i.isSome(e.generatesTextType) &&
                  (this._popFollowUpPromptViews(),
                  "home" === this._params.routingViewModel.activeView.get().kind && this._params.routingViewModel.push({ kind: "thread" }));
            })
          );
        }
        _lastResultSelectedVoice() {
          return (0, a.zG)(
            G.z.toStarted(this._params.sessionService.session.get()),
            i.map((e) => e.results),
            i.chain(C.YM),
            i.chain((e) =>
              i.fromNullable(
                this._state
                  .lens("overrideCardVoice")
                  .view((t) => t.get(e.id))
                  .get()
              )
            )
          );
        }
        _submitUserPromptAction() {
          (0, a.zG)(
            this._state.get().textBox.trim(),
            i.fromPredicate((e) => "" !== e),
            i.chain((e) =>
              (0, a.zG)(
                G.z.toStarted(this._params.sessionService.session.get()),
                i.chain((t) =>
                  (0, a.zG)(
                    t.activeContext.userPromptAction,
                    i.map((n) => ({ text: e, session: t, userPromptAction: n }))
                  )
                )
              )
            ),
            ne.bw(({ text: e, session: t, userPromptAction: n }) => {
              this._state.lens("textBox").set(""),
                this._params.sessionService.submitAction(
                  P.aU.UserPromptActionValue.fromInput(
                    n,
                    e,
                    (0, a.zG)(
                      Ct(t, e),
                      i.map(
                        C.DZ((e) =>
                          (0, a.zG)(
                            e.url,
                            i.map((t) => ({ url: t, referenceId: e.id }))
                          )
                        )
                      ),
                      i.chain(F.nI)
                    ),
                    i.none
                  ),
                  i.toUndefined(this._lastResultSelectedVoice())
                ),
                this._popFollowUpPromptViews(),
                "home" === this._params.routingViewModel.activeView.get().kind && this._params.routingViewModel.push({ kind: "thread" });
            })
          );
        }
        _popFollowUpPromptViews() {
          for (; "followUpPrompt" === this._params.routingViewModel.activeView.get().kind; ) this._params.routingViewModel.pop();
        }
        _regenerateWithoutReference(e, t, n) {
          this._params.sessionService.regenerateResult(e.id, { omitReferenceIds: i.some([t]) }, n);
        }
        _searchReferences(e) {
          (0, a.zG)(
            (function (e) {
              return (0, a.zG)(
                e.split(/\s/).filter((e) => e.length > 3 && e.includes(".")),
                F.nI
              );
            })(e),
            ne.bw((e) => e.forEach((e) => this._params.sessionService.searchReferences(e)))
          );
        }
      }
      var Bt = n(40649),
        Rt = n(5165);
      var Ot = n(12126);
      var Ut = function (e, t, n, i) {
        return new (n || (n = Promise))(function (r, o) {
          function a(e) {
            try {
              l(i.next(e));
            } catch (e) {
              o(e);
            }
          }
          function s(e) {
            try {
              l(i.throw(e));
            } catch (e) {
              o(e);
            }
          }
          function l(e) {
            var t;
            e.done
              ? r(e.value)
              : ((t = e.value),
                t instanceof n
                  ? t
                  : new n(function (e) {
                      e(t);
                    })).then(a, s);
          }
          l((i = i.apply(e, t || [])).next());
        });
      };
      class Tt {
        constructor(e) {
          (this._params = e),
            (this._sub = new y.w()),
            (this._heightBehavior = g.h.create({ kind: "fitContent", maxHeight: Rt.Z3 })),
            (this._widthBehavior = g.h.create({ kind: "fitContent", minWidth: Rt.wU, maxWidth: Rt.jy })),
            (this._dragBehavior = g.h.create({ kind: "notDraggable" })),
            (this._focusState = g.h.create({ isFocused: !0 })),
            (this.heightBehavior = this._heightBehavior.view()),
            (this.widthBehavior = this._widthBehavior.view()),
            (this.dragBehavior = this._dragBehavior.view()),
            this._sub.add(
              this._params.lifecycleService.sizeBehavior.subscribe((e) => {
                var t;
                this._heightBehavior.set(
                  "fitContent" === e.heightBehavior.kind
                    ? { kind: e.heightBehavior.kind, maxHeight: null !== (t = e.heightBehavior.maxHeight) && void 0 !== t ? t : Rt.Z3 }
                    : { kind: e.heightBehavior.kind }
                ),
                  this._widthBehavior.set(
                    (function (e) {
                      var t, n, i, r;
                      return "fitContent" === e.widthBehavior.kind
                        ? {
                            kind: e.widthBehavior.kind,
                            minWidth:
                              null !== (t = e.widthBehavior.minWidth) && void 0 !== t
                                ? t
                                : ((r = e.widthBehavior.maxWidth), null !== r && r < Rt.wU ? r : Rt.wU),
                            maxWidth:
                              null !== (n = e.widthBehavior.maxWidth) && void 0 !== n
                                ? n
                                : ((i = e.widthBehavior.minWidth), i && i > Rt.jy ? i : Rt.jy)
                          }
                        : { kind: e.widthBehavior.kind };
                    })(e)
                  );
              })
            ),
            this._sub.add(this._params.lifecycleService.dragBehavior.subscribe(Q.wW(this._dragBehavior))),
            this._sub.add(
              this._focusState.pipe(Y.b(100), Bt.g("isFocused")).subscribe((e) => {
                var t;
                ((t = this._params.lifecycleService.focusStateChanged(e)), Ot.D(t).pipe(A.q(1)).toPromise()).catch((t) =>
                  this._params.monitoringService.notify((0, s.L)((0, l.B$)({ focusState: e, rawError: (0, u.N)(t) })))
                );
              })
            );
        }
        onMount(e) {
          return Ut(this, void 0, void 0, function* () {
            try {
              yield this._params.lifecycleService.visuallyReady({ content: e });
            } catch (e) {
              this._params.monitoringService.notify((0, s.L)((0, l.o9)({ rawError: (0, u.N)(e) })));
            }
            this._params.metricsService.report({ name: "assistant_lifecycle_visually_ready", labels: void 0 });
          });
        }
        onHeaderMount(e) {
          return Ut(this, void 0, void 0, function* () {
            if ("draggable" === this._dragBehavior.get().kind)
              try {
                yield this._params.lifecycleService.readyToDrag({ dragHandle: e });
              } catch (e) {
                this._params.monitoringService.notify((0, s.L)((0, l.IL)({ rawError: (0, u.N)(e) })));
              }
          });
        }
        onFocus(e) {
          this._focusState.set({ isFocused: e });
        }
        onClose() {
          return Ut(this, void 0, void 0, function* () {
            try {
              yield new Promise((e) => setTimeout(e)), yield this._params.lifecycleService.close();
            } catch (e) {
              this._params.monitoringService.notify((0, s.L)((0, l.CN)({ rawError: (0, u.N)(e) })));
            }
          });
        }
        dispose() {
          this._sub.unsubscribe();
        }
      }
      class Nt {
        constructor(e, t) {
          (this._initialViewStack = e),
            (this._viewEq = t),
            (this._viewStack = g.h.create(this._initialViewStack)),
            (this.activeView = this._viewStack.view(F.YM));
        }
        push(e) {
          this._viewStack.modify((t) => (this._viewEq.equals(e, t[0]) ? t : F.QI(e, t)));
        }
        pop() {
          this._viewStack.modify(
            (0, a.ls)(F.pW, ([e, t]) =>
              (0, a.zG)(
                F.c2(t),
                i.getOrElse(() => [e])
              )
            )
          );
        }
        replace(e) {
          this._viewStack.modify((t) => (0, a.zG)(F.QI(e, F.Gb(t))));
        }
        has(e) {
          return this._viewStack.view((t) => void 0 !== t.find((t) => this._viewEq.equals(t, e)));
        }
      }
      var Mt = n(52528);
      function Ft(e, t) {
        var n;
        const r = new f.xQ(),
          o = new Tt({ lifecycleService: e.lifecycleService, monitoringService: e.monitoringService, metricsService: t.metricsService }),
          s = new Nt(
            (function (e) {
              const t = e.sessionService.session.get().mode;
              return F.Ss(
                C.oA([
                  "initialView" in e && "toneReport" === e.initialView ? i.some({ kind: "toneReport" }) : i.none,
                  "pushRewrite" === t || "quickRewrite" === t ? i.some({ kind: "thread" }) : i.none
                ]),
                { kind: "home" }
              );
            })(e),
            V.eq
          ),
          l = new Mt.e(null !== (n = e.theme) && void 0 !== n ? n : g.h.create(v.u)),
          c = new x();
        e.sessionService.registerNotificationHandler((e) => c.notify(e));
        const u = new At({
            assistantUIActions: r,
            lifecycleViewModel: o,
            routingViewModel: s,
            themeViewModel: l,
            feedbackService: e.feedbackService,
            genAIAvailabilityService: e.genAIAvailabilityService,
            monitoringService: e.monitoringService,
            sessionService: e.sessionService,
            textEditorService: e.textEditorService,
            trackingService: e.trackingService,
            uphookService: e.uphookService,
            userService: e.userService,
            notificationService: c,
            logger: t.logger
          }),
          d = new gt({
            assistantUIActions: r,
            trackingService: e.trackingService,
            sessionService: e.sessionService,
            routingViewModel: s,
            logger: t.logger
          }),
          m = new w({
            assistantUIActions: r,
            feedbackService: e.feedbackService,
            monitoringService: e.monitoringService,
            routingViewModel: s,
            logger: t.logger
          }),
          p = (0, a.zG)(
            i.fromNullable(e.toneDetectorService),
            i.map((t) => new st({ assistantUIActions: r, toneDetectorService: t, userService: e.userService, routingViewModel: s }))
          ),
          h = new $(e.sessionService.session, s.activeView, e.genAIAvailabilityService.availability, p),
          y = new tt(
            r,
            h.contextualActions,
            h.skillActions,
            h.toneAction,
            e.trackingService,
            () => i.isSome(u.state.get().selectedAction),
            () => u.focusPromptField()
          ),
          b = new N(c, r, s.activeView),
          k = new ut({ userSurveyService: e.userSurveyService, assistantUIActions: r }),
          S = new ot(r, s, e.monitoringService, e.skillService);
        e.selectionContextAvailabilityService &&
          e.selectionContextAvailabilityService.augment((e) =>
            g.h.combine(e, s.activeView, (e, t) => (Z(t) ? e : { contextUpdatesClient: !1, contextUpdatesServer: !1 }))
          );
        const E = (0, a.zG)(
          i.fromNullable(e.settingsOptions),
          i.map((e) => new nt({ assistantUIActions: r, routingViewModel: s, options: e }))
        );
        return {
          lifecycle: o,
          assistant: u,
          promptActions: h,
          promptMenu: y,
          notifications: b,
          voiceProfile: d,
          feedbackForm: m,
          userSurvey: k,
          skill: S,
          theme: l,
          settings: E,
          revision: i.fromNullable(e.revisionEngine),
          toneDetector: p,
          routing: s,
          logger: t.logger,
          notify: (t) => {
            var n;
            null === (n = e.notifyAssistantUIAction) || void 0 === n || n.call(e, t), r.next(t);
          },
          dispose: () => {
            u.dispose(),
              y.dispose(),
              b.dispose(),
              d.dispose(),
              m.dispose(),
              k.dispose(),
              S.dispose(),
              t.metricsService.dispose(),
              (0, a.zG)(
                p,
                i.map((e) => e.dispose())
              );
          }
        };
      }
      var jt = n(88392),
        Pt = n(45578);
      const zt = (e) =>
          se.createElement(
            pe.a1,
            Object.assign({ width: "24", height: "24", viewBox: "0 0 24 24", fill: ve.Green30 }, e),
            se.createElement("path", {
              fillRule: "evenodd",
              clipRule: "evenodd",
              d: "M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22ZM18.2071 9.20711C18.5976 8.81658 18.5976 8.18342 18.2071 7.79289C17.8166 7.40237 17.1834 7.40237 16.7929 7.79289L10 14.5858L8.20711 12.7929C7.81658 12.4024 7.18342 12.4024 6.79289 12.7929C6.40237 13.1834 6.40237 13.8166 6.79289 14.2071L10 17.4142L18.2071 9.20711Z",
              stroke: "none"
            })
          ),
        Gt = (e) =>
          se.createElement(
            pe.a1,
            Object.assign({ width: "24", height: "25", viewBox: "0 0 24 25", fill: "none" }, e),
            se.createElement("path", {
              d: "M11.9995 11.7307V16.681M11.9995 8.41401V8.43051M20.25 12.5005C20.25 17.0571 16.5562 20.751 11.9995 20.751C7.4429 20.751 3.74902 17.0571 3.74902 12.5005C3.74902 7.94388 7.4429 4.25 11.9995 4.25C16.5562 4.25 20.25 7.94388 20.25 12.5005Z",
              stroke: "#7CF4D8",
              strokeLinecap: "round",
              strokeLinejoin: "round"
            })
          ),
        Lt = r.UI.Node.make(({ state: e, notify: t }) =>
          se.createElement(
            ue.F.div,
            {
              className: Dt,
              "data-id": e.pipe(W.U(({ id: e }) => e)),
              onMouseOver: t({ kind: "mouseOver" }),
              onMouseOut: t({ kind: "mouseOut" })
            },
            e.pipe(
              W.U((e) => {
                switch (e.kind) {
                  case "feedbackSubmitted":
                    return se.createElement(
                      se.Fragment,
                      null,
                      se.createElement(zt, { className: Ht }),
                      se.createElement("div", null, "Thanks for the feedback!")
                    );
                  case "voiceTagRemoved":
                    return se.createElement(
                      se.Fragment,
                      null,
                      se.createElement(zt, { className: Ht }),
                      se.createElement("div", null, "Removed")
                    );
                  case "information":
                    return se.createElement(
                      se.Fragment,
                      null,
                      se.createElement(Gt, { className: Vt }),
                      se.createElement("div", null, e.text)
                    );
                  default:
                    return (0, j.L0)(e);
                }
              })
            ),
            e.pipe(
              W.U(({ id: e }) => se.createElement(Pt.x, { name: "notificationClose", onClick: t({ kind: "dismissNotification", id: e }) }))
            )
          )
        ),
        Zt = xe.ux.keyframes({
          from: { transform: `translateY(${xe.ux.rem(0.25)})`, opacity: 0 },
          to: { transform: "translateY(0)", opacity: 1 }
        }),
        Dt = xe.ux.style({
          background: ve.BlueGray100,
          color: me.S5.Content.Primary.Default,
          borderRadius: xe.ux.rem(jt.xB + jt.fe),
          display: "flex",
          flexDirection: "row",
          alignItems: "center",
          padding: `${xe.ux.rem(ge.qp)} ${xe.ux.rem(ge.qp)}`,
          gap: xe.ux.rem(ge.qp),
          fontSize: xe.ux.rem(0.75),
          lineHeight: xe.ux.rem(1.125),
          animation: `${Zt} 0.1s ease-in`
        }),
        Ht = xe.ux.style(Object.assign({}, (0, ye.fx)(1.5))),
        Vt = xe.ux.style({ minWidth: "auto" }),
        $t = r.UI.List.make(C.bw, Lt),
        Kt = r.UI.Grid.make(({ slots: e }) => se.createElement("div", { className: qt }, e.content)),
        Wt = r.UI.Knot.make(Kt, { content: $t }),
        qt = xe.ux.style({ display: "flex", flexDirection: "column", gap: xe.ux.rem(ge.x), transition: "top 0.1s ease-in" });
      var Qt = n(15073),
        Yt = n(33053),
        Xt = n(90845),
        Jt = n(9223),
        en = n(24435),
        tn = n(33498),
        nn = n(45174),
        rn = function (e, t) {
          var n = {};
          for (var i in e) Object.prototype.hasOwnProperty.call(e, i) && t.indexOf(i) < 0 && (n[i] = e[i]);
          if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
            var r = 0;
            for (i = Object.getOwnPropertySymbols(e); r < i.length; r++)
              t.indexOf(i[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, i[r]) && (n[i[r]] = e[i[r]]);
          }
          return n;
        };
      const on = "data-card",
        an = (e) => {
          var { children: t, style: n } = e,
            i = rn(e, ["children", "style"]);
          const r = se.useContext(nn.N);
          return se.createElement(
            ue.F.article,
            Object.assign(
              {
                [on]: !0,
                className: ee
                  .aj([r, (0, tn.D)(n)])
                  .pipe(
                    W.U(([{ flatUI: e }, t]) =>
                      xe.ux.style(
                        e
                          ? { display: "flex", flexDirection: "column", color: me.Il.Text.Base.Default, padding: xe.ux.rem(ge.mh) }
                          : {
                              display: "flex",
                              flexDirection: "column",
                              padding: xe.ux.rem(ge.qp),
                              gap: xe.ux.rem(ge.x),
                              background: "transparent",
                              border: `0.5px solid ${ve.BlueGray10}`,
                              borderRadius: xe.ux.rem(jt.xB + jt.fe),
                              backgroundColor: me.Il.Background.Base.Default,
                              color: me.Il.Text.Base.Default
                            },
                        t
                      )
                    )
                  )
              },
              i
            ),
            t
          );
        };
      var sn = n(85089),
        ln = n(44586),
        cn = n(19962);
      function un(e, t = !1) {
        return se.useMemo(
          () =>
            e.pipe(
              E.w(
                i.fold(
                  () => B.of(i.none),
                  (e) => {
                    return (
                      t
                        ? ((n = e),
                          new ln.y((e) => {
                            const t = new ResizeObserver((t) => {
                              e.next(cn.UL.fromRectLike(t[0].contentRect));
                            });
                            return t.observe(n), () => t.disconnect();
                          }))
                        : sn.YC(e)
                    ).pipe(
                      te.O(e),
                      W.U(() => i.some(e.getBoundingClientRect()))
                    );
                    var n;
                  }
                )
              )
            ),
          [e]
        );
      }
      var dn = n(12271);
      const mn = "primaryBtn",
        pn = "rephraseBtn",
        hn = "dismissBtn",
        fn = "reportBtn";
      var gn = function (e, t) {
        var n = {};
        for (var i in e) Object.prototype.hasOwnProperty.call(e, i) && t.indexOf(i) < 0 && (n[i] = e[i]);
        if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
          var r = 0;
          for (i = Object.getOwnPropertySymbols(e); r < i.length; r++)
            t.indexOf(i[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, i[r]) && (n[i[r]] = e[i[r]]);
        }
        return n;
      };
      const vn = (e) => {
          var { isActive: t, children: n, onHovered: i, onFocused: r, onCopy: o, style: a } = e,
            s = gn(e, ["isActive", "children", "onHovered", "onFocused", "onCopy", "style"]);
          const l = se.useRef(null),
            c = se.useContext(nn.N).view("flatUI");
          return se.createElement(
            an,
            Object.assign({}, s, {
              mount: l,
              style: c.view((e) => Object.assign(Object.assign({}, yn(e)), a)),
              "data-active": t,
              onMouseEnter: () => (null == i ? void 0 : i(!0)),
              onMouseLeave: () => (null == i ? void 0 : i(!1)),
              onFocus: () => {
                var e;
                return null == r ? void 0 : r((null === (e = l.current) || void 0 === e ? void 0 : e.contains((0, re.vY)(document))) || !1);
              },
              onBlur: () => {
                var e;
                return null == r ? void 0 : r((null === (e = l.current) || void 0 === e ? void 0 : e.contains((0, re.vY)(document))) || !1);
              },
              onCopy: o
            }),
            n
          );
        },
        xn = (e) => ({
          backgroundColor: me.Il.Background.Base.Default,
          $nest: {
            [`& .${hn}, & .${fn}`]: e ? {} : { opacity: 1, pointerEvents: "auto" },
            [`& ${(0, ye.s4)(mn, ye.Ki)}`]: e
              ? {}
              : { color: me.Il.Background.Base.Default, backgroundColor: be.Z.BrandGreen60, border: "1px solid transparent" }
          }
        }),
        yn = (e) =>
          Object.assign(Object.assign({ backgroundColor: "transparent" }, e ? { gap: xe.ux.rem(ge.x), padding: xe.ux.rem(ge.mh) } : {}), {
            $nest: {
              [`& ${(0, ye.s4)(mn, ye.Ki)}`]: e
                ? { fontSize: xe.ux.rem(0.875) }
                : {
                    lineHeight: xe.ux.rem(1.125),
                    backgroundColor: me.Il.Background.Base.Default,
                    color: me.Il.Text.Base.Subdued,
                    border: `1px solid ${ve.BlueGray5}`,
                    boxSizing: "border-box"
                  },
              [`& ${(0, ye.s4)(pn, ye.Ki)}`]: e ? { fontSize: xe.ux.rem(0.875) } : { lineHeight: xe.ux.rem(1.5) },
              [`& .${hn}, & .${fn}`]: e ? {} : { opacity: 0, pointerEvents: "none", justifyContent: "center" },
              "&:focus, &:hover": Object.assign({}, xn(e)),
              "&[data-active='true']": Object.assign({}, xn(e))
            }
          });
      var bn = function (e, t) {
        var n = {};
        for (var i in e) Object.prototype.hasOwnProperty.call(e, i) && t.indexOf(i) < 0 && (n[i] = e[i]);
        if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
          var r = 0;
          for (i = Object.getOwnPropertySymbols(e); r < i.length; r++)
            t.indexOf(i[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, i[r]) && (n[i[r]] = e[i[r]]);
        }
        return n;
      };
      const kn = "prompt-result",
        wn = "data-card-type",
        Cn = (e) => {
          var { header: t, footer: n, isActive: i, onHovered: r, onFocused: o, onCopy: a, body: s, style: l } = e,
            c = bn(e, ["header", "footer", "isActive", "onHovered", "onFocused", "onCopy", "body", "style"]);
          return se.createElement(
            vn,
            Object.assign({}, c, { [wn]: kn, isActive: i, onHovered: r, onFocused: o, style: l, onCopy: a }),
            t,
            s,
            n
          );
        },
        Sn = se.createContext({ portalContainer: g.h.create(i.none) }),
        En = (e) => {
          var t;
          const n = se.useMemo(() => g.h.create(v.u), []),
            r = se.useMemo(() => {
              var t;
              return null !== (t = e.menuRef) && void 0 !== t ? t : B.of(i.none);
            }, [e.menuRef]),
            o = se.useMemo(() => {
              var t;
              return null !== (t = e.scrollContentToBottomToken) && void 0 !== t ? t : B.of(i.none);
            }, [e.scrollContentToBottomToken]),
            { onMount: s, ref: l } = Xt.P.useElWatcher(),
            { onMount: c, ref: u } = Xt.P.useElWatcher();
          !(function (e, t) {
            const n = se.useMemo(
              () =>
                ee
                  .aj([
                    t.pipe(
                      J.oA,
                      W.U((e) => i.fromNullable((0, re.$Q)(e, 3))),
                      J.oA
                    ),
                    e.pipe(yt.skipBy(i.getEq(L.w4)))
                  ])
                  .pipe(
                    _.e(0),
                    W.U(dn.li),
                    R.b((e) => {
                      e.scrollTop = e.scrollHeight - e.clientHeight;
                    })
                  ),
              [t]
            );
            Xt.P.useSubscriptionTo(n);
          })(o, u);
          const d = un(l),
            m = un(r),
            p = se.useMemo(() => g.h.create(!1), []),
            h = se.useMemo(
              () =>
                u.pipe(
                  W.U(
                    i.fold(
                      () => {
                        p.set(!1);
                      },
                      (e) => {
                        p.set(e.scrollTop > 0);
                      }
                    )
                  )
                ),
              [u]
            ),
            f = se.useMemo(() => {
              var t;
              return ee.aj([m, d, e.heightBehavior, null !== (t = e.menuVerticalMargin) && void 0 !== t ? t : B.of(void 0)]).pipe(
                W.U(([e, t, n, r]) =>
                  (0, a.zG)(
                    e,
                    i.fold(
                      () => ({ sentinelHeight: void 0, menuMaxHeight: void 0 }),
                      (e) => {
                        if ("fitContent" === n.kind) {
                          const t = e.height + (null != r ? r : 0);
                          return { sentinelHeight: Math.min(n.maxHeight, t), menuMaxHeight: n.maxHeight - (null != r ? r : 0) };
                        }
                        return {
                          sentinelHeight: void 0,
                          menuMaxHeight: (0, a.zG)(
                            t,
                            i.fold(a.r5, (e) => Math.max(e.height - (null != r ? r : 0), 0))
                          )
                        };
                      }
                    )
                  )
                ),
                te.O({ sentinelHeight: void 0, menuMaxHeight: void 0 })
              );
            }, [m, d]),
            x = se.useMemo(
              () =>
                r.pipe(
                  J.cp((e) =>
                    f.pipe(
                      R.b(({ menuMaxHeight: t }) => {
                        e.style.setProperty("max-height", `${t}px`);
                      })
                    )
                  )
                ),
              [f, r]
            ),
            y = se.useMemo(() => e.theme.pipe(R.b(Q.wW(n))), [e.theme]);
          return (
            Xt.P.useSubscriptionTo(h),
            Xt.P.useSubscriptionTo(f),
            Xt.P.useSubscriptionTo(x),
            Xt.P.useSubscriptionTo(y),
            se.createElement(
              Sn.Provider,
              { value: { portalContainer: l } },
              se.createElement(
                nn.N.Provider,
                { value: n },
                se.createElement(
                  ue.F.div,
                  {
                    dir: "ltr",
                    "data-name": "assistant",
                    "data-dragging": e.dragBehavior.pipe(W.U((e) => "draggable" === e.kind && e.isDragging)),
                    tabIndex: 0,
                    onFocus: e.onFocus,
                    onBlur: e.onBlur,
                    className: n.view("flatUI").view((t) => xe.ux.joinClasses([Bn(t), e.containerClassName])),
                    style: ee
                      .aj([e.heightBehavior, e.widthBehavior])
                      .pipe(
                        W.U(([e, t]) =>
                          Object.assign(
                            Object.assign({}, "fitContainer" === e.kind ? { height: "100%" } : { maxHeight: e.maxHeight }),
                            "fitContainer" === t.kind ? { width: "100%" } : { minWidth: t.minWidth, maxWidth: t.maxWidth }
                          )
                        )
                      ),
                    mount: (t) => {
                      var n;
                      s(t), null === (n = e.onMountContainer) || void 0 === n || n.call(e, t);
                    }
                  },
                  se.createElement(
                    ue.F.header,
                    {
                      className: ee.aj([p, e.dragBehavior, n.view("flatUI")]).pipe(W.U(([e, t, n]) => Un(n, e, "draggable" === t.kind))),
                      mount: e.onMountHeader
                    },
                    e.header
                  ),
                  se.createElement(
                    "div",
                    { className: Nn, "data-name": "notifications" },
                    se.createElement(ue.F.div, { className: p.view((0, U.RN)(jn, Fn)) }, e.notifications)
                  ),
                  se.createElement(
                    ue.F.main,
                    {
                      mount: c,
                      className: n.view("flatUI").view((t) => xe.ux.joinClasses([Tn(t), e.contentClassName])),
                      onScroll: (e) => p.set(e.currentTarget.scrollTop > 0),
                      style: {
                        overflowY: (null !== (t = e.canScrollContent) && void 0 !== t ? t : B.of(!0)).pipe(W.U((0, U.RN)("auto", "hidden")))
                      }
                    },
                    e.content
                  ),
                  se.createElement(
                    ue.F.footer,
                    { className: n.view("flatUI").view((t) => xe.ux.joinClasses([zn(t), e.footerClassName])) },
                    e.footer
                  ),
                  se.createElement(
                    ue.F.Fragment,
                    null,
                    f.pipe(
                      W.U(({ sentinelHeight: e }) =>
                        e ? se.createElement("div", { key: "sentinel", className: Gn, role: "presentation", style: { height: e } }) : null
                      )
                    )
                  )
                )
              )
            )
          );
        },
        _n = "header",
        In = "content",
        An = "#FCFCFC",
        Bn = (e) =>
          xe.ux.style({
            fontFamily: "Inter, sans-serif",
            padding: 0,
            margin: 0,
            borderRadius: "inherit",
            display: "grid",
            gridTemplateColumns: "1fr 0",
            gridTemplateRows: "auto 0 1fr auto",
            gridTemplateAreas: '"header sentinel" "notifications sentinel" "content sentinel" "footer sentinel"',
            background: e ? me.Il.Background.Base.Default : "linear-gradient(180deg, #FCFCFC 0%, #FCFCFC 100%)",
            $nest: {
              [`&:has(.${_n} [role=button][data-hovered=true])`]: e ? { $nest: { [`.${_n}`]: { background: "inherit" } } } : void 0,
              "&[data-dragging='true']": {
                cursor: "grabbing",
                $nest: {
                  [`.${In}`]: { pointerEvents: "none" },
                  [`.${_n}`]: { pointerEvents: "none", background: e ? be.Z.ButtonBackgroundTertiaryActive : void 0 }
                }
              }
            }
          }),
        Rn = { minWidth: 0 },
        On = (e) => (e ? 3 : 2.5),
        Un = (e, t, n) =>
          xe.ux.joinClasses([
            _n,
            xe.ux.style(
              Object.assign(
                Object.assign(
                  Object.assign(
                    Object.assign(Object.assign({}, Rn), {
                      gridArea: "header",
                      display: "flex",
                      alignItems: "center",
                      justifyContent: "space-between",
                      borderTopLeftRadius: "inherit",
                      borderTopRightRadius: "inherit",
                      height: xe.ux.rem(On(e)),
                      gap: xe.ux.rem(ge.x),
                      padding: `0 ${xe.ux.rem(ge.x)} 0 ${xe.ux.rem(e ? ge.mh : ge.x)}`,
                      boxSizing: "border-box"
                    }),
                    t && !e ? { borderBottom: `0.5px solid ${ve.BlueGray10}` } : {}
                  ),
                  e
                    ? {
                        clipPath: t ? "inset(0 0 -5px 0)" : void 0,
                        boxShadow: t ? Yt.H8.boxShadow : void 0,
                        borderBottom: t ? Yt.H8.border : `0.5px solid ${be.Z.BorderBaseSubduedColor}`,
                        zIndex: t ? 1 : void 0
                      }
                    : {}
                ),
                {
                  cursor: n ? "grab" : void 0,
                  position: "relative",
                  "--grammarly-app-region": "drag",
                  $nest: {
                    button: { "--grammarly-app-region": "no-drag" },
                    "&:hover": { background: e && n ? be.Z.ButtonBackgroundTertiaryHover : void 0 }
                  }
                }
              )
            )
          ]),
        Tn = (e) =>
          xe.ux.joinClasses([
            In,
            xe.ux.style(
              Object.assign(
                Object.assign(Object.assign({}, Rn), { gridArea: "content" }),
                e
                  ? {
                      $nest: {
                        "& [data-card] + [data-card]": { borderTop: `0.5px solid ${be.Z.BorderBaseSubduedColor}` },
                        '& [data-card-type="prompt-result"] + [data-card-type="prompt-result"]': {
                          borderTop: 0,
                          position: "relative",
                          $nest: {
                            "&::before": {
                              content: "''",
                              position: "absolute",
                              top: 0,
                              left: xe.ux.rem(1),
                              right: xe.ux.rem(1),
                              borderTop: `0.5px solid ${be.Z.BorderBaseSubduedColor}`
                            }
                          }
                        }
                      }
                    }
                  : { display: "flex", flexDirection: "column", gap: xe.ux.rem(ge.x), padding: `0 ${xe.ux.rem(ge.x)}` }
              )
            )
          ]),
        Nn = xe.ux.style({ position: "relative", gridArea: "notifications" }),
        Mn = { zIndex: 1e3, position: "absolute", right: xe.ux.rem(ge.x), marginLeft: xe.ux.rem(ge.x) },
        Fn = xe.ux.style(Object.assign(Object.assign({}, Mn), { top: 0 })),
        jn = xe.ux.style(Object.assign(Object.assign({}, Mn), { top: xe.ux.rem(ge.F2) })),
        Pn = ge.x,
        zn = (e) =>
          xe.ux.style(
            Object.assign(
              Object.assign(Object.assign({}, Rn), {
                gridArea: "footer",
                borderBottomLeftRadius: "inherit",
                borderBottomRightRadius: "inherit"
              }),
              e ? {} : { paddingBottom: xe.ux.rem(Pn) }
            )
          ),
        Gn = xe.ux.style({ gridArea: "sentinel", visibility: "hidden" }),
        Ln = se.createContext({ notifyUnmount: a.Q1 }),
        Zn = (e) =>
          se.createElement(
            pe.a1,
            Object.assign({ width: "18", height: "18", viewBox: "0 0 18 18", fill: be.Z.BrandGreen60 }, e),
            se.createElement("path", {
              d: "M17.1056 9.44721L0.992696 17.5037C0.607324 17.6963 0.174955 17.3439 0.285972 16.9276L1.83393 11.1228C1.93505 10.7436 2.24864 10.4586 2.63576 10.394L9.52041 9.2466C9.79894 9.20018 9.79894 8.79982 9.52041 8.7534L2.63576 7.60596C2.24864 7.54144 1.93505 7.25644 1.83393 6.87723L0.285971 1.07239C0.174955 0.656082 0.607322 0.303661 0.992694 0.496347L17.1056 8.55279C17.4741 8.73705 17.4741 9.26295 17.1056 9.44721Z",
              stroke: "none"
            })
          ),
        Dn = (e) =>
          se.createElement(
            pe.a1,
            Object.assign({ width: "32", height: "32", fill: me.Il.Text.Base.Subdued, viewBox: "0 0 32 32" }, e),
            se.createElement("path", {
              fillRule: "evenodd",
              clipRule: "evenodd",
              d: "M24 16a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm1 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11-3a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1h-4Z",
              stroke: "none"
            })
          );
      var Hn = n(31542),
        Vn = function (e, t) {
          var n = {};
          for (var i in e) Object.prototype.hasOwnProperty.call(e, i) && t.indexOf(i) < 0 && (n[i] = e[i]);
          if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
            var r = 0;
            for (i = Object.getOwnPropertySymbols(e); r < i.length; r++)
              t.indexOf(i[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, i[r]) && (n[i[r]] = e[i[r]]);
          }
          return n;
        };
      const $n = "#161719",
        Kn = "#646B81",
        Wn = (e) => {
          var { children: t, style: n, name: r } = e,
            o = Vn(e, ["children", "style", "name"]);
          const [a, s] = se.useState(null),
            l = se.useCallback((e) => {
              var t, n;
              let i = null;
              "contentDocument" in e.target &&
                (i = null !== (n = null === (t = e.target.contentDocument) || void 0 === t ? void 0 : t.body) && void 0 !== n ? n : null),
                s(i),
                i && ((i.style.margin = "0"), (i.style.height = "100vh"), (i.style.overflowY = "hidden"));
            }, []),
            c = se.useContext(Qt.u.Context);
          return (
            se.useEffect(() => {
              const e = c.subscribe((e) => {
                a && Qt.u.setRootCssVar(a, i.some(e));
              });
              return () => e.unsubscribe();
            }, [a]),
            se.createElement(
              se.Fragment,
              null,
              se.createElement(
                "iframe",
                Object.assign({}, o, { style: Object.assign({}, n), onLoad: l, srcDoc: "<html><body></body></html>", "data-name": r })
              ),
              a && (0, Hn.createPortal)(t, a)
            )
          );
        },
        qn = 1.375,
        Qn = ({
          fitContentHeight: e,
          text: t,
          ariaLabel: n,
          onChange: i,
          placeholder: r,
          disabled: o,
          className: a,
          onFocus: s,
          onBlur: l,
          onKeyDownEnter: c,
          autofocus: u,
          onKeyDownArrowUp: d,
          onKeyDownArrowDown: m,
          onKeyDownShiftEnter: p,
          theme: h
        }) => {
          var f, g, v, x, y, b, k, w, C, S, E, _, I, A, B, R, O, U, T, N, M, F, j, P, z, G, L, Z, D, H, V;
          const $ =
              qn * (r ? r.length : 1) +
              (null !== (g = null === (f = null == h ? void 0 : h.paddingRems) || void 0 === f ? void 0 : f.top) && void 0 !== g ? g : 0) +
              (null !== (x = null === (v = null == h ? void 0 : h.paddingRems) || void 0 === v ? void 0 : v.bottom) && void 0 !== x
                ? x
                : 0),
            [K, W] = se.useState({ kind: "rem", value: $ }),
            [q, Q] = se.useState(null);
          return (
            se.useEffect(() => {
              q && void 0 !== u && (q.focus(), (q.selectionStart = t.length), (q.selectionEnd = t.length));
            }, [u, q]),
            se.useLayoutEffect(() => {
              if ("" === t) W({ kind: "rem", value: $ });
              else {
                const e = null == q ? void 0 : q.scrollHeight;
                W(e ? { kind: "px", value: e } : { kind: "rem", value: $ });
              }
            }, [t, q, r]),
            se.createElement(
              Wn,
              {
                className: a,
                style: {
                  height: e ? ("rem" === K.kind ? xe.ux.rem(K.value) : xe.ux.px(K.value)) : void 0,
                  maxHeight: (null == h ? void 0 : h.maxHeightRems) ? xe.ux.rem(h.maxHeightRems) : "none",
                  minHeight: (null == h ? void 0 : h.minHeightRems) ? xe.ux.rem(h.minHeightRems) : "none"
                },
                title: `${n} container`,
                name: "textarea-iframe"
              },
              se.createElement("style", {
                dangerouslySetInnerHTML: {
                  __html:
                    `\n      .container {\n        position: relative;\n        width: 100%;\n        height: 100%;\n      }\n      .textarea {\n        box-sizing: border-box;\n        border-radius: ${xe.ux.rem(
                      jt.xB
                    )};\n        overflow-y: auto;\n        padding: ${xe.ux.rem(
                      null !== (b = null === (y = null == h ? void 0 : h.paddingRems) || void 0 === y ? void 0 : y.top) && void 0 !== b
                        ? b
                        : 0
                    )} ${xe.ux.rem(
                      null !== (w = null === (k = null == h ? void 0 : h.paddingRems) || void 0 === k ? void 0 : k.right) && void 0 !== w
                        ? w
                        : 0
                    )} ${xe.ux.rem(
                      null !== (S = null === (C = null == h ? void 0 : h.paddingRems) || void 0 === C ? void 0 : C.bottom) && void 0 !== S
                        ? S
                        : 0
                    )} ${xe.ux.rem(
                      null !== (_ = null === (E = null == h ? void 0 : h.paddingRems) || void 0 === E ? void 0 : E.left) && void 0 !== _
                        ? _
                        : 0
                    )};\n        width: 100%;\n        height: 100%;\n        border: none;\n        background: transparent;\n        resize: none;\n        font-family: Inter, sans-serif;\n        font-size: ${
                      null !== (I = null == h ? void 0 : h.fontSize) && void 0 !== I ? I : xe.ux.rem(0.875)
                    };\n        font-weight: 400;\n        color: ${
                      null !== (A = null == h ? void 0 : h.color) && void 0 !== A ? A : $n
                    };\n      }\n      .textarea::placeholder {\n        color: ${Kn};\n      }\n      .textarea:placeholder-shown {\n        padding: ${
                      (null == h ? void 0 : h.placeholderPaddingRems)
                        ? `${xe.ux.rem(
                            null !== (R = null === (B = h.placeholderPaddingRems) || void 0 === B ? void 0 : B.top) && void 0 !== R ? R : 0
                          )} ${xe.ux.rem(
                            null !== (U = null === (O = h.placeholderPaddingRems) || void 0 === O ? void 0 : O.right) && void 0 !== U
                              ? U
                              : 0
                          )} ${xe.ux.rem(
                            null !== (N = null === (T = h.placeholderPaddingRems) || void 0 === T ? void 0 : T.bottom) && void 0 !== N
                              ? N
                              : 0
                          )} ${xe.ux.rem(
                            null !== (F = null === (M = h.placeholderPaddingRems) || void 0 === M ? void 0 : M.left) && void 0 !== F ? F : 0
                          )}`
                        : `${xe.ux.rem(
                            null !== (P = null === (j = null == h ? void 0 : h.paddingRems) || void 0 === j ? void 0 : j.top) &&
                              void 0 !== P
                              ? P
                              : 0
                          )} ${xe.ux.rem(
                            null !== (G = null === (z = null == h ? void 0 : h.paddingRems) || void 0 === z ? void 0 : z.right) &&
                              void 0 !== G
                              ? G
                              : 0
                          )} ${xe.ux.rem(
                            null !== (Z = null === (L = null == h ? void 0 : h.paddingRems) || void 0 === L ? void 0 : L.bottom) &&
                              void 0 !== Z
                              ? Z
                              : 0
                          )} ${xe.ux.rem(
                            null !== (H = null === (D = null == h ? void 0 : h.paddingRems) || void 0 === D ? void 0 : D.left) &&
                              void 0 !== H
                              ? H
                              : 0
                          )}`
                    };\n      }\n      .textarea:focus {\n        outline: none;\n      }\n      .placeholder {\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        width: 100%;\n        height: 100%;\n        background: transparent;\n        font-family: Inter, sans-serif;\n        font-size: ${xe.ux.rem(
                      0.875
                    )};\n        font-weight: 400;\n        z-index: -1;\n        color: ${Kn};\n      }\n      `.replace(/\s/g, "")
                }
              }),
              se.createElement(
                "div",
                { className: "container" },
                se.createElement("textarea", {
                  "aria-label": n,
                  className: "textarea",
                  style: { lineHeight: null !== (V = null == h ? void 0 : h.lineHeight) && void 0 !== V ? V : xe.ux.rem(qn) },
                  value: t,
                  ref: Q,
                  onChange: (e) => i(e.target.value),
                  placeholder: 1 === (null == r ? void 0 : r.length) ? r[0] : void 0,
                  disabled: o,
                  onFocus: () => (null == s ? void 0 : s()),
                  onBlur: () => (null == l ? void 0 : l()),
                  onKeyDown: (e) => {
                    var t;
                    c && "Enter" === e.key && !e.shiftKey
                      ? (e.preventDefault(), e.stopPropagation(), c())
                      : "ArrowUp" === e.key && d && Yn((t = e.currentTarget)) && 0 === t.selectionStart
                      ? (e.preventDefault(), e.stopPropagation(), d())
                      : "ArrowDown" === e.key &&
                        m &&
                        (function (e) {
                          return Yn(e) && e.selectionStart === e.value.length;
                        })(e.currentTarget)
                      ? (e.preventDefault(), e.stopPropagation(), m())
                      : "Enter" === e.key && e.shiftKey && (e.preventDefault(), e.stopPropagation(), null == p || p());
                  }
                }),
                ((null == r ? void 0 : r.length) || 0) > 1 && "" === t
                  ? se.createElement(
                      "div",
                      { className: "placeholder", style: { lineHeight: xe.ux.rem(qn) } },
                      (r || []).map((e, t) => se.createElement(se.Fragment, { key: t }, e, se.createElement("br", null)))
                    )
                  : null
              )
            )
          );
        };
      function Yn(e) {
        return e.selectionStart === e.selectionEnd;
      }
      const Xn = "goBtn",
        Jn = "stopBtn",
        ei = { top: ge.x, right: 3.5 * ge.qp, bottom: ge.x, left: ge.qp },
        ti = { top: ge.x, right: ge.qp, bottom: ge.x, left: ge.qp },
        ni = xe.ux.style({
          display: "flex",
          position: "relative",
          alignItems: "flex-start",
          padding: 0,
          gap: xe.ux.rem(ge.F2),
          justifyContent: "space-between"
        }),
        ii = xe.ux.style({ flexGrow: 1, paddingTop: xe.ux.rem(ge.F2 + ge.W9) }),
        ri = xe.ux.style({ width: xe.ux.percent(100), border: "none" }),
        oi = { position: "absolute", bottom: xe.ux.rem(ge.x), right: xe.ux.rem(ge.qp) },
        ai = (0, ye.dD)(oi, Jn),
        si = (0, ye.dD)(
          Object.assign(Object.assign({}, oi), {
            $nest: { "&[data-disabled='true']": { opacity: 1, $nest: { "& svg": { fill: ve.BlueGray30 } } } }
          }),
          Xn
        ),
        li = xe.ux.joinClasses([Xn, xe.ux.style(si)]),
        ci = xe.ux.joinClasses([Jn, xe.ux.style(ai)]),
        ui = r.UI.Node.make(({ state: e, notify: t }) => {
          const { onMount: n } = (0, en.F)(R.b((e) => t({ kind: b.i.Kind.mount, name: ie.e.promptInput, element: e })())),
            r = se.useContext(nn.N).view("flatUI");
          return se.createElement(
            ue.F.div,
            { className: ni, mount: n },
            se.createElement(
              ue.F.div,
              { className: ii },
              e.pipe(
                W.U(({ placeholder: e, kind: n, text: o, autofocusToken: s, genAIAvailability: l }) =>
                  se.createElement(Qn, {
                    text: o,
                    theme: { paddingRems: ei, placeholderPaddingRems: ti, maxHeightRems: 20, minHeightRems: 2 },
                    ariaLabel: "custom prompt",
                    className: ri,
                    placeholder: "ready" === n ? i.toUndefined(e) : void 0,
                    fitContentHeight: !0,
                    autofocus: s,
                    onChange: (e) => t({ kind: b.i.Kind.promptFieldTextChange, text: e })(),
                    onKeyDownEnter: "ready" !== n || z._.isUnavailable(l) ? a.Q1 : t({ kind: b.i.Kind.promptFieldKeyPressEnter, text: o }),
                    onFocus: t({ kind: b.i.Kind.promptFieldFocusChange, focused: !0 }),
                    onBlur: t({ kind: b.i.Kind.promptFieldFocusChange, focused: !1 }),
                    onKeyDownArrowUp: t({ kind: b.i.Kind.promptFieldKeyPressArrowUp }),
                    onKeyDownArrowDown: t({ kind: b.i.Kind.promptFieldKeyPressArrowDown }),
                    disabled: !r && z._.isUnavailable(l)
                  })
                )
              )
            ),
            ee
              .aj([e, r])
              .pipe(
                W.U(([{ kind: e, text: n, genAIAvailability: i }, r]) =>
                  z._.isUnavailable(i) && r
                    ? null
                    : "waitingForResult" === e
                    ? se.createElement(
                        de.z,
                        {
                          variant: "tertiary",
                          className: ci,
                          onClick: t({ kind: b.i.Kind.generateStopButtonClick }),
                          name: "generateStop",
                          compact: !0,
                          size: "large"
                        },
                        se.createElement(Dn, null)
                      )
                    : "ready" === e && (!r || (r && "" !== n.trim()))
                    ? se.createElement(
                        de.z,
                        {
                          variant: "tertiary",
                          className: li,
                          onClick: t({ kind: b.i.Kind.promptSubmitButtonClick, text: n }),
                          disabled: "" === n.trim() || z._.isUnavailable(i),
                          name: "promptSend",
                          compact: !0,
                          size: "large"
                        },
                        se.createElement(Zn, null)
                      )
                    : null
                )
              )
          );
        }),
        di = () =>
          se.createElement(
            "div",
            { role: "separator", className: xe.ux.style({ position: "relative", width: "100%" }) },
            se.createElement("div", {
              className: xe.ux.style({
                position: "absolute",
                bottom: 0,
                left: xe.ux.rem(qe),
                right: xe.ux.rem(Qe),
                borderBottom: `0.5px solid ${be.Z.BorderBaseSubduedColor}`
              })
            })
          ),
        mi = r.UI.Node.make(({ view: e, notify: t }) =>
          se.createElement(
            ue.F.div,
            { className: pi, "data-name": "action-store" },
            e("actionGroups").pipe(
              W.U((e) =>
                e.map(({ label: e, actions: n }) =>
                  se.createElement(
                    "section",
                    { key: e, className: hi },
                    e.trim().length > 0 && se.createElement("h1", { className: fi }, e),
                    n.map(({ label: e, icon: n, action: i }, r) =>
                      se.createElement(
                        se.Fragment,
                        { key: e },
                        0 !== r && se.createElement(di, null),
                        se.createElement(He, {
                          key: e,
                          label: e,
                          icon: le.right(n),
                          onClick: t({ kind: b.i.Kind.actionBrickClick, action: i })
                        })
                      )
                    )
                  )
                )
              )
            )
          )
        ),
        pi = xe.ux.style({ padding: `${xe.ux.rem(2.25)} 0 ${xe.ux.rem(1)} 0`, display: "flex", flexDirection: "column" }),
        hi = xe.ux.style({ display: "flex", flexDirection: "column" }),
        fi = xe.ux.style({
          margin: 0,
          fontSize: xe.ux.rem(0.875),
          lineHeight: xe.ux.rem(1.3125),
          fontWeight: 700,
          padding: `${xe.ux.rem(ge.x)} ${xe.ux.rem(ge.mh)}`
        }),
        gi = ({ children: e, style: t }) => {
          const n = se.useContext(nn.N);
          return se.createElement(
            ue.F.h1,
            {
              className: ee
                .aj([n, (0, tn.D)(t)])
                .pipe(
                  W.U(([{ flatUI: e }, t]) =>
                    xe.ux.style(
                      e
                        ? {
                            color: me.Il.Text.Base.Default,
                            margin: 0,
                            padding: `0 0 ${xe.ux.rem(ge.x)} 0`,
                            fontWeight: 700,
                            fontSize: xe.ux.rem(1),
                            lineHeight: xe.ux.rem(1.5),
                            overflow: "hidden",
                            whiteSpace: "nowrap",
                            textOverflow: "ellipsis"
                          }
                        : {
                            color: me.Il.Text.Base.Subdued,
                            margin: 0,
                            fontWeight: 400,
                            fontSize: xe.ux.rem(0.75),
                            lineHeight: xe.ux.rem(1.125),
                            overflow: "hidden",
                            whiteSpace: "nowrap",
                            textOverflow: "ellipsis"
                          },
                      t
                    )
                  )
                )
            },
            e
          );
        },
        vi = (e) =>
          se.createElement(
            pe.a1,
            Object.assign({ width: "12", height: "15", viewBox: "0 0 12 15" }, e),
            se.createElement("path", {
              fillRule: "evenodd",
              clipRule: "evenodd",
              d: "M4.5 0.5C3.67157 0.5 3 1.17157 3 2V3H0.5C0.223858 3 0 3.22386 0 3.5C0 3.77614 0.223858 4 0.5 4H1.04536L1.82983 12.237C1.95203 13.5201 3.02968 14.5 4.31857 14.5H7.68143C8.97032 14.5 10.048 13.5201 10.1702 12.237L10.9546 4H11.5C11.7761 4 12 3.77614 12 3.5C12 3.22386 11.7761 3 11.5 3H9V2C9 1.17157 8.32843 0.5 7.5 0.5H4.5ZM8 3V2C8 1.72386 7.77614 1.5 7.5 1.5H4.5C4.22386 1.5 4 1.72386 4 2V3H8ZM2.04988 4H9.95012L9.17467 12.1422C9.10135 12.9121 8.45476 13.5 7.68143 13.5H4.31857C3.54524 13.5 2.89865 12.9121 2.82533 12.1422L2.04988 4Z",
              stroke: "none"
            })
          ),
        xi = ({ style: e, contentStyle: t, children: n, header: i }) => {
          const r = se.useContext(nn.N).view("flatUI");
          return se.createElement(
            ue.F.section,
            { className: r.view((t) => xe.ux.style(yi(t), e)), "data-name": "action-category" },
            i,
            se.createElement("div", { className: xe.ux.style(bi, t) }, n)
          );
        },
        yi = (e) => ({ background: "white", display: "flex", flexDirection: "column", gap: e ? void 0 : xe.ux.rem(ge.x) }),
        bi = { display: "flex", flexDirection: "row", flexWrap: "wrap", gap: xe.ux.rem(ge.x) },
        ki = r.UI.List.make(C.bw, Le);
      var wi = n(55721);
      function Ci(e, t = 0) {
        const n = (function (e) {
          return e.trim().replace(/\s+/g, " ");
        })(e)
          .split(" ")
          .reduce(
            (e, n, i, r) =>
              Object.assign(Object.assign({}, e), {
                head: i < r.length - t ? e.head.concat(n) : e.head,
                tail: i >= r.length - t ? e.tail.concat(n) : e.tail
              }),
            { head: [], tail: [] }
          );
        return { head: n.head.join(" "), tail: n.tail.join(" ") };
      }
      const Si = ({ children: e, maxTailWordsCount: t = 0 }) => {
          const n = Ci(e, t);
          return se.createElement(
            "div",
            { className: _i },
            se.createElement("span", { className: Ii }, n.head, n.head.length && n.tail.length ? "" : null),
            n.tail.length ? n.tail : null
          );
        },
        Ei = ({ children: e, maxTailWordsCount: t = 0 }) => {
          const [n, i] = se.useState(t),
            { onMount: r, rect: o } = Xt.P.useRectWatcher(),
            a = se.useRef(null),
            s = se.useMemo(() => Ci(e, n), [n, e]),
            l = se.useMemo(() => new f.xQ(), []);
          Xt.P.useSubscriptionTo(
            se.useMemo(
              () =>
                l.pipe(
                  wi.p(100),
                  O.x(),
                  R.b((e) => {
                    i(e);
                  })
                ),
              []
            )
          );
          const c = se.useMemo(() => {
            return (
              (e = a.current),
              parseInt(
                (null ===
                  (i =
                    null === (n = null === (t = null == e ? void 0 : e.ownerDocument) || void 0 === t ? void 0 : t.defaultView) ||
                    void 0 === n
                      ? void 0
                      : n.getComputedStyle(e)) || void 0 === i
                  ? void 0
                  : i.fontSize) ||
                  (null === (o = null === (r = null == e ? void 0 : e.ownerDocument) || void 0 === r ? void 0 : r.defaultView) ||
                  void 0 === o
                    ? void 0
                    : o.getComputedStyle(e.ownerDocument.body).fontSize) ||
                  Ai,
                10
              )
            );
            var e, t, n, i, r, o;
          }, [a.current]);
          return (
            Xt.P.useSubscriptionTo(
              se.useMemo(
                () =>
                  o.pipe(
                    J.oA,
                    O.x(),
                    I.h((e) => Boolean(e.width && e.height)),
                    R.b((e) => {
                      if (e.width < 9 * c) l.next(0);
                      else if (a.current && a.current.clientWidth < a.current.scrollWidth) {
                        const i = a.current.clientWidth / (e.width || 1 / 0);
                        n && i < 0.4 ? l.next(n - 1) : i > 0.6 && n < t && l.next(n + 1);
                      }
                    })
                  ),
                [o]
              )
            ),
            se.createElement(
              "div",
              { className: _i, ref: r },
              se.createElement("span", { className: Ii, ref: a }, s.head, s.head.length && s.tail.length ? "" : null),
              s.tail.length ? s.tail : null
            )
          );
        },
        _i = xe.ux.style({ display: "flex", flexDirection: "row", whiteSpace: "nowrap", maxWidth: "100%", minWidth: 0 }),
        Ii = xe.ux.style({ display: "inline-block", overflow: "hidden", textOverflow: "ellipsis", flexShrink: 10 }),
        Ai = "16px";
      const Bi = (0, ce.xb)(({ dynamic: e = !1, maxTailWordsCount: t = 0, children: n }) =>
          e ? se.createElement(Ei, { maxTailWordsCount: t }, n) : se.createElement(Si, { maxTailWordsCount: t }, n)
        ),
        Ri = ({ active: e, className: t, prefix: n, style: i, children: r }) =>
          se.createElement(
            "h1",
            { className: xe.ux.joinClasses([Ti(void 0 !== n, i), t]) },
            e
              ? se.createElement(
                  "svg",
                  { viewBox: "0 0 16 16", fill: "none", className: Ui, "aria-hidden": "true" },
                  se.createElement("rect", { width: "16", height: "16", rx: "5", fill: "#018374" }),
                  se.createElement("path", {
                    fillRule: "evenodd",
                    clipRule: "evenodd",
                    d: "M9.5 13.5C9.5 13.7761 9.72386 14 10 14H11C12.6569 14 14 12.6569 14 11V10C14 9.72386 13.7761 9.5 13.5 9.5C13.2239 9.5 13 9.72386 13 10V11C13 12.1046 12.1046 13 11 13H10C9.72386 13 9.5 13.2239 9.5 13.5ZM9.5 2.5C9.5 2.77614 9.72386 3 10 3H11C12.1046 3 13 3.89543 13 5V6C13 6.27614 13.2239 6.5 13.5 6.5C13.7761 6.5 14 6.27614 14 6V5C14 3.34315 12.6569 2 11 2H10C9.72386 2 9.5 2.22386 9.5 2.5ZM6 2C6.27614 2 6.5 2.22386 6.5 2.5C6.5 2.77614 6.27614 3 6 3H5C3.89543 3 3 3.89543 3 5V6C3 6.27614 2.77614 6.5 2.5 6.5C2.22386 6.5 2 6.27614 2 6V5C2 3.34315 3.34315 2 5 2H6ZM6 13C6.27614 13 6.5 13.2239 6.5 13.5C6.5 13.7761 6.27614 14 6 14H5C3.34315 14 2 12.6569 2 11V10C2 9.72386 2.22386 9.5 2.5 9.5C2.77614 9.5 3 9.72386 3 10V11C3 12.1046 3.89543 13 5 13H6ZM5.5 6.5C5.5 6.22386 5.72386 6 6 6H10C10.2761 6 10.5 6.22386 10.5 6.5C10.5 6.77614 10.2761 7 10 7H6C5.72386 7 5.5 6.77614 5.5 6.5ZM6 9C5.72386 9 5.5 9.22386 5.5 9.5C5.5 9.77614 5.72386 10 6 10H8.5C8.77614 10 9 9.77614 9 9.5C9 9.22386 8.77614 9 8.5 9H6Z",
                    fill: "white"
                  })
                )
              : se.createElement(
                  "svg",
                  { viewBox: "0 0 16 16", fill: "none", className: Ui, "aria-hidden": "true" },
                  se.createElement("path", {
                    fillRule: "evenodd",
                    clipRule: "evenodd",
                    d: "M9.5 13.5C9.5 13.7761 9.72386 14 10 14H11C12.6569 14 14 12.6569 14 11V10C14 9.72386 13.7761 9.5 13.5 9.5C13.2239 9.5 13 9.72386 13 10V11C13 12.1046 12.1046 13 11 13H10C9.72386 13 9.5 13.2239 9.5 13.5ZM9.5 2.5C9.5 2.77614 9.72386 3 10 3H11C12.1046 3 13 3.89543 13 5V6C13 6.27614 13.2239 6.5 13.5 6.5C13.7761 6.5 14 6.27614 14 6V5C14 3.34315 12.6569 2 11 2H10C9.72386 2 9.5 2.22386 9.5 2.5ZM6 2C6.27614 2 6.5 2.22386 6.5 2.5C6.5 2.77614 6.27614 3 6 3H5C3.89543 3 3 3.89543 3 5V6C3 6.27614 2.77614 6.5 2.5 6.5C2.22386 6.5 2 6.27614 2 6V5C2 3.34315 3.34315 2 5 2H6ZM6 13C6.27614 13 6.5 13.2239 6.5 13.5C6.5 13.7761 6.27614 14 6 14H5C3.34315 14 2 12.6569 2 11V10C2 9.72386 2.22386 9.5 2.5 9.5C2.77614 9.5 3 9.72386 3 10V11C3 12.1046 3.89543 13 5 13H6ZM5.5 6.5C5.5 6.22386 5.72386 6 6 6H10C10.2761 6 10.5 6.22386 10.5 6.5C10.5 6.77614 10.2761 7 10 7H6C5.72386 7 5.5 6.77614 5.5 6.5ZM6 9C5.72386 9 5.5 9.22386 5.5 9.5C5.5 9.77614 5.72386 10 6 10H8.5C8.77614 10 9 9.77614 9 9.5C9 9.22386 8.77614 9 8.5 9H6Z",
                    fill: "#646B81"
                  })
                ),
            n && se.createElement("span", { className: Oi }, n),
            se.createElement(Bi, { dynamic: !0, maxTailWordsCount: 3 }, r)
          ),
        Oi = xe.ux.style({ fontSize: xe.ux.rem(0.75), lineHeight: xe.ux.rem(1.125), color: be.Z.BrandGreen60 }),
        Ui = xe.ux.style({ width: xe.ux.rem(1), height: xe.ux.rem(1) }),
        Ti = (e, t) =>
          xe.ux.style(
            Object.assign(
              {
                display: "grid",
                gridTemplateColumns: `${xe.ux.rem(1)} ${e ? "min-content " : ""}auto`,
                justifyItems: "start",
                alignItems: "center",
                gap: xe.ux.rem(ge.x),
                color: me.Il.Text.Base.Subdued,
                fontSize: xe.ux.rem(0.75),
                lineHeight: xe.ux.rem(1.125),
                overflow: "hidden",
                whiteSpace: "nowrap",
                textOverflow: "ellipsis",
                fontWeight: "normal",
                margin: 0,
                height: xe.ux.rem(1.5)
              },
              t
            )
          ),
        Ni = r.UI.Grid.make(({ slots: e, state: t }) => {
          const n = se.useContext(nn.N).view("flatUI");
          return se.createElement(
            ue.F.Fragment,
            null,
            ee
              .aj([t, n])
              .pipe(
                W.U(([{ label: t, view: n }, i]) =>
                  n === P.aU.Store.View.normal
                    ? se.createElement(xi, { header: e.header, style: i ? void 0 : Gi, key: t }, e.actions)
                    : n === P.aU.Store.View.pinned
                    ? se.createElement(xi, { style: i ? Vi : Hi, key: t }, e.actions)
                    : (0, j.L0)(n)
                )
              )
          );
        }),
        Mi = r.UI.Node.make(({ view: e }) => se.createElement(gi, null, e("label"))),
        Fi = r.UI.Node.make(({ view: e, notify: t }) => {
          const n = se.useContext(nn.N).view("flatUI");
          return se.createElement(
            ue.F.div,
            { className: n.view(Li) },
            se.createElement(Ri, { active: !0 }, e("label")),
            se.createElement(
              de.z,
              {
                variant: "tertiary",
                onClick: t({ kind: b.i.Kind.removeSelectionContextClick }),
                compact: !0,
                size: "small",
                name: "removeContext",
                title: "Delete"
              },
              se.createElement(vi, { className: Di })
            )
          );
        }),
        ji = r.UI.Union.make("kind", { default: Mi, withSelectionContext: Fi }),
        Pi = r.UI.Knot.make(Ni, { actions: ki, header: ji }),
        zi = r.UI.List.make(C.bw, Pi),
        Gi = { background: "transparent", padding: `${xe.ux.rem(ge.x)} 0` },
        Li = (e) =>
          xe.ux.style({
            display: "flex",
            alignItems: "center",
            alignContent: "center",
            justifyContent: "space-between",
            gap: xe.ux.rem(ge.x),
            marginBottom: e ? xe.ux.rem(ge.x) : void 0
          }),
        Zi = "ignoreIcon",
        Di = xe.ux.joinClasses([Zi, xe.ux.style((0, ye.dD)((0, ye.fx)(1.5), Zi))]),
        Hi = Object.assign(Object.assign({}, Gi), {
          padding: `${xe.ux.rem(ge.x)} 0`,
          marginTop: xe.ux.rem(-ge.x),
          borderTop: `1px solid ${ve.NeutralGray0}`
        }),
        Vi = { paddingTop: xe.ux.rem(ge.x), borderTop: `1px solid ${ve.NeutralGray0}` },
        $i = r.UI.Grid.make(({ slots: e }) => se.createElement(ue.F.div, { className: Wi, "data-name": "action-store" }, e.content)),
        Ki = r.UI.Union.asOption(
          r.UI.Composite.make(
            $i,
            (0, a.zG)(
              zi,
              r.UI.patch("header")(() => Mi)
            )
          )
        ),
        Wi = xe.ux.style({ padding: `${xe.ux.rem(ge.F2)} ${xe.ux.rem(ge.qp)}`, display: "flex", flexDirection: "column" }),
        qi = r.UI.List.make(C.bw, Le),
        Qi = r.UI.Grid.make(({ slots: e }) =>
          se.createElement("div", { className: Xi }, e.customPromptGo, se.createElement("div", { className: Ji }, e.searchResults))
        ),
        Yi = r.UI.Knot.make(Qi, { searchResults: qi, customPromptGo: Le }),
        Xi = xe.ux.style({
          background: "transparent",
          padding: xe.ux.rem(ge.qp),
          display: "flex",
          flexDirection: "column",
          alignItems: "flex-start",
          gap: xe.ux.rem(ge.x)
        }),
        Ji = xe.ux.style({ display: "flex", flexDirection: "row", flexWrap: "wrap", gap: xe.ux.rem(ge.x) }),
        er = r.UI.Grid.make(({ slots: e, view: t, notify: n }) =>
          se.createElement(
            "div",
            { className: nr, "data-name": "search-results" },
            se.createElement("div", { className: ir }, e.goAction),
            se.createElement(
              ue.F.div,
              { className: rr },
              t("actions").pipe(
                W.U((e) =>
                  e.map(({ label: e, icon: t, action: i }, r) =>
                    se.createElement(
                      se.Fragment,
                      { key: e },
                      0 !== r && se.createElement(di, null),
                      se.createElement(He, {
                        key: e,
                        label: e,
                        icon: le.right(t),
                        onClick: n({ kind: b.i.Kind.actionBrickClick, action: i })
                      })
                    )
                  )
                )
              )
            )
          )
        ),
        tr = r.UI.Knot.make(er, { goAction: Le }),
        nr = xe.ux.style({ background: "transparent", display: "flex", flexDirection: "column", alignItems: "flex-start" }),
        ir = xe.ux.style({ padding: `${xe.ux.rem(9 * ge.W9)} ${xe.ux.rem(ge.qp)} ${xe.ux.rem(7 * ge.W9)} ${xe.ux.rem(ge.qp)}` }),
        rr = xe.ux.style({ display: "flex", flexDirection: "column", width: "100%" }),
        or = r.UI.Union.make("kind", {
          none: r.UI.Node.empty,
          searchResults: tr,
          actionStore: mi,
          legacySearchResults: Yi,
          legacyActionStore: Ki
        }),
        ar = r.UI.Knot.make(
          r.UI.Grid.make(({ slots: e, notify: t }) =>
            se.createElement(
              ue.F.div,
              { className: lr },
              se.createElement(
                de.z,
                {
                  variant: "tertiary",
                  compact: !0,
                  style: cr,
                  onClick: t({ kind: b.i.Kind.collapsePromptMenuButtonClick }),
                  name: "collapsePromptMenu",
                  size: "small"
                },
                se.createElement(pe.JO.Arrow, { direction: pe.n4.down })
              ),
              se.createElement(
                "div",
                {
                  ref: (e) => e && t({ kind: b.i.Kind.mount, name: ie.e.promptMenuContent, element: e })(),
                  onKeyDown: (e) => {
                    "ArrowDown" === e.key
                      ? t({ kind: b.i.Kind.promptMenuKeyPressArrowDown })()
                      : "ArrowUp" === e.key && t({ kind: b.i.Kind.promptMenuKeyPressArrowUp })();
                  }
                },
                e.content
              )
            )
          ),
          { content: or }
        ),
        sr = r.UI.Union.asOption(ar),
        lr = xe.ux.style({ overflowY: "scroll", borderBottom: `0.5px solid ${me.Il.Border.Base.Subdued}` }),
        cr = { default: { position: "absolute", top: xe.ux.rem(ge.x), right: xe.ux.rem(ge.x), zIndex: 1 } },
        ur = r.UI.Grid.make(({ slots: e, view: t, notify: n }) => {
          const { onMount: r, rect: o } = Xt.P.useRectWatcher(),
            { notifyUnmount: s } = se.useContext(Ln),
            { ref: l, onMount: c } = (0, en.F)(
              (0, a.ls)(
                R.b((e) => n({ kind: b.i.Kind.mount, name: ie.e.promptInputAndMenuContainer, element: e })()),
                Jt.x(() => s({ kind: b.i.Kind.unmount, name: ie.e.promptInputAndMenuContainer }))
              )
            ),
            u = se.useContext(nn.N).view("flatUI");
          return se.createElement(
            ue.F.div,
            { className: u.view(hr), "data-name": "prompt-container" },
            se.createElement(
              ue.F.div,
              {
                mount: c,
                className: fr,
                "data-expanded": t("menuExpanded"),
                onKeyUp: t("menuExpanded").pipe(
                  W.U((e) => (t) => {
                    "Escape" === t.key && n({ kind: b.i.Kind.promptFieldKeyPressEscape, menuOpened: e })();
                  })
                ),
                onFocus: () => {
                  var e;
                  return n({
                    kind: b.i.Kind.promptFieldAndMenuFocusChange,
                    focused: (null === (e = i.toNullable(l.get())) || void 0 === e ? void 0 : e.contains((0, re.vY)(document))) || !1
                  })();
                },
                onBlur: () => {
                  var e;
                  return n({
                    kind: b.i.Kind.promptFieldAndMenuFocusChange,
                    focused: (null === (e = i.toNullable(l.get())) || void 0 === e ? void 0 : e.contains((0, re.vY)(document))) || !1
                  })();
                }
              },
              e.promptStudioMenu,
              se.createElement("div", { ref: r }, e.promptField)
            ),
            ee.aj([o, t("menuExpanded")]).pipe(
              W.U(([e, t]) =>
                (0, a.zG)(
                  e,
                  i.filter(() => t),
                  i.fold(a.gn, ({ height: e }) => se.createElement("div", { className: gr, style: { height: e }, role: "presentation" }))
                )
              )
            )
          );
        }),
        dr = r.UI.Knot.make(ur, { promptField: ui, promptStudioMenu: sr }),
        mr = r.UI.Union.asOption(dr),
        pr = ge.mh,
        hr = (e) =>
          xe.ux.style(
            Object.assign(
              { position: "relative" },
              e
                ? { margin: `${xe.ux.rem(ge.x)} ${xe.ux.rem(ge.mh)} ${xe.ux.rem(pr)} ${xe.ux.rem(ge.mh)}` }
                : { margin: `${xe.ux.rem(ge.x)} ${xe.ux.rem(ge.x)} 0 ${xe.ux.rem(ge.x)}` }
            )
          ),
        fr = xe.ux.style({
          background: me.Il.Background.Base.Default,
          boxShadow: Yt.H8.boxShadow,
          border: Yt.H8.border,
          borderRadius: xe.ux.rem(jt.xB + jt.fe),
          $nest: {
            "&[data-expanded='true']": {
              boxShadow: Yt.q_.boxShadow,
              border: Yt.q_.border,
              position: "absolute",
              bottom: 0,
              width: "100%",
              display: "grid",
              gridTemplateRows: "1fr auto",
              zIndex: 10
            }
          }
        }),
        gr = xe.ux.style({ opacity: 0, pointerEvents: "none", visibility: "hidden" });
      function vr(e) {
        return "focus" === e.kind;
      }
      function xr(e) {
        return "mount" === e.kind;
      }
      function yr(e) {
        return "headerMount" === e.kind;
      }
      const br = r.UI.Grid.make(({ slots: e, notify: t, view: n }) => {
        const i = se.useContext(Qt.u.Context);
        return se.createElement(En, {
          key: "assistant-container",
          theme: n("theme"),
          onFocus: t({ kind: "focus", focused: !0 }),
          onBlur: t({ kind: "focus", focused: !1 }),
          heightBehavior: n("heightBehavior"),
          widthBehavior: n("widthBehavior"),
          dragBehavior: n("dragBehavior"),
          menuRef: n("menuRef"),
          menuVerticalMargin: ee
            .aj([i, n("theme")])
            .pipe(W.U(([e, t]) => ((t.flatUI ? 0 : On(t.flatUI)) + (t.flatUI ? 1 : 0) + ((e) => (e ? pr : Pn))(t.flatUI)) * e)),
          scrollContentToBottomToken: n("scrollContentToBottomToken"),
          canScrollContent: n("canScrollContent"),
          onMountContainer: (e) => {
            e && t({ kind: "mount", element: e })();
          },
          onMountHeader: (e) => {
            e && t({ kind: "headerMount", element: e })();
          },
          header: e.header,
          content: e.content,
          footer: e.footer,
          notifications: e.notifications
        });
      });
      var kr = n(18208),
        wr = n(72004);
      const Cr = (e) =>
          se.createElement(
            pe.a1,
            Object.assign({ width: "24", height: "24", fill: "none", viewBox: "0.5 0 24 24" }, e),
            se.createElement("path", {
              d: "M12.5 23.25C18.7132 23.25 23.75 18.2132 23.75 12C23.75 5.7868 18.7132 0.75 12.5 0.75C6.2868 0.75 1.25 5.7868 1.25 12C1.25 18.2132 6.2868 23.25 12.5 23.25Z",
              fill: "url(#paint0_linear_4506_11023_disheartening_emoji)",
              stroke: "none"
            }),
            se.createElement("path", {
              d: "M8.97126 19.5491C10.9569 18.1193 14.0431 18.1193 16.0295 19.5491C16.3344 19.7674 16.5155 19.5315 16.4184 19.3455C14.4879 15.6555 10.5121 15.6555 8.58164 19.3455C8.48451 19.5315 8.66564 19.7674 8.97126 19.5491Z",
              fill: "#302C3B",
              stroke: "none"
            }),
            se.createElement("path", {
              d: "M19.895 12.8239C17.9806 13.5491 15.4865 12.8809 14.1909 11.2954C13.9925 11.0531 13.7945 11.2046 13.8328 11.376C14.5936 14.775 17.807 15.6364 20.1654 13.0721C20.2839 12.9435 20.1886 12.7133 19.895 12.8239Z",
              fill: "#302C3B",
              stroke: "none"
            }),
            se.createElement("path", {
              d: "M10.8091 11.2954C9.51351 12.8813 7.01976 13.5491 5.10501 12.8239C4.81176 12.7133 4.71614 12.9431 4.83464 13.0721C7.19301 15.6364 10.4064 14.775 11.1673 11.376C11.2059 11.2046 11.0079 11.0531 10.8091 11.2954Z",
              fill: "#302C3B",
              stroke: "none"
            }),
            se.createElement(
              "defs",
              null,
              se.createElement(
                "linearGradient",
                {
                  id: "paint0_linear_4506_11023_disheartening_emoji",
                  x1: "12.5002",
                  y1: "23.25",
                  x2: "12.5002",
                  y2: "0.750188",
                  gradientUnits: "userSpaceOnUse"
                },
                se.createElement("stop", { stopColor: "#FFA027" }),
                se.createElement("stop", { offset: "0.2723", stopColor: "#FFC151" }),
                se.createElement("stop", { offset: "0.7633", stopColor: "#FFC93F" }),
                se.createElement("stop", { offset: "1", stopColor: "#FFE261" })
              )
            )
          ),
        Sr = (e) =>
          se.createElement(
            pe.a1,
            Object.assign({ width: "24", height: "24", fill: "none", viewBox: "0.5 0 24 24" }, e),
            se.createElement("path", {
              d: "M12.5 23.25C18.7132 23.25 23.75 18.2132 23.75 12C23.75 5.7868 18.7132 0.75 12.5 0.75C6.2868 0.75 1.25 5.7868 1.25 12C1.25 18.2132 6.2868 23.25 12.5 23.25Z",
              fill: "url(#paint0_linear_4506_11027_neutral_emoji)",
              stroke: "none"
            }),
            se.createElement("path", {
              d: "M17.3266 17.25H7.6726C6.7336 17.25 6.7336 15.75 7.6726 15.75H17.3266C18.2656 15.75 18.2656 17.25 17.3266 17.25Z",
              fill: "#302C3B",
              stroke: "none"
            }),
            se.createElement("path", {
              d: "M8.7496 12.1875C9.68158 12.1875 10.4371 11.1801 10.4371 9.9375C10.4371 8.69486 9.68158 7.6875 8.7496 7.6875C7.81762 7.6875 7.0621 8.69486 7.0621 9.9375C7.0621 11.1801 7.81762 12.1875 8.7496 12.1875Z",
              fill: "#302C3B",
              stroke: "none"
            }),
            se.createElement("path", {
              d: "M16.2496 12.1875C17.1816 12.1875 17.9371 11.1801 17.9371 9.9375C17.9371 8.69486 17.1816 7.6875 16.2496 7.6875C15.3176 7.6875 14.5621 8.69486 14.5621 9.9375C14.5621 11.1801 15.3176 12.1875 16.2496 12.1875Z",
              fill: "#302C3B",
              stroke: "none"
            }),
            se.createElement(
              "defs",
              null,
              se.createElement(
                "linearGradient",
                {
                  id: "paint0_linear_4506_11027_neutral_emoji",
                  x1: "12.5002",
                  y1: "23.25",
                  x2: "12.5002",
                  y2: "0.750188",
                  gradientUnits: "userSpaceOnUse"
                },
                se.createElement("stop", { stopColor: "#FFA027" }),
                se.createElement("stop", { offset: "0.2723", stopColor: "#FFC151" }),
                se.createElement("stop", { offset: "0.7633", stopColor: "#FFC93F" }),
                se.createElement("stop", { offset: "1", stopColor: "#FFE261" })
              )
            )
          ),
        Er = (e) =>
          se.createElement(
            pe.a1,
            Object.assign({ width: "24", height: "24", fill: "none", viewBox: "0.5 0 24 24" }, e),
            se.createElement("path", {
              d: "M12.5 23.25C18.7132 23.25 23.75 18.2132 23.75 12C23.75 5.7868 18.7132 0.75 12.5 0.75C6.2868 0.75 1.25 5.7868 1.25 12C1.25 18.2132 6.2868 23.25 12.5 23.25Z",
              fill: "url(#paint0_linear_11994_841_smiling_emoji)",
              stroke: "none"
            }),
            se.createElement("path", {
              d: "M5.82085 15.8453C7.89191 15.8453 9.57085 14.1663 9.57085 12.0953C9.57085 10.0242 7.89191 8.34528 5.82085 8.34528C3.74978 8.34528 2.07085 10.0242 2.07085 12.0953C2.07085 14.1663 3.74978 15.8453 5.82085 15.8453Z",
              fill: "url(#paint1_radial_11994_841_smiling_emoji)",
              stroke: "none"
            }),
            se.createElement("path", {
              d: "M19.1792 15.75C21.2502 15.75 22.9292 14.0711 22.9292 12C22.9292 9.92893 21.2502 8.25 19.1792 8.25C17.1081 8.25 15.4292 9.92893 15.4292 12C15.4292 14.0711 17.1081 15.75 19.1792 15.75Z",
              fill: "url(#paint2_radial_11994_841_smiling_emoji)",
              stroke: "none"
            }),
            se.createElement("path", {
              d: "M14.0844 9.3015C15.5 7.72425 17.7012 7.7235 19.1176 9.3015C19.3344 9.543 19.4634 9.282 19.3944 9.07725C18.0181 5.0055 15.1831 5.0055 13.8069 9.07725C13.7379 9.282 13.8669 9.54262 14.0844 9.3015Z",
              fill: "#302C3B",
              stroke: "none"
            }),
            se.createElement("path", {
              d: "M5.88312 9.3015C7.29949 7.72425 9.49999 7.7235 10.9164 9.3015C11.1331 9.543 11.2629 9.282 11.1931 9.07725C9.81687 5.0055 6.98187 5.0055 5.60562 9.07725C5.53699 9.282 5.66562 9.54262 5.88312 9.3015Z",
              fill: "#302C3B",
              stroke: "none"
            }),
            se.createElement("path", {
              d: "M17.1961 13.647C14.3352 15.7061 10.6614 15.705 7.802 13.647C7.397 13.356 7.15512 13.6706 7.28487 13.9178C9.4805 18.1151 15.5187 18.1144 17.7147 13.9178C17.8437 13.6703 17.6026 13.3556 17.1961 13.647Z",
              fill: "#302C3B",
              stroke: "none"
            }),
            se.createElement(
              "defs",
              null,
              se.createElement(
                "linearGradient",
                {
                  id: "paint0_linear_11994_841_smiling_emoji",
                  x1: "12.5002",
                  y1: "23.25",
                  x2: "12.5002",
                  y2: "0.750188",
                  gradientUnits: "userSpaceOnUse"
                },
                se.createElement("stop", { stopColor: "#FFA027" }),
                se.createElement("stop", { offset: "0.2723", stopColor: "#FFC151" }),
                se.createElement("stop", { offset: "0.7633", stopColor: "#FFC93F" }),
                se.createElement("stop", { offset: "1", stopColor: "#FFE261" })
              ),
              se.createElement(
                "radialGradient",
                {
                  id: "paint1_radial_11994_841_smiling_emoji",
                  cx: "0",
                  cy: "0",
                  r: "1",
                  gradientUnits: "userSpaceOnUse",
                  gradientTransform: "translate(5.82103 12.0952) scale(3.75 3.75)"
                },
                se.createElement("stop", { stopColor: "#F18D84" }),
                se.createElement("stop", { offset: "0.2514", stopColor: "#F29180", stopOpacity: "0.7486" }),
                se.createElement("stop", { offset: "0.5118", stopColor: "#F49E73", stopOpacity: "0.4882" }),
                se.createElement("stop", { offset: "0.7755", stopColor: "#F8B25F", stopOpacity: "0.2245" }),
                se.createElement("stop", { offset: "1", stopColor: "#FDCA47", stopOpacity: "0" })
              ),
              se.createElement(
                "radialGradient",
                {
                  id: "paint2_radial_11994_841_smiling_emoji",
                  cx: "0",
                  cy: "0",
                  r: "1",
                  gradientUnits: "userSpaceOnUse",
                  gradientTransform: "translate(19.179 12) scale(3.75)"
                },
                se.createElement("stop", { stopColor: "#F18D84" }),
                se.createElement("stop", { offset: "0.2514", stopColor: "#F29180", stopOpacity: "0.7486" }),
                se.createElement("stop", { offset: "0.5118", stopColor: "#F49E73", stopOpacity: "0.4882" }),
                se.createElement("stop", { offset: "0.7755", stopColor: "#F8B25F", stopOpacity: "0.2245" }),
                se.createElement("stop", { offset: "1", stopColor: "#FDCA47", stopOpacity: "0" })
              )
            )
          ),
        _r = (e, t) => (0, ce.Sh)(Ar, e === t && Br),
        Ir = xe.ux.style({
          display: "flex",
          flexDirection: "row",
          justifyContent: "space-between",
          paddingLeft: xe.ux.rem(ge.mh),
          paddingRight: xe.ux.rem(ge.mh)
        }),
        Ar = xe.ux.style({
          width: xe.ux.rem(5),
          height: xe.ux.rem(5),
          cursor: "pointer",
          display: "flex",
          alignItems: "center",
          flexDirection: "column",
          justifyContent: "center",
          gap: xe.ux.rem(ge.x),
          borderRadius: xe.ux.rem(jt.HP),
          fontWeight: 400,
          fontSize: xe.ux.rem(0.75),
          lineHeight: xe.ux.rem(1.125),
          $nest: { "&:hover": { backgroundColor: me.Il.Background.Base.Subdued } }
        }),
        Br = xe.ux.style({ backgroundColor: ve.Blue10, $nest: { "&:hover": { backgroundColor: ve.Blue10 } } }),
        Rr = xe.ux.style(Object.assign({}, (0, ye.fx)(1.5))),
        Or = "submitBtn",
        Ur = { padding: xe.ux.rem(ge.mh), gap: xe.ux.rem(ge.mh) },
        Tr = { color: me.Il.Text.Base.Default, fontWeight: 700, fontSize: xe.ux.rem(1.25), lineHeight: xe.ux.rem(1.5), margin: 0 },
        Nr = {
          border: `${xe.ux.px(1)} solid ${ve.NeutralGray20}`,
          borderRadius: xe.ux.rem(jt.xB),
          padding: `${xe.ux.rem(ge.x + ge.yC)} ${xe.ux.rem(ge.x)}`,
          height: xe.ux.rem(8)
        },
        Mr = {
          display: "flex",
          alignItems: "flex-start",
          $nest: {
            "& input[type='checkbox']": {
              margin: `${xe.ux.rem(ge.W9)} ${xe.ux.rem(ge.x)} 0 0`,
              minWidth: xe.ux.rem(1),
              minHeight: xe.ux.rem(1)
            },
            "& label": { color: me.Il.Text.Base.Default, fontWeight: 400, fontSize: xe.ux.rem(0.75), lineHeight: xe.ux.rem(1.125) }
          }
        },
        Fr = Object.assign({ width: xe.ux.percent(100) }, (0, ye.dD)({ fontSize: xe.ux.rem(0.875) }, Or)),
        jr = { display: "flex", flexDirection: "column", gap: xe.ux.rem(ge.x) },
        Pr = Ur,
        zr = xe.ux.style(Tr),
        Gr = xe.ux.style(Nr),
        Lr = xe.ux.style(Mr),
        Zr = (xe.ux.style({ fontWeight: 700 }), xe.ux.joinClasses([Or, xe.ux.style(Fr)])),
        Dr = xe.ux.style(jr),
        Hr = (0, ce.xb)(({ selectedScore: e, onSelectScore: t }) =>
          se.createElement(
            "div",
            { className: Ir },
            se.createElement(
              "div",
              Object.assign({}, _r(wr.x.Mood.dissatisfied, e), { onClick: () => t(wr.x.Mood.dissatisfied) }),
              se.createElement(Cr, { className: Rr }),
              "I dislike it"
            ),
            se.createElement(
              "div",
              Object.assign({}, _r(wr.x.Mood.ok, e), { onClick: () => t(wr.x.Mood.ok) }),
              se.createElement(Sr, { className: Rr }),
              "Its OK"
            ),
            se.createElement(
              "div",
              Object.assign({}, _r(wr.x.Mood.satisfied, e), { onClick: () => t(wr.x.Mood.satisfied) }),
              se.createElement(Er, { className: Rr }),
              "I like it!"
            )
          )
        ),
        Vr = (0, ce.xb)(Qn),
        $r = r.UI.Node.make(({ state: e, view: t, notify: n }) => {
          const r = "domainCheckbox" + kr.fg(5);
          return se.createElement(
            an,
            { style: Pr },
            se.createElement("h1", { className: zr }, "How do you like Grammarly?"),
            se.createElement(Hr, {
              selectedScore: t("formData").pipe(W.U((e) => e.mood)),
              onSelectScore: (e) => n({ kind: b.i.Kind.feedbackFormChange, feedbackData: { mood: e } })()
            }),
            se.createElement(Vr, {
              ariaLabel: "tell us why",
              className: Gr,
              placeholder: ["How can we improve?"],
              fitContentHeight: !1,
              text: t("formData").pipe(W.U(({ message: e }) => (null != e ? e : ""))),
              onChange: (e) => n({ kind: b.i.Kind.feedbackFormChange, feedbackData: { message: e } })()
            }),
            e.pipe(
              W.U(({ formData: e, domain: t, source: o }) =>
                se.createElement(
                  "div",
                  { className: Dr },
                  (0, a.zG)(
                    t,
                    i.fold(a.gn, (t) =>
                      se.createElement(
                        "div",
                        { className: Lr },
                        se.createElement("input", {
                          type: "checkbox",
                          id: r,
                          checked: void 0 !== e.domain,
                          onChange: n({ kind: b.i.Kind.feedbackFormChange, feedbackData: { domain: void 0 !== e.domain ? void 0 : t } })
                        }),
                        se.createElement(
                          "label",
                          { htmlFor: r },
                          "Include the domain ",
                          se.createElement("b", null, t),
                          " with my feedback to help improve Grammarly."
                        )
                      )
                    )
                  ),
                  (0, a.zG)(
                    i.fromNullable(void 0 !== e.mood ? Object.assign(Object.assign({}, e), { mood: e.mood, source: o }) : null),
                    i.fold(
                      () => se.createElement(de.z, { disabled: !0, className: Zr, onClick: a.Q1 }, "Submit"),
                      (e) =>
                        se.createElement(
                          de.z,
                          { disabled: !1, className: Zr, onClick: n({ kind: b.i.Kind.feedbackFormSubmitButtonClick, feedbackData: e }) },
                          "Submit"
                        )
                    )
                  )
                )
              )
            )
          );
        }),
        Kr = (e) =>
          se.createElement(
            pe.a1,
            { className: e.className, viewBox: "0 0 20 20", width: 20, height: 20 },
            se.createElement("path", {
              d: "M8.58541 3.37143C9.36646 2.59038 10.6328 2.59038 11.4138 3.37143L16.6283 8.5859C17.4094 9.36695 17.4094 10.6333 16.6283 11.4143L11.4138 16.6288C10.6328 17.4098 9.36646 17.4098 8.58541 16.6288L3.37094 11.4143C2.58989 10.6333 2.58989 9.36695 3.37094 8.5859L8.58541 3.37143ZM11.4371 6.25011C11.4371 5.4562 10.7935 4.81261 9.99962 4.81261C9.20571 4.81261 8.56212 5.4562 8.56212 6.25011V10.6251C8.56212 11.3163 9.04996 11.8936 9.70011 12.0314C9.04996 12.1692 8.56212 12.7464 8.56212 13.4376C8.56212 14.2315 9.20571 14.8751 9.99962 14.8751C10.7935 14.8751 11.4371 14.2315 11.4371 13.4376C11.4371 12.7464 10.9493 12.1692 10.2991 12.0314C10.9493 11.8936 11.4371 11.3163 11.4371 10.6251V6.25011Z",
              fill: "#D31332",
              stroke: "#D31332"
            })
          ),
        Wr = ({ options: e, onSubmit: t, onCancel: n }) => {
          const [r, o] = se.useState(i.none),
            [s, l] = se.useState(!1);
          return se.createElement(
            ue.F.form,
            {
              id: "radioOptionsForm",
              onSubmit: (e) => {
                (0, a.zG)(
                  r,
                  i.fold(() => l(!0), t)
                ),
                  e.preventDefault();
              },
              className: xe.ux.style(qr)
            },
            se.createElement(
              "fieldset",
              { className: eo, style: { borderColor: s ? ve.Red60 : "transparent" } },
              (0, a.zG)(
                e,
                C.UI((e) =>
                  se.createElement(
                    "span",
                    { key: e, className: Qr },
                    se.createElement("input", {
                      type: "radio",
                      id: e,
                      value: e,
                      name: e,
                      checked: (0, a.zG)(
                        r,
                        i.filter((t) => t === e),
                        i.isSome
                      ),
                      onChange: () => {
                        l(!1), o(i.some(e));
                      },
                      style: { margin: `0 ${xe.ux.rem(0.5)} 0 0` }
                    }),
                    se.createElement("label", { htmlFor: e }, e)
                  )
                )
              )
            ),
            s && se.createElement("div", { className: Jr }, se.createElement(Kr, { className: Xr }), " Make a selection"),
            se.createElement(
              "div",
              { className: Yr },
              se.createElement(
                de.z,
                { type: "submit", form: "radioOptionsForm", name: "submitSelectedRadioOption", style: { default: qr } },
                "Submit"
              ),
              "",
              se.createElement(
                de.z,
                { variant: "tertiary", onClick: n, name: "cancelRadioOptionSelection", style: { default: qr } },
                "Cancel"
              )
            )
          );
        },
        qr = { fontSize: xe.ux.rem(0.875) },
        Qr = xe.ux.style({ display: "inline-flex", alignItems: "center" }),
        Yr = xe.ux.style({ paddingTop: xe.ux.rem(0.5) }),
        Xr = xe.ux.style({ minWidth: "unset", minHeight: "unset" }),
        Jr = xe.ux.style({ color: ve.Red60, lineHeight: xe.ux.rem(1.5) }),
        eo = xe.ux.style({
          marginLeft: `calc(-1 * ${xe.ux.rem(0.25)})`,
          padding: xe.ux.rem(0.25),
          display: "flex",
          flexDirection: "column",
          gap: xe.ux.rem(0.5),
          width: "fit-content",
          border: "1px solid transparent",
          borderRadius: xe.ux.rem(0.25),
          margin: 0
        }),
        to = r.UI.Node.make(({ view: e, notify: t }) => {
          const n = se.useContext(nn.N).view("flatUI");
          return se.createElement(
            an,
            { style: n.view(io), "data-name": "follow-up-prompt" },
            se.createElement(
              ue.F.div,
              { className: n.view(ro) },
              se.createElement(ue.F.img, { src: e("iconUrl"), style: { width: 16, height: 16 } }),
              se.createElement(ue.F.span, Object.assign({}, (0, re.E)(e("header"))))
            ),
            se.createElement(ue.F.div, null, e("hintsHeader")),
            e("hintsItems").pipe(
              W.U(
                (0, a.ls)(
                  C.UI((e) => se.createElement("li", { key: e }, e)),
                  F.c2,
                  i.fold(a.gn, (e) => se.createElement("ul", { key: "action-followup-radio-list", className: oo }, e))
                )
              )
            ),
            e("radioOptions").pipe(
              W.U(
                i.fold(a.gn, (e) =>
                  se.createElement(Wr, {
                    key: "radioOptions",
                    options: e,
                    onSubmit: (e) => t({ kind: b.i.Kind.radioOptionsSubmitButtonClick, selectedOption: e })(),
                    onCancel: t({ kind: b.i.Kind.radioOptionsCancelButtonClick })
                  })
                )
              )
            )
          );
        }),
        no = r.UI.Union.asOption(to),
        io = (e) =>
          Object.assign(
            { fontWeight: 400, fontSize: xe.ux.rem(0.875), lineHeight: xe.ux.rem(1.3125) },
            e
              ? {
                  padding: `${xe.ux.rem(ge.qp)} ${xe.ux.rem(ge.mh)} ${xe.ux.rem(1.5)} ${xe.ux.rem(ge.mh)}`,
                  borderBottom: `0.5px solid ${be.Z.BorderBaseSubduedColor}`
                }
              : {}
          ),
        ro = (e) =>
          xe.ux.style(
            Object.assign(
              { display: "flex", alignItems: "center", gap: xe.ux.rem(ge.x), color: me.Il.Text.Base.Subdued },
              e
                ? { fontSize: xe.ux.rem(0.875), lineHeight: xe.ux.rem(1.3125), padding: `${xe.ux.rem(ge.x)} 0` }
                : { fontSize: xe.ux.rem(0.75), lineHeight: xe.ux.rem(1.125) }
            )
          ),
        oo = xe.ux.style({ padding: `0 0 0 ${xe.ux.rem(ge.sD + ge.yC)}`, margin: 0 }),
        ao = r.UI.Node.make(({ view: e }) => se.createElement(an, { "data-name": "settings" }, e("content")));
      var so = function (e, t) {
        var n = {};
        for (var i in e) Object.prototype.hasOwnProperty.call(e, i) && t.indexOf(i) < 0 && (n[i] = e[i]);
        if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
          var r = 0;
          for (i = Object.getOwnPropertySymbols(e); r < i.length; r++)
            t.indexOf(i[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, i[r]) && (n[i[r]] = e[i[r]]);
        }
        return n;
      };
      const lo = xe.ux.keyframes({ from: { transform: "rotate(0deg)" }, to: { transform: "rotate(360deg)" } }),
        co = xe.ux.style({
          animation: `${lo} 1s linear infinite`,
          width: xe.ux.rem(1),
          height: xe.ux.rem(1),
          minWidth: xe.ux.rem(1),
          minHeight: xe.ux.rem(1)
        }),
        uo = (e) => {
          const { className: t } = e,
            n = so(e, ["className"]);
          return se.createElement(
            pe.a1,
            Object.assign({ width: "16", height: "16", viewBox: "0 0 16 16", fill: "none" }, (0, ce.Sh)(co, t), n),
            se.createElement("circle", { cx: "8", cy: "8", r: "5", stroke: "#C2C6D4", strokeWidth: "2" }),
            se.createElement("path", {
              d: "M13 8C13 8.76694 12.8236 9.5236 12.4844 10.2114C12.1452 10.8993 11.6523 11.4999 11.0438 11.9668C10.4354 12.4336 9.72765 12.7543 8.97545 12.9039C8.22325 13.0535 7.44671 13.0281 6.7059 12.8296",
              stroke: "#05735A",
              strokeWidth: "2",
              strokeLinecap: "round"
            })
          );
        },
        mo = (e) =>
          se.createElement(
            pe.a1,
            Object.assign({ width: "18", height: "18", viewBox: "0 0 18 18" }, e),
            se.createElement("path", {
              fillRule: "evenodd",
              clipRule: "evenodd",
              d: "M10.0607 3.64286C9.5893 2.78571 8.4107 2.78571 7.93926 3.64286L3.16592 12.3214C2.69448 13.1786 3.28378 14.25 4.22667 14.25H13.7733C14.7162 14.25 15.3055 13.1786 14.8341 12.3214L10.0607 3.64286ZM8.25 6C8.25 5.58579 8.58579 5.25 9 5.25C9.41421 5.25 9.75 5.58579 9.75 6V9.75C9.75 10.1642 9.41421 10.5 9 10.5C8.58579 10.5 8.25 10.1642 8.25 9.75V6ZM9.75 12C9.75 12.4142 9.41421 12.75 9 12.75C8.58579 12.75 8.25 12.4142 8.25 12C8.25 11.5858 8.58579 11.25 9 11.25C9.41421 11.25 9.75 11.5858 9.75 12Z",
              stroke: "none"
            })
          ),
        po = (e) =>
          Object.assign(
            { height: "100%" },
            e ? { borderBottomLeftRadius: "inherit", borderBottomRightRadius: "inherit" } : { borderRadius: xe.ux.rem(jt.xB + jt.fe) }
          ),
        ho = (e) =>
          xe.ux.style(
            Object.assign(Object.assign({}, po(e)), {
              display: "flex",
              flexDirection: "column",
              justifyContent: "center",
              alignItems: "center"
            })
          ),
        fo = (e) => xe.ux.style(Object.assign(Object.assign({}, po(e)), { border: "none", margin: "0", width: "100%" })),
        go = xe.ux.style({
          color: me.Il.Text.Base.Subdued,
          fontSize: xe.ux.rem(0.75),
          fontFamily: "Inter",
          fontWeight: 700,
          lineHeight: xe.ux.rem(1.125)
        }),
        vo = xe.ux.style({ color: me.Il.Text.Base.Subdued, fontSize: xe.ux.rem(0.75), fontFamily: "Inter", lineHeight: xe.ux.rem(1.125) }),
        xo = xe.ux.style({ visibility: "hidden", position: "absolute" }),
        yo = r.UI.Node.make(({ state: e, view: t, notify: n }) => {
          const { notifyUnmount: i } = se.useContext(Ln),
            { ref: r, onMount: o } = (0, en.F)(
              (0, a.ls)(
                R.b((e) => n({ kind: b.i.Kind.mount, name: ie.e.skill, element: e })()),
                Jt.x(() => i({ kind: b.i.Kind.unmount, name: ie.e.skill }))
              )
            ),
            s = se.useMemo(
              () =>
                t("status").pipe(
                  X.G(),
                  I.h(([e, t]) => "loading" === e && "ready" === t),
                  E.w(() =>
                    r.pipe(
                      J.oA,
                      R.b((e) => e.focus())
                    )
                  )
                ),
              [r]
            );
          Xt.P.useSubscriptionTo(s);
          const l = se.useContext(nn.N).view("flatUI");
          return se.createElement(
            an,
            {
              "data-name": "skill",
              style: ee
                .aj([t("size"), l])
                .pipe(
                  W.U(([e, t]) =>
                    Object.assign(
                      Object.assign(
                        {},
                        ((e) =>
                          Object.assign(
                            { padding: 0, height: xe.ux.rem(14.625), overflow: "hidden", boxSizing: "border-box", maxHeight: "inherit" },
                            e
                              ? {
                                  display: "flex",
                                  justifyContent: "center",
                                  alignItems: "center",
                                  borderBottomLeftRadius: "inherit",
                                  borderBottomRightRadius: "inherit"
                                }
                              : {}
                          ))(t)
                      ),
                      { height: e.height }
                    )
                  )
                )
            },
            ee
              .aj([e, l])
              .pipe(
                W.U(([{ status: e, srcUrl: t }, n]) =>
                  "loading" === e || "ready" === e
                    ? se.createElement(
                        se.Fragment,
                        null,
                        "loading" === e &&
                          se.createElement(
                            "div",
                            { className: ho(n) },
                            se.createElement(uo, null),
                            se.createElement("span", { className: vo }, "Loading...")
                          ),
                        se.createElement("iframe", {
                          "aria-busy": "loading" === e,
                          key: t,
                          src: t,
                          ref: o,
                          allow: `clipboard-write ${t}`,
                          className: xe.ux.joinClasses([fo(n), "loading" === e ? xo : void 0])
                        })
                      )
                    : "error" === e
                    ? se.createElement(
                        "div",
                        { className: ho(n) },
                        se.createElement(mo, null),
                        se.createElement("span", { className: go }, "Something went wrong"),
                        se.createElement("span", { className: vo }, "Please try again.")
                      )
                    : (0, j.L0)(e)
                )
              )
          );
        }),
        bo = r.UI.Union.asOption(yo),
        ko = ({ title: e, titleId: t, desc: n, descId: i, ...r }) =>
          se.createElement(
            "svg",
            {
              width: 16,
              height: 16,
              viewBox: "0 0 16 16",
              fill: "none",
              xmlns: "http://www.w3.org/2000/svg",
              "aria-hidden": "true",
              stroke: "transparent",
              "aria-labelledby": t,
              "aria-describedby": i,
              ...r
            },
            n ? se.createElement("desc", { id: i }, n) : null,
            e ? se.createElement("title", { id: t }, e) : null,
            se.createElement("path", {
              d: "M9.2 8a1.2 1.2 0 1 1-2.4 0 1.2 1.2 0 0 1 2.4 0Zm0 4.8a1.2 1.2 0 1 1-2.4 0 1.2 1.2 0 0 1 2.4 0Zm0-9.6a1.2 1.2 0 1 1-2.4 0 1.2 1.2 0 0 1 2.4 0Z",
              fill: "#646B81"
            })
          );
      ko.__brand = "color";
      const wo = ({ title: e, titleId: t, desc: n, descId: i, ...r }) =>
        se.createElement(
          "svg",
          {
            width: 16,
            height: 16,
            viewBox: "0 0 16 16",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg",
            "aria-hidden": "true",
            stroke: "transparent",
            "aria-labelledby": t,
            "aria-describedby": i,
            ...r
          },
          n ? se.createElement("desc", { id: i }, n) : null,
          e ? se.createElement("title", { id: t }, e) : null,
          se.createElement("path", {
            d: "M13.5 8.635c0 .09-.017.181-.047.265l-1.797 3.607-.008.016-.007.017c-.116.284-.371.46-.641.46H6.4c-.362 0-.7-.316-.7-.77V7.578a.81.81 0 0 1 .215-.553l3.589-3.796.264.279c.08.09.128.202.132.321l-.012.143-.523 2.663-.117.597H13.2c.138 0 .3.13.3.346v1.058ZM3.6 7.23c.14 0 .3.128.3.346v5.077c0 .218-.16.346-.3.346h-.8c-.14 0-.3-.128-.3-.346V7.577c0-.218.16-.346.3-.346h.8Z",
            stroke: "#646B81"
          })
        );
      wo.__brand = "color";
      const Co = ({ title: e, titleId: t, desc: n, descId: i, ...r }) =>
        se.createElement(
          "svg",
          {
            width: 16,
            height: 16,
            viewBox: "0 0 16 16",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg",
            "aria-hidden": "true",
            stroke: "transparent",
            "aria-labelledby": t,
            "aria-describedby": i,
            ...r
          },
          n ? se.createElement("desc", { id: i }, n) : null,
          e ? se.createElement("title", { id: t }, e) : null,
          se.createElement("path", {
            d: "M2.5 7.865c0-.09.017-.181.047-.265l1.797-3.607.008-.016.007-.017c.116-.283.371-.46.641-.46h4.6c.362 0 .7.316.7.77v4.653a.812.812 0 0 1-.215.553l-3.589 3.796-.264-.279a.513.513 0 0 1-.132-.322l.012-.142.523-2.663.117-.597H2.8c-.138 0-.3-.13-.3-.346V7.865Zm9.9 1.404c-.14 0-.3-.128-.3-.346V3.846c0-.218.16-.346.3-.346h.8c.14 0 .3.128.3.346v5.077c0 .218-.16.346-.3.346h-.8Z",
            stroke: "#646B81"
          })
        );
      Co.__brand = "color";
      var So = n(65223),
        Eo = n(48911),
        _o = n(54678),
        Io = n(28511),
        Ao = n(78479),
        Bo = n(99517),
        Ro = n(75923),
        Oo = n(57427);
      function Uo({ item: e, state: t, className: n, name: i }) {
        const r = se.useMemo(() => (i ? `${i}-item` : "menu-item"), [i]),
          o = se.useRef(null),
          { menuItemProps: a, isDisabled: s, isSelected: l } = (0, Io.iX)({ key: e.key }, t, o);
        return (
          Xt.P.useEffectOnDidMount(() => {
            if (null != o.current)
              try {
                const e = o.current.focus.bind(o.current);
                o.current.focus = (t) => {
                  var n;
                  (null === (n = o.current) || void 0 === n ? void 0 : n.matches(":hover")) || e(t);
                };
              } catch (e) {}
          }),
          se.createElement(
            "li",
            Object.assign({ "data-name": r }, a, { ref: o, className: xe.ux.joinClasses([No(s, l), n]) }),
            se.createElement("span", { className: To }, e.rendered)
          )
        );
      }
      const To = xe.ux.style({
          display: "flex",
          alignItems: "center",
          fontFamily: "Inter",
          fontSize: xe.ux.rem(0.875),
          lineHeight: xe.ux.rem(1.3125),
          fontWeight: 400,
          color: be.Z.TextBaseDefault
        }),
        No = (e, t) =>
          xe.ux.style(
            Object.assign(
              Object.assign(
                {
                  display: "flex",
                  alignItems: "center",
                  minHeight: xe.ux.rem(2),
                  padding: `${xe.ux.rem(ge.F2)} ${xe.ux.rem(ge.sD)} ${xe.ux.rem(ge.F2)} ${xe.ux.rem(ge.qp)}`,
                  borderRadius: xe.ux.rem(jt.xB),
                  opacity: e ? 0.4 : void 0,
                  cursor: "pointer"
                },
                t && !e ? { background: be.Z.MenuBackgroundSelected, boxShadow: `inset  0 0 0 1px ${be.Z.MenuBorderDefault}` } : {}
              ),
              {
                $nest: {
                  "&:hover": e
                    ? {}
                    : {
                        background: be.Z.MenuBackgroundHover,
                        boxShadow: `inset  0 0 0 1px ${be.Z.MenuBorderDefault}`,
                        $nest: { "& i": { stroke: be.Z.MenuIconHover, fill: be.Z.MenuIconHover } }
                      },
                  "&:focus, &:focus-visible": e
                    ? {}
                    : {
                        boxShadow: `0 0 0 1px ${me.Il.Background.Base.Default}, 0 0 0 3px ${be.Z.BorderBrandDefault}`,
                        outline: "none",
                        background: be.Z.MenuBackgroundSelected,
                        $nest: { "& i": { stroke: be.Z.MenuIconSelected, fill: be.Z.MenuIconSelected } }
                      },
                  "& i": {
                    marginLeft: xe.ux.rem(-ge.F2),
                    marginRight: xe.ux.rem(ge.x),
                    minWidth: xe.ux.rem(1.5),
                    minHeight: xe.ux.rem(1.5)
                  },
                  "& span": { fontWeight: t ? 700 : void 0 }
                }
              }
            )
          );
      var Mo = n(1532);
      function Fo({ name: e, section: t, state: n, onAction: i, theme: r = {} }) {
        const o = se.useMemo(() => (e ? `${e}-section` : "dropdown-menu-section"), [e]),
          { itemProps: a, headingProps: s, groupProps: l } = (0, Io.x7)({ heading: t.rendered, "aria-label": t["aria-label"] }),
          { separatorProps: c } = (0, Mo.z)({ elementType: "li" });
        return se.createElement(
          se.Fragment,
          null,
          t.key !== n.collection.getFirstKey() && se.createElement("li", Object.assign({}, c, { className: zo })),
          se.createElement(
            "li",
            Object.assign({ "data-name": o }, a, { className: xe.ux.joinClasses([jo, r.section]) }),
            Boolean(t.rendered) && se.createElement("h5", Object.assign({}, s, { className: Po }), t.rendered),
            se.createElement(
              "ul",
              Object.assign({}, l, { className: Go }),
              Array.from(t.childNodes).map((t) =>
                se.createElement(Uo, { key: t.key, item: t, state: n, onAction: i, className: r.item, name: e })
              )
            )
          )
        );
      }
      const jo = xe.ux.style({ padding: 0 }),
        Po = xe.ux.style({
          margin: 0,
          fontSize: xe.ux.rem(0.75),
          fontWeight: 400,
          lineHeight: xe.ux.rem(1.125),
          color: me.Il.Text.Base.Subdued,
          padding: `${xe.ux.rem(ge.x)} ${xe.ux.rem(ge.sD)} ${xe.ux.rem(ge.x)} ${xe.ux.rem(ge.qp)}`
        }),
        zo = xe.ux.style({ borderTop: `1px solid ${me.Il.Border.Base.Subdued}`, margin: `${xe.ux.rem(ge.x)} ${xe.ux.rem(-ge.mh)}` }),
        Go = xe.ux.style({ listStyle: "none", margin: 0, padding: 0, outline: xe.ux.important("none") });
      var Lo = function (e, t) {
        var n = {};
        for (var i in e) Object.prototype.hasOwnProperty.call(e, i) && t.indexOf(i) < 0 && (n[i] = e[i]);
        if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
          var r = 0;
          for (i = Object.getOwnPropertySymbols(e); r < i.length; r++)
            t.indexOf(i[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, i[r]) && (n[i[r]] = e[i[r]]);
        }
        return n;
      };
      function Zo(e) {
        var { name: t, className: n, theme: i = {}, onMouseOver: r, onMouseLeave: o } = e,
          a = Lo(e, ["name", "className", "theme", "onMouseOver", "onMouseLeave"]);
        const s = se.useMemo(() => (t ? `${t}-list` : "menu-list"), [t]),
          l = (0, Oo.D)(a),
          c = se.useRef(null),
          { menuProps: u } = (0, Io.H9)(a, l, c),
          d = (0, Ro.dG)(u, { onMouseOver: r, onMouseLeave: o });
        return se.createElement(
          "ul",
          Object.assign({ "data-name": s }, d, { ref: c, className: xe.ux.joinClasses([Do, i.list, n]) }),
          Array.from(l.collection).map((e) =>
            "section" === e.type
              ? se.createElement(Fo, { key: e.key, section: e, state: l, theme: i })
              : se.createElement(Uo, { key: e.key, name: t, item: e, state: l, className: i.item })
          )
        );
      }
      const Do = xe.ux.style({
        listStyle: "none",
        margin: 0,
        outline: xe.ux.important("none"),
        padding: `${xe.ux.rem(ge.x)} ${xe.ux.rem(ge.mh)}`
      });
      var Ho = n(30116),
        Vo = n(15141),
        $o = n(92236);
      const Ko = [];
      function Wo(e, t) {
        const {
          onClose: n,
          shouldCloseOnBlur: i,
          isOpen: r,
          isDismissable: o = !1,
          isKeyboardDismissDisabled: a = !1,
          shouldCloseOnInteractOutside: s
        } = e;
        se.useEffect(
          () => (
            r && Ko.push(t),
            () => {
              const e = Ko.indexOf(t);
              e >= 0 && Ko.splice(e, 1);
            }
          ),
          [r, t]
        );
        const l = () => {
          Ko[Ko.length - 1] === t && n && n();
        };
        (0, $o.Fc)({
          ref: t,
          onInteractOutside: o
            ? (e) => {
                e instanceof Event &&
                  ((e) => {
                    (s && !s(e.target, e)) || (Ko[Ko.length - 1] === t && (e.stopPropagation(), e.preventDefault()), l());
                  })(e);
              }
            : void 0,
          onInteractOutsideStart: (e) => {
            e instanceof Event &&
              ((e) => {
                (s && !s(e.target, e)) || (Ko[Ko.length - 1] === t && (e.stopPropagation(), e.preventDefault()));
              })(e);
          }
        });
        const { focusWithinProps: c } = (0, $o.L_)({
          isDisabled: !i,
          onBlurWithin: (e) => {
            e.relatedTarget &&
              !(0, Vo.cW)(e.relatedTarget) &&
              ((s && !s(e.relatedTarget, e instanceof Event ? e : void 0)) || null == n || n());
          }
        });
        return {
          overlayProps: Object.assign(
            {
              onKeyDown: (e) => {
                "Escape" !== e.key || a || (e.stopPropagation(), e.preventDefault(), l());
              }
            },
            c
          ),
          underlayProps: {
            onPointerDown: (e) => {
              e.target === e.currentTarget && e.preventDefault();
            }
          }
        };
      }
      var qo = function (e, t) {
        var n = {};
        for (var i in e) Object.prototype.hasOwnProperty.call(e, i) && t.indexOf(i) < 0 && (n[i] = e[i]);
        if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
          var r = 0;
          for (i = Object.getOwnPropertySymbols(e); r < i.length; r++)
            t.indexOf(i[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, i[r]) && (n[i[r]] = e[i[r]]);
        }
        return n;
      };
      var Qo = function (e, t) {
        var n = {};
        for (var i in e) Object.prototype.hasOwnProperty.call(e, i) && t.indexOf(i) < 0 && (n[i] = e[i]);
        if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
          var r = 0;
          for (i = Object.getOwnPropertySymbols(e); r < i.length; r++)
            t.indexOf(i[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, i[r]) && (n[i[r]] = e[i[r]]);
        }
        return n;
      };
      const Yo = (e) => {
          var t,
            { children: n, className: i, state: r, offset: o = 4, onTransitionEnd: a, portalContainer: s } = e,
            l = Qo(e, ["children", "className", "state", "offset", "onTransitionEnd", "portalContainer"]);
          const c = se.useRef(null),
            { popoverProps: u } = (function (e, t) {
              const { triggerRef: n, popoverRef: i, isNonModal: r, isKeyboardDismissDisabled: o } = e,
                a = qo(e, ["triggerRef", "popoverRef", "isNonModal", "isKeyboardDismissDisabled"]),
                { overlayProps: s, underlayProps: l } = Wo(
                  {
                    isOpen: t.isOpen,
                    onClose: t.close,
                    shouldCloseOnBlur: !0,
                    isDismissable: !1 !== r,
                    isKeyboardDismissDisabled: o,
                    shouldCloseOnInteractOutside: (e, t) => {
                      const n = null == t ? void 0 : t.composedPath();
                      return (
                        !n ||
                        !n.some((e) => {
                          var t;
                          return e instanceof Node && (null === (t = i.current) || void 0 === t ? void 0 : t.contains(e));
                        })
                      );
                    }
                  },
                  i
                ),
                {
                  overlayProps: c,
                  arrowProps: u,
                  placement: d
                } = (0, Ho.tN)(Object.assign(Object.assign({}, a), { targetRef: n, overlayRef: i, isOpen: t.isOpen, onClose: void 0 }));
              return (
                (0, Ho.tk)({ isDisabled: r }),
                (0, Ro.bt)(() => (t.isOpen && !r && i.current ? (0, Ho.RP)([i.current]) : () => {}), [r, t.isOpen, i]),
                { popoverProps: (0, Ro.dG)(s, c), arrowProps: u, underlayProps: l, placement: d }
              );
            })(Object.assign(Object.assign({}, l), { isNonModal: !0, offset: o, popoverRef: c }), r);
          return se.createElement(
            Ho.aV,
            { portalContainer: s },
            se.createElement(
              "div",
              Object.assign({}, u, {
                style: Object.assign(Object.assign({}, u.style), {
                  minWidth: null === (t = l.triggerRef.current) || void 0 === t ? void 0 : t.clientWidth
                }),
                ref: c,
                className: xe.ux.joinClasses([Jo, i]),
                onTransitionEnd: (e) => {
                  if (e.target === c.current) return null == a ? void 0 : a();
                }
              }),
              se.createElement(Ho.U4, { onDismiss: r.close }),
              se.createElement("div", { className: Xo }, n),
              se.createElement(Ho.U4, { onDismiss: r.close })
            )
          );
        },
        Xo = xe.ux.style({ width: xe.ux.percent(100) }),
        Jo = xe.ux.style({
          display: "flex",
          flexDirection: "column",
          alignItems: "flex-start",
          background: me.Il.Background.Base.Default,
          boxShadow: Yt.H8.boxShadow,
          border: Yt.H8.border,
          borderRadius: xe.ux.rem(jt.xB)
        });
      var ea = function (e, t) {
        var n = {};
        for (var i in e) Object.prototype.hasOwnProperty.call(e, i) && t.indexOf(i) < 0 && (n[i] = e[i]);
        if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
          var r = 0;
          for (i = Object.getOwnPropertySymbols(e); r < i.length; r++)
            t.indexOf(i[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, i[r]) && (n[i[r]] = e[i[r]]);
        }
        return n;
      };
      function ta(e) {
        var { placement: t = "bottom start", theme: n = {}, name: i, portalContainer: r, title: o } = e,
          a = ea(e, ["placement", "theme", "name", "portalContainer", "title"]);
        const s = se.useMemo(() => (i ? `${i}-trigger` : "menu-trigger"), [i]),
          l = se.useRef(null),
          c = (0, Ao.W)(a),
          u = (0, Io.u4)(Object.assign(Object.assign({}, a), { type: "menu" }), c, l),
          d = u.menuTriggerProps,
          { onPress: m, onPressStart: p } = d,
          h = ea(d, ["onPress", "onPressStart"]),
          { menuProps: f } = u;
        return se.createElement(
          se.Fragment,
          null,
          se.createElement(
            de.z,
            Object.assign({}, h, {
              variant: "tertiary",
              name: s,
              onClick: () => c.open(),
              mount: (e) => (l.current = e),
              active: c.isOpen,
              "aria-label": a["aria-label"],
              title: null != o ? o : a["aria-label"],
              className: n.button,
              style: n.buttonStyle
            }),
            a.label
          ),
          se.createElement(Bo.n, { in: c.isOpen }, (e, o) =>
            se.createElement(
              Yo,
              { state: c, triggerRef: l, placement: t, portalContainer: r, className: e, onTransitionEnd: o },
              se.createElement(
                Zo,
                Object.assign({}, a, f, {
                  name: i,
                  theme: n,
                  onAction: (e) => {
                    var t;
                    return null === (t = a.onAction) || void 0 === t ? void 0 : t.call(a, e);
                  }
                })
              )
            )
          )
        );
      }
      var na = function (e, t) {
        var n = {};
        for (var i in e) Object.prototype.hasOwnProperty.call(e, i) && t.indexOf(i) < 0 && (n[i] = e[i]);
        if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
          var r = 0;
          for (i = Object.getOwnPropertySymbols(e); r < i.length; r++)
            t.indexOf(i[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, i[r]) && (n[i[r]] = e[i[r]]);
        }
        return n;
      };
      function ia(e) {
        var { children: t, onOpenChange: n, title: r, placement: o = "bottom end" } = e,
          s = na(e, ["children", "onOpenChange", "title", "placement"]);
        return se.createElement(Sn.Consumer, null, ({ portalContainer: e }) =>
          se.createElement(
            ue.F.Fragment,
            null,
            e.view(
              i.fold(a.gn, (e) =>
                se.createElement(
                  ta,
                  Object.assign({}, s, { portalContainer: e, placement: o, title: r, onOpenChange: (e) => (null == n ? void 0 : n(e)) }),
                  t
                )
              )
            )
          )
        );
      }
      const ra = ({ tone: e, index: t, onReportPositiveFeedback: n, onReportNegativeFeedback: i }) => {
          const r = se.createElement(
            So.u,
            { title: `${e.prevalence} intensity` },
            se.createElement(
              "div",
              { className: da },
              [0, 1, 2, 3, 4].map((t) => {
                const n = t / 5 <= e.confidence;
                return se.createElement("div", { key: `${e.name}-intensity-${t}`, className: n ? pa : ma });
              })
            )
          );
          return se.createElement(
            "div",
            { "data-name": "tone-report-tone", "data-tone-report-tone-name": e.name, role: `tone-${t}-${e.name}`, className: aa },
            se.createElement(
              "div",
              { className: sa },
              se.createElement(Eo.In, { id: e.emojiId, className: la }),
              se.createElement("span", { className: ca }, e.name)
            ),
            se.createElement("div", { className: ua }, r),
            se.createElement(
              ia,
              {
                "aria-label": `${e.name} Tone Actions Menu`,
                placement: "left",
                label: se.createElement(ko, { className: ha }),
                onAction: (e) => {
                  switch (e) {
                    case "likeTone":
                      return n();
                    case "dislikeTone":
                      return i();
                    default:
                      return;
                  }
                }
              },
              se.createElement(
                _o.v.Section,
                { title: "Help us improve" },
                se.createElement(
                  _o.v.Item,
                  { key: "likeTone", textValue: "likeTone" },
                  se.createElement(wo, { className: fa }),
                  "Tone seems correct"
                ),
                se.createElement(
                  _o.v.Item,
                  { key: "dislikeTone", textValue: "dislikeTone" },
                  se.createElement(Co, { className: fa }),
                  "Tone seems incorrect"
                )
              )
            )
          );
        },
        oa = {
          height: xe.ux.rem(5 * ge.W9),
          width: xe.ux.rem(5 * ge.W9),
          borderRadius: xe.ux.percent(50),
          marginRight: xe.ux.rem(3 * ge.W9)
        },
        aa = xe.ux.style({ display: "grid", alignItems: "center", gridTemplateColumns: "0.6fr 0.5fr auto", height: xe.ux.rem(2.5) }),
        sa = xe.ux.style({ display: "flex", alignItems: "center", flexBasis: xe.ux.percent(45) }),
        la = xe.ux.style({ padding: xe.ux.rem(ge.yC), marginRight: xe.ux.rem(ge.qp), width: xe.ux.rem(ge.w9), height: xe.ux.rem(ge.w9) }),
        ca = xe.ux.style({ textTransform: "capitalize", fontSize: xe.ux.rem(0.875), lineHeight: xe.ux.rem(1.3125) }),
        ua = xe.ux.style({ display: "inline-flex" }),
        da = xe.ux.style({ display: "flex" }),
        ma = xe.ux.style(oa, { backgroundColor: be.Z.IndicatorDotDefault }),
        pa = xe.ux.style(oa, { backgroundColor: be.Z.IndicatorDotActive }),
        ha = xe.ux.style({ padding: xe.ux.rem(ge.F2) }),
        fa = xe.ux.style({ marginRight: xe.ux.rem(ge.x) }),
        ga = r.UI.Node.make(({ view: e, notify: t }) =>
          se.createElement(
            an,
            { "data-name": "tone-report" },
            se.createElement("div", { className: ka }, se.createElement("div", { className: wa }, "How this may sound to readers:")),
            se.createElement(
              ue.F.div,
              { className: Ca, "data-name": "tone-report-items" },
              e("tones").pipe(
                W.U((e) =>
                  e.map((e, n) =>
                    se.createElement(ra, {
                      key: e.name,
                      index: n,
                      tone: e,
                      onReportPositiveFeedback: t({ kind: b.i.Kind.toneReportToneLikeButtonClick, toneName: e.name }),
                      onReportNegativeFeedback: t({ kind: b.i.Kind.toneReportToneDislikeButtonClick, toneName: e.name })
                    })
                  )
                )
              )
            )
          )
        ),
        va = r.UI.Node.make(() =>
          se.createElement(an, { style: ya }, se.createElement(uo, null), se.createElement("span", { className: ba }, "Loading..."))
        ),
        xa = r.UI.Union.make("kind", { loading: va, loadedEmpty: va, loadedNonEmpty: ga }),
        ya = { display: "flex", flexDirection: "column", justifyContent: "center", alignItems: "center", minHeight: xe.ux.rem(9.5) },
        ba = xe.ux.style({ color: me.Il.Text.Base.Subdued, fontSize: xe.ux.rem(0.75), fontFamily: "Inter", lineHeight: xe.ux.rem(1.125) }),
        ka = xe.ux.style({ display: "flex", alignItems: "flex-start" }),
        wa = xe.ux.style({ flexGrow: 1, fontStyle: "normal", fontWeight: "bold", fontSize: xe.ux.rem(1), lineHeight: xe.ux.rem(1.5) }),
        Ca = xe.ux.style({ marginTop: xe.ux.rem(0.5) });
      var Sa = n(37869),
        Ea = n(82900),
        _a = n(74923),
        Ia = n(18775),
        Aa = (function () {
          function e(t) {
            var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
              i = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2];
            (0, Ea._)(this, e),
              (0, Ia._)(this, "_capacity", void 0),
              (0, Ia._)(this, "_start", void 0),
              (0, Ia._)(this, "_allowOverflow", void 0),
              (0, Ia._)(this, "_nextId", void 0),
              (this._capacity = t),
              (this._start = n),
              (this._allowOverflow = i),
              (this._nextId = n);
          }
          return (
            (0, _a._)(e, [
              {
                key: "id",
                get: function () {
                  return this._nextId;
                }
              },
              {
                key: "newId",
                value: function () {
                  var e = this._nextId;
                  if (e > this._capacity) {
                    if (!this._allowOverflow) throw new j.ej("ids limit reached: " + this._capacity);
                    this._nextId = e = 0;
                  }
                  return this._nextId++, e;
                }
              },
              {
                key: "reset",
                value: function () {
                  this._nextId = this._start;
                }
              }
            ]),
            e
          );
        })(),
        Ba = n(44361);
      const Ra = {
          border: `1px solid ${me.Il.Background.Neutral.Default}`,
          borderRadius: xe.ux.rem(jt.xB),
          width: xe.ux.rem(15),
          height: xe.ux.rem(2),
          boxSizing: "border-box",
          position: "relative"
        },
        Oa = {
          padding: `${xe.ux.rem(ge.F2)} ${xe.ux.rem(ge.F2 + ge.Ze)} ${xe.ux.rem(ge.F2)} ${xe.ux.rem(ge.qp)}`,
          width: "100%",
          height: "100%",
          border: "none",
          background: "transparent",
          position: "relative",
          cursor: "pointer",
          display: "flex",
          alignItems: "center"
        },
        Ua = { fontWeight: 400, fontSize: xe.ux.rem(0.875), lineHeight: xe.ux.rem(1.375), color: me.Il.Text.Base.Default },
        Ta = Object.assign(Object.assign({ position: "absolute", top: xe.ux.rem(ge.F2), right: xe.ux.rem(ge.x) }, (0, ye.fx)(1.5)), {
          $nest: { "& svg": { stroke: me.Il.Text.Base.Subdued } }
        }),
        Na = {
          padding: xe.ux.rem(ge.F2),
          background: "white",
          boxShadow: Yt.H8.boxShadow,
          border: Yt.H8.border,
          borderRadius: xe.ux.rem(jt.xB),
          width: xe.ux.rem(15),
          boxSizing: "border-box",
          overflowY: "auto",
          maxHeight: xe.ux.rem(8.125),
          zIndex: 9999,
          $nest: { "& > ul": { listStyle: "none", padding: 0, margin: 0, $nest: { "& > li": { padding: 0, margin: 0 } } } }
        },
        Ma = {
          border: "none",
          background: "transparent",
          width: "100%",
          cursor: "pointer",
          overflow: "hidden",
          textOverflow: "ellipsis",
          fontSize: xe.ux.rem(0.875),
          lineHeight: xe.ux.rem(1.375),
          color: me.Il.Text.Base.Default,
          padding: `${xe.ux.rem(0.1875)} ${xe.ux.rem(ge.qp)}`,
          borderRadius: xe.ux.rem(jt.xB),
          display: "flex",
          justifyContent: "flex-start",
          $nest: { "&:hover": { background: ve.Blue0 } }
        },
        Fa = xe.ux.style(Ra),
        ja = xe.ux.style(Oa),
        Pa = xe.ux.style(Ua),
        za = xe.ux.style(Na),
        Ga = xe.ux.style(Ma),
        La = xe.ux.style(Ta),
        Za = new Aa(999999);
      function Da({ label: e, selection: t, className: n, placeholder: i, options: r, onSelectionChange: o, renderOption: a }) {
        const [s, l] = se.useState(!1),
          c = se.useRef(Za.newId().toString()),
          u = se.useRef(Za.newId().toString()),
          d = se.useRef(null),
          [m, p] = se.useState(null),
          [h, g] = se.useState(null),
          { styles: v, attributes: x } = (0, Sa.D)(m, h, {
            placement: "bottom-start",
            modifiers: [{ name: "offset", options: { offset: [0, 4] } }]
          }),
          y = se.useMemo(() => new f.xQ(), []),
          b = se.useMemo(
            () =>
              y.pipe(
                Y.b(100),
                I.h((e) => !e),
                R.b(() => {
                  l(!1);
                })
              ),
            [y, l]
          );
        return (
          Xt.P.useSubscriptionTo(b),
          se.createElement(
            "div",
            Object.assign({}, (0, ce.Sh)(Fa, n), { ref: p }),
            se.createElement(
              "button",
              {
                ref: d,
                className: ja,
                onClick: () => {
                  var e;
                  l(!0), y.next(!0), null === (e = d.current) || void 0 === e || e.focus();
                },
                onFocus: () => {
                  l(!0), y.next(!0);
                },
                onBlur: () => y.next(!1),
                type: "button",
                "aria-haspopup": "listbox",
                "aria-owns": c.current,
                "aria-expanded": s,
                "aria-labelledby": u.current
              },
              se.createElement("div", { id: u.current, className: Pa }, t ? (a ? a(t) : e(t)) : i),
              se.createElement(pe.JO.Arrow, { direction: pe.n4.down, className: La })
            ),
            s &&
              se.createElement(
                "div",
                Object.assign({ ref: g, style: v.popper }, x.popper, {
                  className: za,
                  onFocus: () => y.next(!0),
                  onBlur: () => y.next(!1)
                }),
                se.createElement(
                  "ul",
                  { "aria-label": "menu-options", role: "listbox", id: c.current },
                  r.map((t, n) => {
                    const i = e(t);
                    return se.createElement(
                      "li",
                      { key: n, "aria-label": i, role: "option" },
                      se.createElement(
                        "button",
                        {
                          className: Ga,
                          onClick: (0, Ba.m)(() => {
                            o(t), l(!1);
                          })
                        },
                        a ? a(t) : e(t)
                      )
                    );
                  })
                )
              )
          )
        );
      }
      var Ha = function (e, t) {
        var n = {};
        for (var i in e) Object.prototype.hasOwnProperty.call(e, i) && t.indexOf(i) < 0 && (n[i] = e[i]);
        if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
          var r = 0;
          for (i = Object.getOwnPropertySymbols(e); r < i.length; r++)
            t.indexOf(i[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, i[r]) && (n[i[r]] = e[i[r]]);
        }
        return n;
      };
      const Va = (e) => {
          var {
              text: t,
              onChange: n,
              placeholder: i,
              disabled: r,
              className: o,
              onFocus: a,
              onBlur: s,
              onKeyPressEnter: l,
              autofocus: c,
              onKeyUpEscape: u
            } = e,
            d = Ha(e, [
              "text",
              "onChange",
              "placeholder",
              "disabled",
              "className",
              "onFocus",
              "onBlur",
              "onKeyPressEnter",
              "autofocus",
              "onKeyUpEscape"
            ]);
          const [m, p] = se.useState(null);
          return (
            se.useEffect(() => {
              m && void 0 !== c && m.focus();
            }, [c, m]),
            se.createElement(
              Wn,
              { className: o, style: { height: xe.ux.rem(1.375) }, name: "text-input-iframe" },
              se.createElement("style", {
                dangerouslySetInnerHTML: {
                  __html: `\n      .textBox {\n        box-sizing: border-box;\n        border-radius: ${xe.ux.rem(
                    jt.xB
                  )};\n        overflow-y: auto;\n        width: 100%;\n        height: 100%;\n        border: none;\n        padding: 0;\n        background: transparent;\n        resize: none;\n        font-family: Inter, sans-serif;\n        font-size: ${xe.ux.rem(
                    0.875
                  )};\n        font-weight: 400;\n        color: ${$n};\n      }\n      .textBox::placeholder {\n        color: ${Kn};\n      }\n      .textBox:focus {\n        outline: none;\n      }\n      `.replace(
                    /\s/g,
                    ""
                  )
                }
              }),
              se.createElement(
                "input",
                Object.assign({}, d, {
                  className: "textBox",
                  style: { lineHeight: xe.ux.rem(1.375) },
                  value: t,
                  ref: p,
                  onChange: (e) => n(e.target.value),
                  placeholder: i,
                  disabled: r,
                  onFocus: () => (null == a ? void 0 : a()),
                  onBlur: () => (null == s ? void 0 : s()),
                  onKeyPress: (e) => {
                    l && "Enter" === e.key && !e.shiftKey && (e.preventDefault(), e.stopPropagation(), l());
                  },
                  onKeyDown: (e) => {
                    u && "Escape" === e.key && (e.preventDefault(), e.stopPropagation(), u());
                  }
                })
              )
            )
          );
        },
        $a = {
          padding: `${xe.ux.rem(ge.F2)} ${xe.ux.rem(ge.F2 + ge.Ze)} ${xe.ux.rem(ge.F2)} ${xe.ux.rem(ge.qp)}`,
          border: `1px solid ${me.Il.Background.Neutral.Default}`,
          borderRadius: xe.ux.rem(jt.xB),
          width: xe.ux.rem(15),
          height: xe.ux.rem(2),
          boxSizing: "border-box",
          position: "relative"
        },
        Ka = {
          position: "absolute",
          right: xe.ux.rem(ge.x),
          top: xe.ux.rem(0.1875),
          border: "none",
          background: "transparent",
          display: "flex",
          alignItems: "center",
          cursor: "pointer",
          width: xe.ux.rem(1.5),
          height: xe.ux.rem(1.5),
          padding: 0
        },
        Wa = Object.assign(Object.assign({}, (0, ye.fx)(1.5)), { $nest: { "& svg": { stroke: me.Il.Text.Base.Subdued } } }),
        qa = {
          padding: xe.ux.rem(ge.F2),
          background: "white",
          boxShadow: Yt.H8.boxShadow,
          border: Yt.H8.border,
          borderRadius: xe.ux.rem(jt.xB),
          width: xe.ux.rem(15),
          boxSizing: "border-box",
          overflowY: "auto",
          maxHeight: xe.ux.rem(8.125),
          zIndex: 9999,
          $nest: { "& > ul": { listStyle: "none", padding: 0, margin: 0, $nest: { "& > li": { padding: 0, margin: 0 } } } }
        },
        Qa = {
          border: "none",
          background: "transparent",
          width: "100%",
          cursor: "pointer",
          overflow: "hidden",
          textOverflow: "ellipsis",
          fontSize: xe.ux.rem(0.875),
          lineHeight: xe.ux.rem(1.375),
          color: me.Il.Text.Base.Default,
          padding: `${xe.ux.rem(0.1875)} ${xe.ux.rem(ge.qp)}`,
          borderRadius: xe.ux.rem(jt.xB),
          display: "flex",
          justifyContent: "flex-start",
          $nest: { "&:hover": { background: ve.Blue0 }, "& mark": { backgroundColor: "unset", fontWeight: "bold" } }
        },
        Ya = { width: xe.ux.percent(100), border: "none" },
        Xa = xe.ux.style($a),
        Ja = xe.ux.style(Ka),
        es = xe.ux.style(Wa),
        ts = xe.ux.style(qa),
        ns = xe.ux.style(Qa),
        is = xe.ux.style({ whiteSpace: "pre" }),
        rs = xe.ux.style(Ya),
        os = new Aa(999999);
      function as({
        text: e,
        placeholder: t,
        clearButton: n,
        selectOnBlur: i,
        label: r,
        options: o,
        className: a,
        filterBy: s = (e, t) => r(e).toLowerCase().includes(t.toLowerCase()),
        onInputChange: l,
        onSelectionChange: c
      }) {
        const [u, d] = se.useState(!1),
          m = se.useRef(os.newId().toString()),
          [p, h] = se.useState(null),
          [g, v] = se.useState(null),
          { styles: x, attributes: y } = (0, Sa.D)(p, g, {
            placement: "bottom-start",
            modifiers: [{ name: "offset", options: { offset: [0, 4] } }]
          }),
          b = o.filter((t) => s(t, e.trim())),
          k = u && b.length > 0,
          w = se.useMemo(() => new f.xQ(), []);
        return (
          Xt.P.useSubscriptionTo(
            w.pipe(
              Y.b(50),
              I.h((e) => !e),
              R.b(() => {
                d(!1), i && "" !== e.trim() && c(b.length > 0 ? b[0] : null);
              })
            )
          ),
          se.createElement(
            "div",
            Object.assign({}, (0, ce.Sh)(Xa, a), { ref: h }),
            se.createElement(Va, {
              className: rs,
              placeholder: t,
              onChange: l,
              text: e,
              onFocus: () => {
                d(!0), w.next(!0);
              },
              onBlur: () => w.next(!1),
              role: "combobox",
              "aria-haspopup": "listbox",
              "aria-owns": m.current,
              "aria-expanded": k
            }),
            "" !== e.trim() &&
              !!n &&
              se.createElement(
                "button",
                { onClick: (0, Ba.m)(() => c(null)), className: Ja, "aria-label": "Clear", type: "button" },
                se.createElement(pe.JO.Close, { className: es })
              ),
            k &&
              se.createElement(
                "div",
                Object.assign({ ref: v, style: x.popper }, y.popper, {
                  className: ts,
                  onFocus: () => w.next(!0),
                  onBlur: () => w.next(!1)
                }),
                se.createElement(
                  "ul",
                  { "aria-label": "menu-options", role: "listbox", id: m.current },
                  b.map((t) => {
                    const n = r(t);
                    return se.createElement(
                      "li",
                      { key: n, "aria-label": n, role: "option" },
                      se.createElement(
                        "button",
                        {
                          className: ns,
                          onClick: (0, Ba.m)(() => {
                            c(t), d(!1);
                          })
                        },
                        se.createElement(ss, { label: n, pattern: e })
                      )
                    );
                  })
                )
              )
          )
        );
      }
      const ss = ({ label: e, pattern: t }) => {
        if ("" === t.trim()) return se.createElement(se.Fragment, null, e);
        const n = t.trim(),
          i = e.split(new RegExp(n, "i")),
          r = (0, a.zG)(
            i.map((e, t) => ({ token: e, mark: !1, end: t * n.length + i.slice(0, t).join("").length + e.length })),
            C.iD({ token: "", mark: !0, end: 0 })
          )
            .map((t, i, r) =>
              t.mark && i > 0 ? { token: e.slice(r[i - 1].end, r[i - 1].end + n.length), mark: !0 } : { token: t.token, mark: !1 }
            )
            .filter((e) => e.token.length > 0);
        return se.createElement(
          se.Fragment,
          null,
          r.map((e, t) =>
            e.mark
              ? se.createElement("mark", { key: t, className: is }, e.token)
              : se.createElement("span", { key: t, className: is }, e.token)
          )
        );
      };
      const ls = (e) =>
          se.createElement(
            pe.a1,
            Object.assign({ width: "12", height: "12", viewBox: "0 0 12 12", fill: "none" }, e),
            se.createElement("path", { stroke: "#fff", strokeLinecap: "round", strokeWidth: ".857", d: "m4 4 2 2m2 2L6 6m0 0 2-2M6 6 4 8" })
          ),
        cs = ({ kind: e, label: t, description: n, iconUrl: i, isUnselectable: r, onToggle: o }) =>
          se.createElement(
            So.u,
            { title: n },
            se.createElement(
              "button",
              {
                disabled: "disabled" === e,
                className: us,
                "data-kind": e,
                "data-unselectable": r,
                onClick: (0, Ba.m)(() => {
                  "disabled" !== e && o("selected" !== e && ("unselected" === e || (0, j.L0)(e)));
                })
              },
              i ? se.createElement("img", { src: i, style: { width: 20, height: 20 } }) : null,
              se.createElement("span", null, t),
              r && "selected" === e ? se.createElement(ls, { className: ds }) : null
            )
          ),
        us = xe.ux.style({
          display: "flex",
          alignItems: "center",
          justifyContent: "center",
          gap: xe.ux.rem(ge.x),
          padding: `${xe.ux.rem(ge.F2)} ${xe.ux.rem(0.625)} ${xe.ux.rem(ge.F2)} ${xe.ux.rem(ge.x)}`,
          background: me.Il.Background.Base.Default,
          border: `${xe.ux.px(1)} solid transparent`,
          borderRadius: xe.ux.rem(1.875),
          fontSize: xe.ux.rem(0.875),
          lineHeight: xe.ux.rem(1.375),
          boxSizing: "border-box",
          $nest: {
            "&[data-kind='unselected']": {
              border: `${xe.ux.px(1)} solid ${ve.BlueGray5}`,
              color: me.Il.Text.Base.Default,
              cursor: "pointer"
            },
            "&[data-kind='disabled']": { border: `${xe.ux.px(1)} solid ${ve.BlueGray5}`, color: ve.BlueGray40, cursor: "default" },
            "&[data-kind='selected']": {
              border: `${xe.ux.px(2)} solid ${be.Z.BrandGreen60}`,
              padding: `${xe.ux.rem(0.1875)} ${xe.ux.rem(0.5625)} ${xe.ux.rem(0.1875)} ${xe.ux.rem(0.4375)}`,
              position: "relative",
              $nest: { "&[data-unselectable='true']": { cursor: "pointer" } }
            }
          }
        }),
        ds = xe.ux.style(
          Object.assign(
            Object.assign(
              { position: "absolute", top: xe.ux.rem(-(ge.F2 + ge.W9)), right: xe.ux.rem(-(ge.F2 + ge.W9)), boxSizing: "content-box" },
              (0, ye.fx)(0.75)
            ),
            {
              border: `${xe.ux.rem(0.125)} solid white`,
              borderRadius: "50%",
              background: be.Z.BrandGreen60,
              display: "flex",
              alignItems: "center",
              justifyContent: "center"
            }
          )
        ),
        ms = ({ chips: e, className: t, onToggle: n }) =>
          se.createElement(
            ue.F.div,
            Object.assign({}, (0, ce.Sh)(ps, t)),
            e.pipe(W.U(C.UI((e) => se.createElement(cs, Object.assign({}, e, { onToggle: (t) => n(e, t), key: e.label })))))
          ),
        ps = xe.ux.style({ display: "flex", flexWrap: "wrap", gap: xe.ux.rem(ge.F2), $nest: { div: { marginTop: xe.ux.rem(ge.F2) } } }),
        hs = { margin: 0, padding: xe.ux.rem(ge.mh), gap: xe.ux.rem(ge.mh) },
        fs = { color: me.Il.Text.Base.Default, fontWeight: 700, fontSize: xe.ux.rem(0.875), lineHeight: xe.ux.rem(1.375), margin: 0 },
        gs = { color: me.Il.Text.Base.Subdued, fontWeight: 400, fontSize: xe.ux.rem(0.75), lineHeight: xe.ux.rem(1.125) },
        vs = { marginTop: xe.ux.rem(ge.x) },
        xs = { color: ve.BlueGray60, fontWeight: 400, fontSize: xe.ux.rem(0.75), lineHeight: xe.ux.rem(1.125) },
        ys = { display: "flex", justifyContent: "flex-end", gap: xe.ux.rem(ge.x) },
        bs = { fontSize: xe.ux.important(xe.ux.rem(0.875)) },
        ks = { marginTop: xe.ux.rem(ge.x) },
        ws = { marginTop: xe.ux.rem(ge.x) },
        Cs = { display: "flex", alignItems: "center", gap: xe.ux.rem(ge.x) },
        Ss = { width: xe.ux.rem(1.5), height: xe.ux.rem(1.5), display: "flex", alignItems: "center", justifyContent: "center" },
        Es = hs,
        _s = xe.ux.style(fs),
        Is = xe.ux.style(vs),
        As = xe.ux.style(gs),
        Bs = xe.ux.style(xs),
        Rs = xe.ux.style(ys),
        Os = xe.ux.style(bs),
        Us = xe.ux.style(bs),
        Ts = xe.ux.style(ks),
        Ns = xe.ux.style(ws),
        Ms = xe.ux.style(Cs),
        Fs = xe.ux.style(Ss),
        js = r.UI.Node.make(({ view: e, state: t, notify: n }) =>
          se.createElement(
            an,
            { style: Es, "data-name": "voice-profile" },
            se.createElement(
              "section",
              null,
              se.createElement("h2", { className: _s }, "Formality"),
              se.createElement(ms, {
                className: Is,
                chips: e("styles").pipe(W.U(C.UI((e) => Object.assign(Object.assign({}, e), { isUnselectable: !1 })))),
                onToggle: (e) => n({ kind: b.i.Kind.styleToggleClick, id: e.id })()
              })
            ),
            se.createElement(
              "section",
              null,
              se.createElement("h2", { className: _s }, "Tone"),
              se.createElement(
                ue.F.div,
                { className: As },
                "Select up to",
                " ",
                e("maxSelectableTones").pipe(
                  W.U((e) => {
                    return (
                      (t = e),
                      Number.isInteger(t) && t >= 0 && t < 10
                        ? (function (e) {
                            return ["zero", "one", "two", "three", "four", "five", "six", "seven", "eight", "nine"][e];
                          })(e)
                        : `${e}`
                    );
                    var t;
                  })
                )
              ),
              se.createElement(ms, {
                className: Is,
                chips: e("tones").pipe(W.U(C.UI((e) => Object.assign(Object.assign({}, e), { isUnselectable: !0 })))),
                onToggle: (e, t) => n({ kind: b.i.Kind.toneToggleClick, selected: t, id: e.id })()
              })
            ),
            t.pipe(
              W.U((e) =>
                (0, a.zG)(
                  e.roles,
                  F.c2,
                  i.fold(a.gn, (t) =>
                    se.createElement(
                      "section",
                      null,
                      se.createElement("h2", { className: _s }, "Your profession"),
                      se.createElement(as, {
                        className: Ts,
                        placeholder: "Product designer",
                        text: e.roleTypeaheadText,
                        onInputChange: (e) => n({ kind: "updateRoleTypeaheadText", text: e })(),
                        onSelectionChange: (e) => n({ kind: b.i.Kind.roleTypeaheadSelectionChange, role: i.fromNullable(e) })(),
                        options: t,
                        label: (e) => e.label,
                        clearButton: !0,
                        selectOnBlur: !0
                      })
                    )
                  )
                )
              )
            ),
            se.createElement(
              "section",
              null,
              se.createElement("h2", { className: _s }, "I write in"),
              se.createElement(
                ue.F.Fragment,
                null,
                t.pipe(
                  W.U(({ dialects: e, selectedDialect: t }) =>
                    se.createElement(Da, {
                      className: Ns,
                      options: e.filter((e) => !ft.L.Dialect.Id.eq.equals(e.id, t.id)),
                      selection: t,
                      onSelectionChange: (e) => n({ kind: b.i.Kind.dialectDropdownSelectionChange, dialect: e })(),
                      label: (e) => e.label,
                      renderOption: (e) =>
                        se.createElement(
                          "div",
                          { className: Ms },
                          se.createElement(
                            "div",
                            { className: Fs },
                            se.createElement("img", { src: e.iconUrl, style: { width: xe.ux.rem(1), height: xe.ux.rem(1) } })
                          ),
                          e.label
                        )
                    })
                  )
                )
              )
            ),
            e("description").pipe(W.U((e) => ("" !== e.trim() ? se.createElement("div", { className: Bs }, e) : null))),
            se.createElement(
              ue.F.div,
              { className: Rs },
              se.createElement(
                de.z,
                {
                  variant: "tertiary",
                  className: Us,
                  onClick: n({ kind: b.i.Kind.voiceProfileCloseButtonClick }),
                  name: "closeVoiceProfile"
                },
                "Close"
              ),
              e("applyButtonEnabled").pipe(
                W.U((e) =>
                  se.createElement(
                    de.z,
                    {
                      className: Os,
                      onClick: n({ kind: b.i.Kind.voiceProfileUseVoiceButtonClick }),
                      disabled: !e,
                      name: "applyVoiceProfile"
                    },
                    "Use this voice"
                  )
                )
              )
            )
          )
        ),
        Ps = ({ className: e }) => se.createElement("div", Object.assign({ role: "separator" }, (0, ce.Sh)(zs, e))),
        zs = xe.ux.style({ position: "relative", width: "100%", borderBottom: `0.5px solid ${ve.BlueGray10}` });
      var Gs,
        Ls = function (e, t) {
          var n = {};
          for (var i in e) Object.prototype.hasOwnProperty.call(e, i) && t.indexOf(i) < 0 && (n[i] = e[i]);
          if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
            var r = 0;
            for (i = Object.getOwnPropertySymbols(e); r < i.length; r++)
              t.indexOf(i[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, i[r]) && (n[i[r]] = e[i[r]]);
          }
          return n;
        };
      !(function (e) {
        let t;
        !(function (e) {
          e.create = function (e) {
            return e;
          };
        })((t = e.Id || (e.Id = {})));
      })(Gs || (Gs = {}));
      const Zs = ({ tabs: e, activeTabId: t, onActiveTabChange: n, children: i }) =>
          se.createElement(
            se.Fragment,
            null,
            se.createElement(
              "div",
              { className: Hs, role: "tablist" },
              e.map((e) =>
                se.createElement(
                  "button",
                  {
                    key: e.id,
                    onClick: () => n(e.id),
                    tabIndex: 0,
                    className: Vs,
                    id: `tab-${e.id}`,
                    "aria-label": `${e.label} ${e.id === t ? "Selected." : ""}`,
                    "aria-controls": `tabpanel-${e.id}`,
                    "aria-selected": t === e.id,
                    role: "tab",
                    type: "button"
                  },
                  e.label
                )
              )
            ),
            i
          ),
        Ds = (e) => {
          var { id: t, isActive: n, children: i, className: r, style: o } = e,
            a = Ls(e, ["id", "isActive", "children", "className", "style"]);
          return se.createElement(
            "div",
            Object.assign(
              {
                role: "tabpanel",
                id: `tabpanel-${t}`,
                "aria-labelledby": `tab-${t}`,
                hidden: !n,
                style: n ? o : void 0,
                className: n ? r : void 0
              },
              a
            ),
            i
          );
        },
        Hs = xe.ux.style({ display: "flex", alignContent: "flex-start", gap: xe.ux.rem(ge.x) }),
        Vs = xe.ux.style({
          cursor: "pointer",
          border: "none",
          display: "flex",
          alignItems: "center",
          background: "transparent",
          borderBottom: `${xe.ux.rem(ge.yC)} solid transparent`,
          fontWeight: 400,
          fontSize: xe.ux.rem(0.75),
          lineHeight: xe.ux.rem(1.125),
          height: xe.ux.rem(1.5),
          color: be.Z.TextBaseSubduedColor,
          $nest: {
            '&[aria-selected="true"]': { borderBottomColor: be.Z.TextBaseSubduedColor, fontWeight: 700 },
            '&[aria-selected="false"]:hover': { borderBottomColor: ve.BlueGray10 }
          }
        });
      function $s({ label: e, enabled: t, onChange: n }) {
        return se.createElement(
          "div",
          { className: Ks },
          se.createElement("input", { type: "checkbox", id: "voice-checkbox", checked: t, onChange: n }),
          se.createElement("label", { htmlFor: "voice-checkbox" }, e)
        );
      }
      const Ks = xe.ux.style({
        display: "flex",
        alignItems: "flex-start",
        $nest: {
          "& input[type='checkbox']": {
            margin: `${xe.ux.rem(ge.W9)} ${xe.ux.rem(ge.x)} 0 0`,
            minWidth: xe.ux.rem(1),
            minHeight: xe.ux.rem(1),
            accentColor: ve.Green80,
            cursor: "pointer"
          },
          "& label": {
            color: me.Il.Text.Base.Default,
            fontWeight: 400,
            fontSize: xe.ux.rem(0.75),
            lineHeight: xe.ux.rem(1.125),
            cursor: "pointer"
          }
        }
      });
      var Ws = n(93947),
        qs = n(17579);
      const Qs = { editBtn: "editBtn", cancelBtn: "cancelBtn", saveBtn: "saveBtn" },
        Ys = { default: { backgroundColor: be.Z.BlueGray0 } },
        Xs = (e) =>
          Object.assign(
            Object.assign(
              {
                gap: 0,
                backgroundImage: "url(https://assets.grammarly.com/cheetah/v1/voice-profile/cheetah-my-voice-bg.svg)",
                backgroundPosition: "right",
                backgroundRepeat: "no-repeat",
                backgroundSize: "auto 100%"
              },
              e ? { padding: `${xe.ux.rem(ge.qp)} ${xe.ux.rem(ge.mh)}` } : {}
            ),
            {
              $nest: {
                [`.${Qs.editBtn}`]: { opacity: 0, pointerEvents: "none", $nest: { "&:focus": { opacity: 1, pointerEvents: "auto" } } },
                [`&:hover .${Qs.editBtn}, &:focus .${Qs.editBtn}`]: { opacity: 1, pointerEvents: "auto" }
              }
            }
          ),
        Js = (e) =>
          xe.ux.style({ display: "flex", justifyContent: "space-between", marginBottom: e ? xe.ux.rem(ge.x) : xe.ux.rem(ge.yC + ge.F2) }),
        el = xe.ux.style({ margin: 0, fontSize: xe.ux.rem(1.25), lineHeight: xe.ux.rem(1.5), fontWeight: 700 }),
        tl = xe.ux.style({ display: "flex", flexDirection: "row", alignItems: "flex-end", justifyContent: "space-between" }),
        nl = xe.ux.style({ display: "flex", flexDirection: "column", gap: xe.ux.rem(ge.x) }),
        il = xe.ux.style({ display: "flex", flexDirection: "column", gap: xe.ux.rem(ge.F2) }),
        rl = xe.ux.style({
          color: be.Z.TextBaseSubduedColor,
          fontWeight: 400,
          fontSize: xe.ux.rem(0.75),
          lineHeight: xe.ux.rem(1.125),
          margin: 0
        }),
        ol = xe.ux.style({ display: "flex", alignItems: "center", gap: xe.ux.rem(ge.x) }),
        al = xe.ux.style({
          width: xe.ux.rem(1.5),
          height: xe.ux.rem(1.5),
          display: "flex",
          alignItems: "center",
          justifyContent: "center",
          $nest: { "& img": { width: xe.ux.rem(1), height: xe.ux.rem(1) } }
        }),
        sl = xe.ux.style({ display: "flex", flexDirection: "column", gap: xe.ux.rem(ge.F2) }),
        ll = xe.ux.style({
          display: "flex",
          alignItems: "center",
          gap: xe.ux.rem(ge.F2),
          height: xe.ux.rem(1.5),
          color: be.Z.TextBaseSubduedColor,
          fontSize: xe.ux.rem(0.875),
          lineHeight: xe.ux.rem(1.3125),
          fontWeight: 500
        }),
        cl = xe.ux.style({ display: "flex", alignItems: "center", gap: xe.ux.rem(ge.x) });
      var ul = n(27995);
      const dl = ({ children: e, theme: t, body: n, placement: i, active: r, onCloseButtonClick: o }) => {
          const a = se.useRef(null);
          return se.createElement(
            se.Fragment,
            null,
            se.createElement(
              ul.J,
              { placement: i, reference: (r && a.current) || void 0, theme: t },
              se.createElement(Pt.x, { style: ml, onClick: o, name: "tooltipClose" }),
              n
            ),
            se.cloneElement(e, { ref: a })
          );
        },
        ml = { default: { position: "absolute", top: xe.ux.rem(ge.x), right: xe.ux.rem(ge.x) } },
        pl = se.forwardRef(function ({ name: e, active: t, onClick: n }, i) {
          return se.createElement(
            "button",
            { role: "button", tabIndex: 0, "aria-label": e, "aria-pressed": t, "data-active": t, onClick: n, ref: i, className: hl },
            e
          );
        }),
        hl = xe.ux.style({
          display: "flex",
          alignItems: "center",
          justifyContent: "center",
          cursor: "pointer",
          height: xe.ux.rem(2),
          borderRadius: xe.ux.rem(jt.xB),
          border: `${xe.ux.rem(ge.yC)} solid transparent`,
          padding: `${xe.ux.rem(ge.yC + ge.F2)} ${xe.ux.rem(ge.x)}`,
          backgroundColor: be.Z.Green0,
          color: be.Z.Green90,
          lineHeight: xe.ux.rem(1.3125),
          fontSize: xe.ux.rem(0.875),
          $nest: {
            "&:hover": {
              backgroundColor: xe.ux.color(be.Z.Green10).mix(xe.ux.color(be.Z.BlueGray5)).toRGBA().toString(),
              color: be.Z.Green80
            },
            '&[data-active="true"]': { outline: `${xe.ux.rem(ge.yC)} solid ${be.Z.Green80}` }
          }
        }),
        fl = ({ onKeepClick: e, onRemoveClick: t }) =>
          se.createElement(
            "div",
            { className: gl },
            se.createElement("h1", { className: vl }, "Does this sound like you?"),
            se.createElement(
              "div",
              { className: xl },
              se.createElement(de.z, { onClick: e, style: yl }, se.createElement(wo, null), "Yes, keep it"),
              se.createElement(de.z, { onClick: t, style: yl }, se.createElement(Co, null), "No, remove it")
            )
          ),
        gl = xe.ux.style({ display: "flex", flexDirection: "column", alignItems: "flex-start" }),
        vl = xe.ux.style({
          fontSize: xe.ux.rem(0.875),
          lineHeight: xe.ux.rem(1.375),
          fontWeight: 700,
          margin: `0 0 ${xe.ux.rem(ge.mh)} 0`
        }),
        xl = xe.ux.style({ display: "flex", alignItems: "center", gap: xe.ux.rem(ge.x) }),
        yl = {
          default: {
            gap: xe.ux.rem(ge.F2),
            padding: `0 ${xe.ux.rem(ge.x)} 0 ${xe.ux.rem(ge.F2)}`,
            color: be.Z.TextBaseDefault,
            backgroundColor: me.Il.Background.Base.Default
          },
          hovered: { color: be.Z.TextBaseDefault, backgroundColor: be.Z.BlueGray5 },
          active: { color: be.Z.TextBaseDefault, backgroundColor: be.Z.BlueGray5 }
        },
        bl = ({
          profile: e,
          activeProfileName: t,
          activeTagId: n,
          onCloseButtonClick: r,
          onKeepClick: o,
          onRemoveClick: s,
          onVoiceTagClick: l
        }) =>
          se.createElement(
            Ds,
            { id: Gs.Id.create(e.name), isActive: e.name === i.toNullable(t), className: kl },
            e.summary,
            se.createElement(
              "div",
              { className: Cl },
              e.sections.map((t) =>
                se.createElement(
                  "div",
                  { key: t.name },
                  t.name,
                  se.createElement(
                    "div",
                    { className: Sl },
                    0 === t.tags.length
                      ? se.createElement("div", { className: wl }, "Detected qualities will appear here")
                      : t.tags.map((c) =>
                          se.createElement(
                            dl,
                            {
                              key: c.name,
                              active: (0, a.zG)(
                                n,
                                i.fold(a.jv, (n) => n === ft.b.createId({ tagName: c.name, sectionName: t.name, profileName: e.name }))
                              ),
                              onCloseButtonClick: r,
                              body: se.createElement(fl, { onKeepClick: o, onRemoveClick: () => s(c.name, e.name, t.name) })
                            },
                            se.createElement(pl, {
                              name: c.name,
                              active: (0, a.zG)(
                                n,
                                i.fold(a.jv, (n) => n === ft.b.createId({ tagName: c.name, sectionName: t.name, profileName: e.name }))
                              ),
                              onClick: () => l(c.name, e.name, t.name)
                            })
                          )
                        )
                  )
                )
              )
            )
          ),
        kl = xe.ux.style({
          fontSize: xe.ux.rem(0.875),
          lineHeight: xe.ux.rem(1.3125),
          display: "flex",
          flexDirection: "column",
          gap: xe.ux.rem(ge.qp),
          paddingTop: xe.ux.rem(ge.x)
        }),
        wl = xe.ux.style({
          padding: `0 ${xe.ux.rem(ge.x)}`,
          background: be.Z.BlueGray0,
          color: be.Z.TextBaseSubduedColor,
          borderRadius: xe.ux.rem(jt.xB),
          height: xe.ux.rem(2),
          fontSize: xe.ux.rem(0.875),
          lineHeight: xe.ux.rem(1.3125),
          display: "flex",
          justifyContent: "center",
          alignItems: "center"
        }),
        Cl = xe.ux.style({ display: "flex", flexDirection: "column", gap: xe.ux.rem(ge.qp) }),
        Sl = xe.ux.style({ marginTop: xe.ux.rem(ge.x), display: "flex", flexWrap: "wrap", gap: xe.ux.rem(ge.F2) }),
        El = (0, ce.xb)(
          ({
            onEditButtonClick: e,
            onSaveButtonClick: t,
            onCancelButtonClick: n,
            onDialectDropdownChange: r,
            onRoleDropdownChange: o,
            userName: s,
            isEditing: l,
            selectedRole: c,
            roles: u,
            dialects: d,
            selectedDialect: m
          }) => {
            const p = se.useContext(nn.N).view("flatUI");
            return se.createElement(
              an,
              { style: p.view(Xs) },
              se.createElement(
                "div",
                { className: Js(l) },
                se.createElement("h1", { className: el }, s),
                l
                  ? null
                  : se.createElement(de.z, { variant: "secondary", onClick: e, className: Qs.editBtn, style: Ys, size: "small" }, "Edit")
              ),
              l
                ? se.createElement(
                    "div",
                    { className: tl },
                    se.createElement(
                      "div",
                      { className: nl },
                      0 !== u.length &&
                        se.createElement(
                          "div",
                          { className: il },
                          se.createElement("h2", { className: rl }, "My role"),
                          se.createElement(Da, {
                            placeholder: "Select a role...",
                            options: u,
                            selection: i.toUndefined(c),
                            onSelectionChange: o,
                            label: (e) => e.id,
                            renderOption: (e) => e.id
                          })
                        ),
                      se.createElement(
                        "div",
                        { className: il },
                        se.createElement("h2", { className: rl }, "I write in"),
                        se.createElement(Da, {
                          options: d,
                          selection: m,
                          onSelectionChange: r,
                          label: (e) => e.label,
                          renderOption: (e) =>
                            se.createElement(
                              "div",
                              { className: ol },
                              se.createElement("div", { className: al }, se.createElement("img", { src: e.iconUrl, alt: "" })),
                              e.label
                            )
                        })
                      )
                    ),
                    se.createElement(
                      "div",
                      { className: cl },
                      se.createElement(de.z, { variant: "tertiary", onClick: n }, "Cancel"),
                      se.createElement(de.z, { onClick: t }, "Save")
                    )
                  )
                : se.createElement(
                    "div",
                    { className: sl },
                    (0, a.zG)(
                      c,
                      i.fold(a.gn, (e) =>
                        se.createElement(
                          "div",
                          { className: ll },
                          se.createElement("div", { className: al }, se.createElement(Ws.J, { icon: qs.N, accessibilityLabel: "Role" })),
                          se.createElement("span", null, e.label)
                        )
                      )
                    ),
                    se.createElement(
                      "div",
                      { className: ll },
                      se.createElement("div", { className: al }, se.createElement("img", { src: m.iconUrl, alt: "" })),
                      se.createElement("span", null, m.label)
                    )
                  )
            );
          }
        ),
        _l = r.UI.Node.make(({ view: e, state: t, notify: n }) => {
          const r = se.useContext(nn.N).view("flatUI");
          return se.createElement(
            ue.F.div,
            { className: r.view(Il) },
            se.createElement(El, {
              onEditButtonClick: n({ kind: b.i.Kind.voiceSelectionsEditButtonClick }),
              onDialectDropdownChange: (e) => n({ kind: b.i.Kind.voiceDialectDropdownSelectionChange, dialect: e })(),
              onRoleDropdownChange: (e) => n({ kind: b.i.Kind.voiceRoleDropdownSelectionChange, role: e })(),
              onSaveButtonClick: n({ kind: b.i.Kind.voiceSelectionsSaveButtonClick }),
              onCancelButtonClick: n({ kind: b.i.Kind.voiceSelectionsCancelButtonClick }),
              userName: e("userName"),
              isEditing: e("isEditing"),
              selectedRole: e("selectedRole"),
              selectedDialect: e("selectedDialect"),
              roles: e("roles"),
              dialects: e("dialects")
            }),
            se.createElement(
              an,
              { style: r.view(Al) },
              se.createElement(
                ue.F.div,
                null,
                t.pipe(
                  W.U((e) =>
                    se.createElement(
                      se.Fragment,
                      null,
                      se.createElement(
                        "div",
                        { className: Bl },
                        se.createElement(
                          "div",
                          null,
                          se.createElement("h1", { className: Rl }, e.title),
                          se.createElement("h2", { className: Ol }, e.subTitle)
                        ),
                        se.createElement(Zs, {
                          key: "Tabs",
                          tabs: e.profiles.map((e) => ({ id: Gs.Id.create(e.name), label: e.name })),
                          activeTabId: Gs.Id.create(i.toNullable(e.activeProfileName) || ""),
                          onActiveTabChange: (e) => n({ kind: b.i.Kind.voiceProfileTabChange, profileName: e })()
                        })
                      ),
                      e.profiles.map((t) =>
                        se.createElement(bl, {
                          key: t.name,
                          profile: t,
                          activeProfileName: e.activeProfileName,
                          activeTagId: e.activeTagId,
                          onCloseButtonClick: n({ kind: b.i.Kind.voiceTagPopoverCloseButtonClick }),
                          onKeepClick: n({ kind: b.i.Kind.voiceTagPopoverKeepButtonClick }),
                          onRemoveClick: (e, t, i) =>
                            n({ kind: b.i.Kind.voiceTagPopoverRemoveButtonClick, tagName: e, profileName: t, sectionName: i })(),
                          onVoiceTagClick: (e, t, i) => n({ kind: b.i.Kind.voiceTagClick, tagName: e, profileName: t, sectionName: i })()
                        })
                      )
                    )
                  )
                )
              ),
              se.createElement(Ps, null),
              t.pipe(
                W.U(({ isEnabledByDefault: e, isEnabledByDefaultLabel: t }) =>
                  se.createElement($s, {
                    enabled: e,
                    label: t,
                    onChange: n({ kind: b.i.Kind.applyVoiceToWritingCheckboxChange, checked: !e })
                  })
                )
              )
            )
          );
        }),
        Il = (e) => xe.ux.style({ display: "flex", flexDirection: "column", gap: e ? void 0 : xe.ux.rem(ge.x) }),
        Al = (e) =>
          e
            ? { gap: xe.ux.rem(ge.mh), padding: `${xe.ux.rem(ge.qp)} ${xe.ux.rem(ge.mh)} ${xe.ux.rem(ge.mh)} ${xe.ux.rem(ge.mh)}` }
            : { gap: xe.ux.rem(ge.mh) },
        Bl = xe.ux.style({ display: "flex", justifyContent: "space-between", alignItems: "flex-start" }),
        Rl = xe.ux.style({ fontSize: xe.ux.rem(0.875), lineHeight: xe.ux.rem(1.3125), fontWeight: 700, margin: 0 }),
        Ol = xe.ux.style({
          color: be.Z.TextBaseSubduedColor,
          fontWeight: 400,
          fontSize: xe.ux.rem(0.75),
          lineHeight: xe.ux.rem(1.125),
          margin: 0
        }),
        Ul = r.UI.Node.make(({ view: e, notify: t }) => {
          const n = se.useContext(nn.N).view("flatUI");
          return se.createElement(
            an,
            { style: n.view(Tl), "data-name": e("error").pipe(W.U((e) => `error-${e.reason}`)) },
            se.createElement(
              ue.F.div,
              { className: n.view(Ml) },
              ee
                .aj([e("error"), n])
                .pipe(
                  W.U(([e, t]) =>
                    se.createElement(
                      se.Fragment,
                      null,
                      se.createElement(mo, { className: Pl(t), width: t ? 24 : 18, height: t ? 24 : 18 }),
                      se.createElement("span", { className: Fl }, e.header)
                    )
                  )
                )
            ),
            se.createElement(ue.F.div, { className: jl }, e("error").pipe(W.U((e) => e.text))),
            se.createElement(
              ue.F.Fragment,
              null,
              e("showGotItButton").pipe(
                W.U((e) =>
                  e
                    ? se.createElement(
                        de.z,
                        { className: zl, name: "gotItButton", onClick: t({ kind: b.i.Kind.errorCardOkButtonClick }), size: "small" },
                        "OK"
                      )
                    : null
                )
              )
            )
          );
        }),
        Tl = (e) => (e ? { gap: xe.ux.rem(ge.x), padding: `${xe.ux.rem(ge.qp)} ${xe.ux.rem(ge.mh)}` } : {}),
        Nl = r.UI.Union.asOption(Ul),
        Ml = (e) => xe.ux.style({ display: "flex", alignItems: "center", gap: xe.ux.rem(e ? ge.x : ge.F2) }),
        Fl = xe.ux.style({ fontSize: xe.ux.rem(0.875), lineHeight: xe.ux.rem(1.375), fontWeight: 700, color: me.Il.Text.Base.Default }),
        jl = xe.ux.style({
          fontSize: xe.ux.rem(0.75),
          lineHeight: xe.ux.rem(1.125),
          color: me.Il.Text.Base.Subdued,
          whiteSpace: "break-spaces",
          overflowWrap: "anywhere"
        }),
        Pl = (e) => xe.ux.style(Object.assign({ padding: e ? void 0 : xe.ux.rem(ge.yC) }, (0, ye.fx)(e ? 1.5 : 1.125))),
        zl = xe.ux.style({ alignSelf: "flex-start" }),
        Gl = r.UI.Node.make(({ view: e }) => {
          const t = se.useContext(nn.N).view("flatUI");
          return se.createElement(
            an,
            { style: t.view(Dl), "data-name": "document-overview" },
            t.view(
              (0, U.RN)(se.createElement(gi, { style: Zl }, "This document"), se.createElement("div", { className: Hl }, "This document"))
            ),
            se.createElement(ue.F.div, { className: Vl }, e("title")),
            se.createElement(ue.F.div, { className: $l }, e("summary"))
          );
        }),
        Ll = r.UI.Union.asOption(Gl),
        Zl = { userSelect: "none", padding: 0 },
        Dl = (e) => ({
          position: "relative",
          padding: e ? `${xe.ux.rem(ge.x)} ${xe.ux.rem(ge.mh)}` : `${xe.ux.rem(ge.x)} ${xe.ux.rem(ge.qp)}`,
          gap: xe.ux.rem(ge.x),
          fontSize: xe.ux.rem(ge.qp),
          lineHeight: xe.ux.rem(ge.mh + ge.yC)
        }),
        Hl = xe.ux.style({
          borderBottom: `${xe.ux.rem(ge.W9)} solid ${me.Il.Border.Base.Subdued}`,
          paddingBottom: xe.ux.rem(ge.F2),
          marginBottom: xe.ux.rem(ge.F2),
          color: me.Il.Text.Base.Subdued,
          userSelect: "none"
        }),
        Vl = xe.ux.style({ fontSize: xe.ux.rem(ge.qp + ge.yC), color: me.Il.Text.Base.Subdued, fontWeight: 600 }),
        $l = xe.ux.style({ color: me.Il.Text.Base.Default }),
        Kl = (e) =>
          se.createElement(
            pe.a1,
            Object.assign({ width: "20", height: "20", viewBox: "0 0 20 20" }, e),
            se.createElement("path", {
              d: "M5.31255 7.11538H14.6876M5.31255 10H14.6876M5.00006 13.6951V16.25L8.33339 13.6951C10.5282 13.6951 14.2996 13.6951 16.2502 13.6951C16.9406 13.6951 17.5001 13.1354 17.5001 12.4451V5C17.5001 4.30964 16.9404 3.75 16.2501 3.75H3.75001C3.05965 3.75 2.5 4.30965 2.50001 5.00001L2.50005 12.4451C2.50005 13.1354 3.05969 13.6951 3.75005 13.6951H5.00006Z",
              fill: "none"
            })
          ),
        Wl = (e) =>
          se.createElement(
            pe.a1,
            Object.assign({ width: "12", height: "15", viewBox: "0 0 12 15" }, e),
            se.createElement("path", {
              fillRule: "evenodd",
              clipRule: "evenodd",
              d: "M0.5 0.5C0.776142 0.5 1 0.723858 1 1V2H11.5C11.7022 2 11.8845 2.12182 11.9619 2.30866C12.0393 2.4955 11.9966 2.71055 11.8536 2.85355L8.70711 6L11.8536 9.14645C11.9966 9.28945 12.0393 9.5045 11.9619 9.69134C11.8845 9.87818 11.7022 10 11.5 10H1V14.5C1 14.7761 0.776142 15 0.5 15C0.223858 15 0 14.7761 0 14.5V1C0 0.723858 0.223858 0.5 0.5 0.5ZM1 9H10.2929L7.64645 6.35355C7.45118 6.15829 7.45118 5.84171 7.64645 5.64645L10.2929 3H1V9Z",
              stroke: "none"
            })
          );
      var ql = n(36278);
      const Ql = (0, ce.xb)(ia),
        Yl = "reportMenuBtnIcon",
        Xl = (0, ye.dD)((0, ye.fx)(1.5), Yl),
        Jl = ({ title: e, name: t, label: n, buttonClass: i, onAction: r, onOpenChange: o, children: a }) => {
          const s = se.useContext(nn.N).view("flatUI"),
            l = (e) => ({ minWidth: xe.ux.rem(e ? 2 : 1.5), minHeight: xe.ux.rem(e ? 2 : 1.5), lineHeight: xe.ux.rem(e ? 2 : 1.5) });
          return se.createElement(
            Ql,
            {
              "aria-label": e,
              title: e,
              name: t,
              label: n,
              theme: s.view((e) => ({ button: i, buttonStyle: { default: Object.assign({ padding: 0 }, l(e)), icon: l(e) } })),
              onAction: r,
              onOpenChange: o
            },
            a
          );
        },
        ec = ({ reportMenuButtonClassName: e, onClickReportOffensive: t, onClickProvideFeedback: n, onOpenChange: i }) =>
          se.createElement(
            Jl,
            {
              title: "Provide feedback",
              name: "reportMenu",
              label: se.createElement(Wl, { className: xe.ux.joinClasses([Yl, xe.ux.style(Xl)]) }),
              buttonClass: e,
              onAction: (e) => {
                switch (e) {
                  case "provideFeedback":
                    return n();
                  case "reportOffensive":
                    return t();
                }
              },
              onOpenChange: i
            },
            se.createElement(
              ql.ck,
              { key: "provideFeedback", textValue: "provideFeedback" },
              se.createElement(Kl, null),
              "Share your thoughts"
            ),
            se.createElement(
              ql.ck,
              { key: "reportOffensive", textValue: "reportOffensive" },
              se.createElement(pe.JO.Report, null),
              "Report as offensive"
            )
          ),
        tc = ({ reportMenuButtonClassName: e, onClickReportOffensive: t, onClickProvideFeedback: n, onOpenChange: i, onDismiss: r }) =>
          se.createElement(
            Jl,
            {
              title: "More",
              name: "dismissReportMenu",
              label: se.createElement(pe.JO.EllipsisSmall, null),
              buttonClass: e,
              onAction: (e) => {
                switch (e) {
                  case "provideFeedback":
                    return n();
                  case "reportOffensive":
                    return t();
                  case "dismissResult":
                    return r();
                }
              },
              onOpenChange: i
            },
            se.createElement(ql.ck, { key: "dismissResult", textValue: "dismissResult" }, se.createElement(pe.JO.Ignore, null), "Delete"),
            se.createElement(ql.ck, { key: "provideFeedback", textValue: "provideFeedback" }, se.createElement(Kl, null), "Give feedback"),
            se.createElement(
              ql.ck,
              { key: "reportOffensive", textValue: "reportOffensive" },
              se.createElement(pe.JO.Report, null),
              "Report offensive content"
            )
          ),
        nc = xe.ux.keyframes({
          "0%": { backgroundPositionX: "-300px" },
          "85%": { backgroundPositionX: "600px" },
          "100%": { backgroundPositionX: "600px" }
        }),
        ic = (e) => {
          var t, n, i;
          const r = xe.ux.color(null !== (t = e.overlayGradientCenterColor) && void 0 !== t ? t : "rgba(0, 0, 0, 1)"),
            o = xe.ux.color(null !== (n = e.overlayGradientEndColor) && void 0 !== n ? n : "rgba(255, 255, 255, 0)"),
            a = `rgba(${r.red()}, ${r.green()}, ${r.blue()}, ${r.alpha()})`,
            s = `rgba(${o.red()}, ${o.green()}, ${o.blue()}, ${o.alpha()})`;
          return xe.ux.style({
            position: "absolute",
            top: 0,
            left: 0,
            bottom: 0,
            right: 0,
            pointerEvents: "none",
            mixBlendMode: null !== (i = e.overlayBlendMode) && void 0 !== i ? i : "overlay",
            background: `linear-gradient(90deg, ${s} 0px, ${a} 120px, ${a} 150px, ${a} 170px, ${s} 300px)`,
            backgroundRepeat: "no-repeat",
            backgroundPositionX: "-300px",
            backgroundSize: 1e3,
            animationDelay: "300ms",
            animationDuration: "1.5s",
            animationName: nc,
            animationTimingFunction: "linear",
            animationIterationCount: "infinite"
          });
        },
        rc = (e) => se.createElement("div", { className: ic(e) }),
        oc = r.UI.Node.make(({ view: e }) =>
          se.createElement(
            an,
            { "aria-busy": "true", "data-name": "intent-loading" },
            se.createElement(gi, null, e("header")),
            se.createElement("div", { className: ac }, se.createElement(rc, null))
          )
        ),
        ac = xe.ux.style({
          height: xe.ux.rem(0.5),
          borderRadius: xe.ux.rem(ge.W9),
          background: ve.BlueGray5,
          flexGrow: 1,
          maxWidth: xe.ux.rem(22.5),
          position: "relative",
          marginBottom: xe.ux.rem(ge.F2)
        }),
        sc = r.UI.Node.make(({ view: e, notify: t }) => {
          const n = se.useContext(nn.N).view("flatUI");
          return se.createElement(
            an,
            { style: uc, "data-name": "intent" },
            se.createElement(gi, null, e("header")),
            e("showReportMenu").pipe(
              W.U(
                (0, U.RN)(
                  se.createElement(ec, {
                    reportMenuButtonClassName: mc,
                    onClickProvideFeedback: t({ kind: b.i.Kind.openFeedbackFormButtonClick, source: wr.x.Source.intentCard }),
                    onClickReportOffensive: t({ kind: b.i.Kind.reportOffensiveActionsButtonClick }),
                    onOpenChange: (e) => t({ kind: b.i.Kind.reportMenuVisibilityChange, trigger: vt.uiItem(ie.e.intentCard), visible: e })()
                  }),
                  null
                )
              )
            ),
            se.createElement(ue.F.div, Object.assign({ className: n.view(dc) }, (0, re.E)(e("text"), [...re.ap, "person"])))
          );
        }),
        lc = r.UI.Union.make("kind", { loading: oc, loaded: sc }),
        cc = r.UI.Union.asOption(lc),
        uc = { position: "relative", gap: xe.ux.rem(ge.yC) },
        dc = (e) =>
          xe.ux.style({
            color: me.Il.Text.Base.Default,
            fontStyle: "normal",
            fontWeight: 400,
            fontSize: xe.ux.rem(e ? 0.875 : 0.75),
            lineHeight: xe.ux.rem(e ? 1.3125 : 1.125),
            fontFeatureSettings: "'ss01' on",
            $nest: {
              "& person": {
                fontWeight: 700,
                color: e ? void 0 : ve.Blue60,
                $nest: {
                  "&::before": {
                    content: "''",
                    display: "inline-block",
                    width: xe.ux.rem(e ? 1.25 : 1),
                    height: xe.ux.rem(e ? 1.25 : 1),
                    marginRight: e ? xe.ux.rem(ge.yC) : void 0,
                    backgroundSize: "cover",
                    verticalAlign: "text-bottom",
                    backgroundRepeat: "no-repeat",
                    backgroundPosition: "center",
                    backgroundImage: `url('data:image/svg+xml;utf8,${encodeURIComponent(
                      `<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.95768 3.00512C8.95983 3.00512 9.7855 3.83575 9.7855 4.8769V6.01259C9.7855 7.05374 8.95983 7.88437 7.95768 7.88437C6.95553 7.88437 6.12986 7.05374 6.12986 6.01259V4.8769C6.12986 3.83575 6.95553 3.00512 7.95768 3.00512ZM10.5847 4.8769C10.5847 3.40916 9.41586 2.20593 7.95768 2.20593C6.4995 2.20593 5.33067 3.40916 5.33067 4.8769V6.01259C5.33067 7.48032 6.4995 8.68355 7.95768 8.68355C8.20909 8.68355 8.45189 8.64779 8.68159 8.58107C8.68635 8.65317 8.69342 8.72016 8.70392 8.78578C8.81061 9.45248 9.17662 10.0499 9.72211 10.4478C9.88673 10.5679 10.0776 10.6652 10.3757 10.8171L11.2702 11.2732C11.6108 11.4469 11.7408 11.5145 11.8477 11.5924C12.2227 11.866 12.4743 12.2767 12.5477 12.7351C12.5589 12.8055 12.5645 12.8807 12.5672 12.995H9.90666C9.68597 12.995 9.50707 13.1739 9.50707 13.3946C9.50707 13.6152 9.68597 13.7941 9.90666 13.7941H12.9694C13.19 13.7941 13.3689 13.6152 13.3689 13.3946L13.369 13.3588C13.369 13.0242 13.369 12.81 13.3368 12.6088C13.2301 11.9421 12.8641 11.3446 12.3186 10.9468C12.154 10.8267 11.9632 10.7294 11.665 10.5775C11.6546 10.5721 11.644 10.5667 11.6332 10.5612L10.7705 10.1214C10.43 9.94773 10.2999 9.88006 10.1931 9.80215C9.81805 9.52861 9.56642 9.11785 9.49307 8.65949C9.4762 8.55408 9.47217 8.43819 9.47124 8.19619C10.1462 7.71137 10.5847 6.9116 10.5847 6.01259V4.8769Z" fill="${
                        e ? ve.BlueGray60 : ve.Blue60
                      }"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7.91127 3.00512C6.90913 3.00512 6.08346 3.83575 6.08346 4.8769V6.01259C6.08346 7.05374 6.90913 7.88437 7.91127 7.88437C8.91342 7.88437 9.73909 7.05374 9.73909 6.01259V4.8769C9.73909 3.83575 8.91342 3.00512 7.91127 3.00512ZM5.28427 4.8769C5.28427 3.40916 6.45309 2.20593 7.91127 2.20593C9.36946 2.20593 10.5383 3.40916 10.5383 4.8769V6.01259C10.5383 7.48032 9.36946 8.68355 7.91127 8.68355C7.65987 8.68355 7.41706 8.64779 7.18737 8.58107C7.1826 8.65317 7.17553 8.72016 7.16503 8.78578C7.05834 9.45248 6.69233 10.0499 6.14684 10.4478C5.98222 10.5679 5.7914 10.6652 5.49326 10.8171L4.59875 11.2732C4.25818 11.4469 4.12811 11.5145 4.02129 11.5924C3.64626 11.866 3.39463 12.2767 3.32128 12.7351C3.31001 12.8055 3.30447 12.8807 3.30176 12.995H10.2779C10.4986 12.995 10.6775 13.1739 10.6775 13.3946C10.6775 13.6152 10.4986 13.7941 10.2779 13.7941H2.8996C2.67891 13.7941 2.50001 13.6152 2.50001 13.3946L2.5 13.3588C2.49996 13.0242 2.49994 12.81 2.53214 12.6088C2.63883 11.9421 3.00484 11.3446 3.55033 10.9468C3.71494 10.8267 3.90577 10.7294 4.2039 10.5775C4.21438 10.5721 4.22499 10.5667 4.23574 10.5612L5.09841 10.1214C5.43899 9.94773 5.56906 9.88006 5.67588 9.80215C6.0509 9.52861 6.30254 9.11785 6.37589 8.65949C6.39276 8.55408 6.39678 8.43819 6.39771 8.19619C5.72278 7.71137 5.28427 6.9116 5.28427 6.01259V4.8769Z" fill="${
                        e ? ve.BlueGray60 : ve.Blue60
                      }"/></svg>`
                    )}')`
                  }
                }
              }
            }
          }),
        mc = xe.ux.style({ position: "absolute", top: xe.ux.rem(ge.qp), right: xe.ux.rem(ge.qp) });
      var pc = n(31956);
      function hc(e, t) {
        var n, i;
        const [r, o] = (0, se.useState)(void 0);
        return (
          (0, se.useEffect)(() => {
            e.current && e.current.scrollWidth > e.current.clientWidth && o(t);
          }, [
            null === (n = e.current) || void 0 === n ? void 0 : n.scrollWidth,
            null === (i = e.current) || void 0 === i ? void 0 : i.clientWidth,
            t
          ]),
          r
        );
      }
      const fc = ({ title: e, url: t }) => {
          const n = se.useRef(null),
            r = hc(n, e);
          return (0, a.zG)(
            t,
            i.fold(
              () => se.createElement("span", { className: gc, title: r, ref: n }, e),
              (t) => se.createElement(pc.d, { className: gc, title: r, ref: n, href: t }, e)
            )
          );
        },
        gc = xe.ux.style({
          overflow: "hidden",
          whiteSpace: "nowrap",
          textOverflow: "ellipsis",
          textAlign: "left",
          $nest: { "&:visited": { color: "inherit" } }
        }),
        vc = r.UI.Node.make(({ view: e }) => {
          const t = se.useContext(nn.N).view("flatUI");
          return se.createElement(
            an,
            { style: t.view(yc), "data-name": "detected-references" },
            se.createElement("span", { className: bc }, "Detected references"),
            se.createElement(
              ue.F.ul,
              { className: kc },
              e("detectedReferences").pipe(
                W.U((e) =>
                  e.map(({ title: e, iconUrl: t, url: n }, i) =>
                    se.createElement(
                      "li",
                      { key: i, className: wc },
                      se.createElement("img", { src: t, className: Cc, alt: "" }),
                      se.createElement(fc, { title: e, url: n })
                    )
                  )
                )
              )
            )
          );
        }),
        xc = r.UI.Union.asOption(vc),
        yc = (e) => ({
          position: "relative",
          padding: e ? `${xe.ux.rem(ge.x)} ${xe.ux.rem(ge.mh)}` : `${xe.ux.rem(ge.F2)} ${xe.ux.rem(ge.qp)}`,
          gap: 0
        }),
        bc = xe.ux.style({
          fontSize: xe.ux.rem(ge.qp),
          lineHeight: xe.ux.rem(ge.mh + ge.yC),
          color: me.Il.Text.Base.Subdued,
          userSelect: "none"
        }),
        kc = xe.ux.style({
          fontSize: xe.ux.rem(ge.qp),
          lineHeight: xe.ux.rem(ge.mh + ge.yC),
          color: me.Il.Text.Base.Default,
          margin: 0,
          padding: 0
        }),
        wc = xe.ux.style({ height: xe.ux.rem(ge.sD), display: "flex", alignItems: "center", borderRadius: xe.ux.rem(jt.xB) }),
        Cc = xe.ux.style({ minWidth: xe.ux.rem(ge.mh), height: xe.ux.rem(ge.mh), marginRight: xe.ux.rem(ge.x) }),
        Sc = ({ count: e }) => se.createElement("div", { className: Ec }, e),
        Ec = xe.ux.style({
          display: "flex",
          alignItems: "center",
          justifyContent: "center",
          fontSize: xe.ux.rem(0.75),
          fontStyle: "normal",
          fontWeight: 700,
          lineHeight: xe.ux.rem(1.125),
          color: me.XY.Content.OnPrimary.Default,
          padding: `0 ${xe.ux.rem(ge.F2)}`,
          background: be.Z.BackgroundNeutralDefault,
          borderRadius: xe.ux.rem(jt.HP),
          border: `1px solid ${me.XY.Content.OnPrimary.Default}`
        }),
        _c = ({ title: e, titleId: t, desc: n, descId: i, ...r }) =>
          se.createElement(
            "svg",
            {
              width: 16,
              height: 16,
              viewBox: "0 0 16 16",
              fill: "none",
              xmlns: "http://www.w3.org/2000/svg",
              "aria-hidden": "true",
              stroke: "transparent",
              "aria-labelledby": t,
              "aria-describedby": i,
              ...r
            },
            n ? se.createElement("desc", { id: i }, n) : null,
            e ? se.createElement("title", { id: t }, e) : null,
            se.createElement("path", { d: "M4 5.375 8 2l4 3.375m-8 5.25L8 14l4-3.375", stroke: "#646B81", strokeLinecap: "round" })
          );
      _c.__brand = "color";
      const Ic = ({ title: e, titleId: t, desc: n, descId: i, ...r }) =>
        se.createElement(
          "svg",
          {
            width: 16,
            height: 16,
            viewBox: "0 0 16 16",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg",
            "aria-hidden": "true",
            stroke: "transparent",
            "aria-labelledby": t,
            "aria-describedby": i,
            ...r
          },
          n ? se.createElement("desc", { id: i }, n) : null,
          e ? se.createElement("title", { id: t }, e) : null,
          se.createElement("path", { d: "m5 2 3 3.176L11 2M5 14l3-3.177L11 14", stroke: "#646B81", strokeLinecap: "round" })
        );
      Ic.__brand = "color";
      const Ac = ({ children: e, style: t }) => se.createElement("i", { className: xe.ux.style(Bc, t), "aria-hidden": "true" }, e),
        Bc = {
          display: "inline-flex",
          alignItems: "center",
          justifyContent: "center",
          width: xe.ux.rem(1),
          height: xe.ux.rem(1),
          $nest: { "& > svg": { transform: "scale(calc(var(--rem)/16))" } }
        },
        Rc = ({ feedForm: e, onClick: t }) =>
          se.createElement(
            de.z,
            { variant: "tertiary", size: "small", style: Oc, onClick: t },
            "shortForm" === e
              ? se.createElement(
                  se.Fragment,
                  null,
                  se.createElement("span", { className: Uc }, "Show more"),
                  se.createElement(Ac, null, se.createElement(_c, null))
                )
              : "longForm" === e
              ? se.createElement(
                  se.Fragment,
                  null,
                  se.createElement("span", { className: Uc }, "Show less"),
                  se.createElement(Ac, null, se.createElement(Ic, null))
                )
              : (0, j.L0)(e)
          ),
        Oc = {
          default: { gap: xe.ux.rem(ge.F2), padding: xe.ux.rem(ge.F2), paddingLeft: xe.ux.rem(ge.x) },
          icon: { minHeight: xe.ux.rem(1), minWidth: xe.ux.rem(1) }
        },
        Uc = xe.ux.style({ fontSize: xe.ux.rem(0.75), lineHeight: xe.ux.rem(1.125) });
      var Tc = n(85682),
        Nc = n(4191);
      const Mc = ({ percent: e, lensId: t }) =>
          se.createElement(
            "div",
            { className: Fc(t) },
            se.createElement("div", { className: jc(t), style: { transform: `scaleX(${e})` } })
          ),
        Fc = (e) =>
          xe.ux.style({
            border: `1px solid ${Pc[e]}`,
            width: xe.ux.rem(2.5),
            height: xe.ux.rem(0.25),
            boxSizing: "border-box",
            borderRadius: xe.ux.rem(ge.yC)
          }),
        jc = (e) =>
          xe.ux.style({
            backgroundColor: Pc[e],
            border: 0,
            width: "100%",
            height: "100%",
            transformOrigin: "left",
            transition: "transform 0.2s linear"
          }),
        Pc = {
          [Nc.ji.defaultFeed]: me.Il.Background.Neutral.Default,
          [Nc.ji.lensAllSuggestionFeed]: me.Il.Background.Neutral.Default,
          [Nc.ji.lensCorrectnessFeed]: me.Il.Background.Correctness.Default,
          [Nc.ji.lensClarityFeed]: me.Il.Background.Clarity.Default,
          [Nc.ji.lensDeliveryFeed]: me.Il.Background.Delivery.Default,
          [Nc.ji.lensEngagementFeed]: me.Il.Background.Engagement.Default,
          [Nc.ji.lensStyleGuideFeed]: me.Il.Background.Neutral.Default,
          [Nc.ji.plagiarismFeed]: me.Il.Background.Plagiarism.Default
        },
        zc = (e) =>
          xe.ux.style({
            display: "grid",
            gridTemplateColumns: Array.from({ length: e })
              .map((e, t) => (t > 0 ? "1px minmax(min-content, 1fr)" : "minmax(min-content, 1fr)"))
              .join(" "),
            alignItems: "center",
            borderTop: `1px solid ${me.Il.Border.Base.Subdued}`,
            borderBottom: `1px solid ${me.Il.Border.Base.Subdued}`
          }),
        Gc = xe.ux.style({ height: "100%", borderLeft: `1px solid ${me.Il.Border.Base.Subdued}` }),
        Lc = `0 0 0 2px ${me.Il.Text.Base.Inverse}, 0 0 0 4px ${be.Z.BorderBrandDefault}`,
        Zc = {
          default: {
            display: "flex",
            flexDirection: "column",
            gap: xe.ux.rem(ge.x),
            padding: `${xe.ux.rem(0.75)} ${xe.ux.rem(0.25)} ${xe.ux.rem(0.25)} ${xe.ux.rem(0.25)}`,
            borderRadius: 0,
            color: me.Il.Text.Base.Subdued,
            fontSize: xe.ux.rem(0.75),
            lineHeight: xe.ux.rem(1.125)
          },
          hovered: { boxShadow: "none", $nest: (0, Ze.Rv)(Lc) },
          active: { boxShadow: "none", $nest: (0, Ze.Rv)(Lc) },
          selected: { boxShadow: "none", fontWeight: "bold", backgroundColor: me.Il.Background.Base.Subdued, $nest: (0, Ze.Rv)(Lc) }
        };
      var Dc = n(12444),
        Hc = n(21038),
        Vc = n(18702),
        $c = n(89572),
        Kc = n(79880);
      const Wc = (e) => {
        const t = se.useRef(null),
          n = (function (e, t) {
            switch (e) {
              case "behavior:animation:fadeIn":
                return { className: xe.ux.style(Qc(Yc, Jc(t))), direction: "in" };
              case "behavior:animation:fadeOut":
                return { className: xe.ux.style(Qc(Xc, Jc(t))), direction: "out" };
              default:
                (0, j.vE)(e);
            }
          })(e.type, e.timeCurve),
          [r, o] = se.useState("in" === n.direction ? n.className : void 0);
        return (
          se.useEffect(
            () => () => {
              var e, r, o;
              t.current &&
                ((e = t.current),
                !(
                  null !== (o = null === (r = e.shadowRoot) || void 0 === r ? void 0 : r.ownerDocument.defaultView) && void 0 !== o
                    ? o
                    : self
                ).matchMedia("(prefers-reduced-motion: reduce)").matches) &&
                (function (e, t) {
                  (0, a.zG)(
                    (0, a.bc)(
                      (0, a.zG)(
                        t,
                        i.fromPredicate((e) => "out" === e.direction)
                      ),
                      qc(e)
                    ),
                    (0, a.og)(M.g(i.option)),
                    ne.bw(([t, n]) => {
                      var r, o;
                      const s =
                          null !== (o = null === (r = e.shadowRoot) || void 0 === r ? void 0 : r.ownerDocument) && void 0 !== o
                            ? o
                            : document,
                        l = e.getBoundingClientRect(),
                        c = e.cloneNode(!0);
                      c.classList.add(t.className),
                        (c.style.position = "absolute"),
                        (c.style.top = `${l.top}px`),
                        (c.style.left = `${l.left}px`),
                        (c.style.width = `${l.width}px`),
                        (c.style.height = `${l.height}px`),
                        requestAnimationFrame(() => {
                          (0, a.zG)(
                            n.find((e) => s.contains(e)),
                            i.fromNullable,
                            ne.bw((e) => {
                              c.addEventListener("animationend", () => {
                                s.contains(c) && c.remove();
                              }),
                                e.appendChild(c);
                            })
                          );
                        });
                    })
                  );
                })(t.current, n);
            },
            [n]
          ),
          se.createElement(
            "div",
            { "data-name": "behavior-animation-wrapper", "data-animation": e.type, ref: t, className: r, onAnimationEnd: () => o(void 0) },
            e.children
          )
        );
      };
      function qc(e, t = []) {
        return (0, a.zG)(
          e.parentElement,
          i.fromNullable,
          i.chain((e) => qc(e, [...t, e])),
          i.alt(() => F.nI(t))
        );
      }
      const Qc = (e, t) => ({
          $nest: { "@media (prefers-reduced-motion: no-preference)": { animation: `${e} ${xe.ux.seconds(0.3)} ${t}` } }
        }),
        Yc = xe.ux.keyframes({ from: { opacity: 0, visibility: "hidden" }, to: { opacity: 1, visibility: "visible" } }),
        Xc = xe.ux.keyframes({ from: { opacity: 1, visibility: "visible" }, to: { opacity: 0, visibility: "hidden" } });
      function Jc(e) {
        return e.replace(/[A-Z]/g, (e) => `-${e.toLowerCase()}`);
      }
      var eu = n(46324);
      const tu = { default: { $nest: { "& span": { verticalAlign: "initial" } } } },
        nu = {
          [Kc.Kq.Left]: { default: { textAlign: "left" } },
          [Kc.Kq.Center]: { default: { textAlign: "center" } },
          [Kc.Kq.Right]: { default: { textAlign: "end" } }
        };
      function iu(e) {
        return void 0 !== e ? nu[e] : nu[Kc.Kq.Left];
      }
      function ru(e) {
        return Object.assign(
          {
            name: e.name,
            onClick: e.onClick,
            "aria-label": e.meta.label,
            "aria-describedby": e["aria-describedby"],
            title: void 0 !== e.tooltip && e.state !== Kc.BN.Disabled ? (0, eu.a3)(e.tooltip) : void 0
          },
          (function (e) {
            switch (e) {
              case Kc.BN.Enabled:
                return { disabled: !1 };
              case Kc.BN.Disabled:
                return { disabled: !0 };
              case Kc.BN.Selected:
                return { disabled: !1, active: !0 };
              case Kc.BN.Deselected:
                return { disabled: !1, active: !1 };
              case Kc.BN.Hidden:
                return { hidden: !0 };
              default:
                return (0, j.L0)(e);
            }
          })(e.state)
        );
      }
      const ou = (e) => {
          const t = (t) =>
            "known" === t.source.kind
              ? se.createElement(e.designSystem.icon[t.source.name], { key: t.source.name, backgroundColor: t.backgroundColor })
              : se.createElement(e.designSystem.image, Object.assign({ key: t.source.name, backgroundColor: t.backgroundColor }, t.source));
          return se.createElement(Sn.Consumer, null, ({ portalContainer: n }) =>
            se.createElement(
              ue.F.Fragment,
              null,
              n.view(
                i.fold(a.gn, (n) =>
                  se.createElement(
                    ta,
                    {
                      label: t(e.icon),
                      portalContainer: n,
                      placement: "bottom right",
                      theme: { button: au, item: su },
                      "aria-label": e.menu.meta.label,
                      onAction: (t) =>
                        (0, a.zG)(
                          e.menu.sections,
                          C.tS((e) => e.items),
                          C.Ew((e) => e.id === String(t)),
                          ne.bw((t) => e.onClick(t.onClickActions, t.id)())
                        ),
                      title: e.menu.meta.label
                    },
                    e.menu.sections.map((e, n) =>
                      se.createElement(
                        ql.$0,
                        { key: n, title: e.title },
                        e.items.map((e) => se.createElement(ql.ck, { key: e.id, textValue: e.id }, e.icon && t(e.icon), e.text))
                      )
                    )
                  )
                )
              )
            )
          );
        },
        au = xe.ux.style({ flexShrink: 0, alignItems: "center", justifyContent: "center", height: xe.ux.rem(2), width: xe.ux.rem(2) }),
        su = xe.ux.style({ $nest: { "& i": { height: xe.ux.rem(2), width: xe.ux.rem(2) } } });
      var lu = n(83926);
      const cu = { width: xe.ux.rem(1.5), height: xe.ux.rem(1.5), minWidth: xe.ux.rem(1.5), minHeight: xe.ux.rem(1.5) },
        uu = xe.ux.style(cu);
      function du() {
        return Object.assign(Object.assign({}, $c.k), {
          animation: Wc,
          button: Object.assign(Object.assign({}, (0, eu.ND)()), {
            primary: (e) =>
              se.createElement(
                de.z,
                Object.assign({}, ru(e), {
                  variant: "primary",
                  style: [e.verticalAlign === Kc.g$.Middle ? tu : void 0, iu(e.horizontalAlign)]
                }),
                e.text
              ),
            secondary: (e) =>
              se.createElement(
                de.z,
                Object.assign({}, ru(e), {
                  variant: "tertiary",
                  style: [e.verticalAlign === Kc.g$.Middle ? tu : void 0, iu(e.horizontalAlign)]
                }),
                e.text
              ),
            toggle: (e) => {
              const t = (e, t = 1) => `inset 0 0 0 ${t}px ${e}`,
                n = (e, n = 1) => `${t(e, n)}, 0 0 0 2px ${me.Il.Text.Base.Inverse}, 0 0 0 4px ${be.Z.BorderBrandDefault}`;
              return se.createElement(
                de.z,
                Object.assign({}, ru(e), {
                  variant: "secondary",
                  size: "small",
                  style: [
                    e.verticalAlign === Kc.g$.Middle ? tu : void 0,
                    iu(e.horizontalAlign),
                    {
                      default: {
                        boxShadow: t(me.Il.Border.Base.Subdued),
                        $nest: Object.assign(Object.assign({}, (0, Ze.Rv)(n(me.Il.Border.Base.Subdued))), {
                          "& > div > span, & > div, & > *": { color: xe.ux.important(me.Il.Text.Base.Default) }
                        })
                      },
                      hovered: {
                        backgroundColor: be.Z.ButtonBackgroundSecondaryHover,
                        boxShadow: t(be.Z.BorderBrandDefault),
                        $nest: Object.assign(Object.assign({}, (0, Ze.Rv)(n(be.Z.BorderBrandDefault))), {
                          "& > div > span, & > div, & > *": { color: xe.ux.important(be.Z.ButtonTextSecondaryHover) }
                        })
                      },
                      active: {
                        backgroundColor: be.Z.ButtonBackgroundSecondaryActive,
                        boxShadow: t(be.Z.BorderBrandDefault),
                        $nest: Object.assign(Object.assign({}, (0, Ze.Rv)(n(be.Z.BorderBrandDefault))), {
                          "& > div > span, & > div, & > *": { color: xe.ux.important(be.Z.ButtonTextSecondaryActive) }
                        })
                      },
                      selected: {
                        backgroundColor: "transparent",
                        boxShadow: t(be.Z.BorderBrandDefault, 1.5),
                        $nest: Object.assign(Object.assign({}, (0, Ze.Rv)(n(be.Z.BorderBrandDefault, 1.5))), {
                          "& > div > span, & > div, & > *": {
                            color: xe.ux.important(be.Z.ColorBrandDefault),
                            fontWeight: xe.ux.important("bold")
                          }
                        })
                      }
                    }
                  ]
                }),
                e.text
              );
            }
          }),
          icon: Object.assign(Object.assign({}, lu.y), { [Kc.Tb.More]: (e) => se.createElement(pe.JO.EllipsisSmall, { className: uu }) }),
          text: (e) =>
            $c.k.text(
              (function (e) {
                var t, n;
                if (
                  e.format.includes(Kc.SQ.Bold) &&
                  (null === (t = e.meta.label) || void 0 === t ? void 0 : t.startsWith("insert")) &&
                  e.textColor.startsWith("CoreBlue")
                )
                  return Object.assign(Object.assign({}, e), {
                    textColor: Kc.Il.CoreNeutral90,
                    outlineColor: e.format.includes(Kc.SQ.Outline) ? Kc.Il.CoreNeutral90 : e.outlineColor
                  });
                if (e.format.includes(Kc.SQ.Bold) && (null === (n = e.meta.label) || void 0 === n ? void 0 : n.startsWith("delete")))
                  return Object.assign(Object.assign({}, e), {
                    textColor: Kc.Il.CoreNeutral50,
                    outlineColor: e.format.includes(Kc.SQ.Outline) ? Kc.Il.CoreNeutral50 : e.outlineColor
                  });
                return e;
              })(e)
            ),
          dropDownMenuButton: ou,
          nativeExperimentalGBConsistencyUpsellFooter: $c.k.nativeExperimentalGBConsistencyUpsellFooter
        });
      }
      const mu = L.MW({ item: Hc.j.Item.eq, isFocused: L.vD, isFirst: L.vD, prevFocusedItemPosition: i.getEq(Dc.GK) }),
        pu = r.UI.Node.make(({ state: e, view: t, notify: n }) => {
          const { onMount: r, ref: o } = Xt.P.useElWatcher(),
            s = se.useMemo(
              () =>
                t("isFocused").pipe(
                  te.O(!1),
                  X.G(),
                  I.h(([e, t]) => !e && t),
                  E.w(() => o.pipe(J.oA, A.q(1))),
                  R.b((e) => e.scrollIntoView({ behavior: "smooth", block: "nearest" }))
                ),
              [o]
            );
          return (
            Xt.P.useSubscriptionTo(s),
            se.createElement(
              ue.F.Fragment,
              null,
              e.pipe(
                W.U(({ item: e, isFocused: t, isFirst: o }) =>
                  se.createElement(
                    se.Fragment,
                    null,
                    o ? null : se.createElement(Eu, null),
                    se.createElement(
                      "div",
                      { className: hu(t), ref: r },
                      se.createElement(Vc.P, {
                        key: `${e.id}-${t ? "expanded" : "collapsed"}`,
                        sduiRootId: e.id,
                        content: e.content,
                        designSystem: du(),
                        notify: (t, i, r) => n({ kind: "sduiNotify", sourceId: t, actions: i, scope: r, item: e })(),
                        transitions: [],
                        prevContent: i.none,
                        onAnimationEnd: a.Q1,
                        onMount: n({ kind: "mount", item: e, isFocused: t }),
                        longFormCardState: { viewKind: t ? "focused" : "collapsed" }
                      })
                    )
                  )
                )
              )
            )
          );
        }),
        hu = (e) =>
          xe.ux.style({
            padding: `${xe.ux.rem(ge.F2)} 0`,
            $nest: { "&:hover": { backgroundColor: e ? void 0 : me.Il.Background.Base.Subdued } }
          }),
        fu = xe.ux.keyframes({ from: { transform: "scaleY(1)", opacity: 1 }, to: { transform: "scaleY(0.75)", opacity: 0 } }),
        gu = {
          animation: `${xe.ux.keyframes({
            from: { transform: "scaleY(0.75)", opacity: 0 },
            to: { transform: "scaleY(1)", opacity: 1 }
          })} .2s ease-in-out`
        },
        vu = { animation: `${fu} .2s ease-in-out`, position: "absolute", width: "100%" },
        xu = xe.ux.style(Object.assign(Object.assign({}, gu), { transformOrigin: "bottom" })),
        yu = xe.ux.style(Object.assign(Object.assign({}, gu), { transformOrigin: "top" })),
        bu = xe.ux.style(Object.assign(Object.assign({}, vu), { transformOrigin: "bottom" })),
        ku = xe.ux.style(Object.assign(Object.assign({}, vu), { transformOrigin: "top" })),
        wu = r.UI.Transition.make({ collapseForward: bu, collapseBackward: ku }, { expandForward: xu, expandBackward: yu }),
        Cu = xe.ux.style({ position: "relative" }),
        Su = r.UI.Composite.make(
          r.UI.Grid.make(({ slots: e }) => se.createElement("div", { className: Cu }, e.content)),
          r.UI.Animated.make(wu, pu)
        ),
        Eu = () => se.createElement("div", { role: "separator", className: _u }),
        _u = xe.ux.style({ margin: `0 ${xe.ux.rem(ge.mh)}`, borderBottom: `1px solid ${me.Il.Border.Base.Subdued}` }),
        Iu = r.UI.List.make(C.bw, Su),
        Au = [
          {
            emptyState: {
              title: "Rooting for you.",
              description: "Suggestions will appear here.",
              illustration: se.createElement(
                () =>
                  se.createElement(
                    "svg",
                    { fill: "none", viewBox: "0 0 66 64", role: "img", "aria-hidden": !0, focusable: !1 },
                    se.createElement("path", {
                      fill: "#C6CBDE",
                      d: "M33.4 64c9.4 0 17.02-1.45 17.02-3.24 0-1.79-7.62-3.24-17.01-3.24-9.4 0-17.02 1.45-17.02 3.24 0 1.79 7.62 3.24 17.02 3.24Z"
                    }),
                    se.createElement("path", {
                      fill: "#F6DF6C",
                      stroke: "#27282E",
                      strokeLinejoin: "round",
                      strokeMiterlimit: "10",
                      d: "M36.65 61.36H28.8c-6.03 0-10.92-4.43-10.92-9.89V40.5c0-.4 30.22-.4 30.22 0v10.5c0 5.72-5.13 10.37-11.46 10.37Z"
                    }),
                    se.createElement("path", {
                      fill: "#C7EEFB",
                      stroke: "#27282E",
                      strokeLinejoin: "round",
                      strokeMiterlimit: "10",
                      d: "M33 44.13c8.35 0 15.11-1.56 15.11-3.47 0-1.92-6.76-3.48-15.1-3.48-8.36 0-15.12 1.56-15.12 3.48 0 1.91 6.76 3.47 15.11 3.47Z"
                    }),
                    se.createElement("path", {
                      fill: "#27282E",
                      d: "M45.56 42.15c-2.5.96-7.19 1.6-12.56 1.6s-10.06-.64-12.56-1.6c.7-1.38 6.05-2.45 12.56-2.45 6.5 0 11.87 1.07 12.56 2.45Z"
                    }),
                    se.createElement("path", {
                      stroke: "#27282E",
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      d: "m22.87 33.14 2.26-.62-1.98-1.25M25.35 27.2l2.18.85-.83-2.18M22.93 37.44l2.33.2-1.71 1.59M43.7 33.14l-2.26-.62 1.98-1.25M41.22 27.2l-2.17.85.82-2.18M43.64 37.44l-2.33.2 1.71 1.59"
                    }),
                    se.createElement("path", {
                      fill: "#16AC9A",
                      stroke: "#27282E",
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      d: "M41.34 31.15c-.97-3.31-4.13-5.63-8.06-5.63v0h0v0c-3.93 0-7.09 2.32-8.06 5.63-1.39 4.76.83 9.86 1.86 10.8 1.76.38 3.05.69 6.2.69 3.13 0 4.98-.4 6.2-.7 1.04-.93 3.25-6.03 1.86-10.8h0Z"
                    }),
                    se.createElement("path", {
                      stroke: "#27282E",
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      d: "M34.7 42.44c.7-1.36 2.15-4.86 2.19-8.36.03-3.36-1.46-6.84-3.38-8.46M39.03 35.02l-2.14-.94 2.14-.95"
                    }),
                    se.createElement("path", {
                      stroke: "#27282E",
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      d: "m38.56 30.08-2.33-.14 1.68-1.63M38.56 38.46l-2.33.2 1.71 1.58M31.87 42.44a20.66 20.66 0 0 1-2.2-8.36c-.03-3.4 1.5-6.91 3.45-8.52"
                    }),
                    se.createElement("path", {
                      stroke: "#27282E",
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      d: "m27.54 35.02 2.14-.94-2.14-.95M28 30.08l2.33-.14-1.67-1.63M28 38.46l2.33.2-1.71 1.58"
                    }),
                    se.createElement("path", {
                      fill: "#fff",
                      stroke: "#27282E",
                      strokeMiterlimit: "10",
                      d: "M6.9 54.28c-.07 0-.12-.06-.12-.14.11-4.3-1.36-5.85-5.66-5.97-.07 0-.12-.07-.12-.14s.06-.12.13-.12c4.3.11 5.86-1.36 5.98-5.66 0-.07.06-.12.14-.12.07 0 .12.06.12.13-.11 4.3 1.36 5.86 5.66 5.97.07 0 .12.06.12.13s-.06.12-.13.12c-4.3-.1-5.86 1.37-5.98 5.66-.01.09-.06.14-.13.14ZM59.17 37.27c-.07 0-.11-.06-.11-.13.1-4.01-1.28-5.47-5.29-5.58-.07 0-.11-.06-.11-.12 0-.07.06-.12.12-.12 4.01.1 5.47-1.27 5.58-5.28 0-.07.06-.12.13-.12s.11.06.11.13c-.1 4.01 1.27 5.47 5.29 5.57.06 0 .11.05.11.12 0 .07-.06.12-.13.12-4-.1-5.46 1.27-5.58 5.28 0 .08-.05.13-.12.13ZM46.14 22.68c-.1 0-.16-.08-.16-.18.14-5.73-1.82-7.8-7.55-7.97-.1 0-.16-.08-.16-.18 0-.1.08-.16.17-.16 5.74.15 7.81-1.82 7.98-7.55 0-.1.08-.16.17-.16.1 0 .17.08.17.18-.15 5.73 1.82 7.8 7.55 7.95.1 0 .16.09.16.18 0 .1-.08.17-.18.17-5.73-.15-7.8 1.81-7.97 7.54-.02.12-.08.18-.18.18Z"
                    })
                  ),
                null
              )
            },
            successState: {
              title: "You're on point!",
              description: "There are no more suggestions.",
              illustration: se.createElement(
                () =>
                  se.createElement(
                    "svg",
                    { fill: "none", viewBox: "0 0 64 64", role: "img", "aria-hidden": !0, focusable: !1 },
                    se.createElement(
                      "g",
                      { clipPath: "url(#SuccessA_a)" },
                      se.createElement("path", {
                        fill: "#C6CBDE",
                        d: "M32 64c9.28 0 16.8-1.43 16.8-3.2 0-1.77-7.52-3.2-16.8-3.2-9.28 0-16.8 1.43-16.8 3.2 0 1.77 7.52 3.2 16.8 3.2Z"
                      }),
                      se.createElement("path", {
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        d: "M44.08 7.6h-3.24L43 5.2M42.93 36.13l-2.59-1.95 3.2-.6M46.3 17.13l-3.13-.84 2.73-1.75M45.14 26.65l-2.73-1.74 3.13-.85M19.12 7.6h3.24L20.2 5.2M20.27 36.13l2.59-1.95-3.19-.6M16.9 17.13l3.13-.84-2.73-1.75M18.06 26.65l2.73-1.74-3.13-.85"
                      }),
                      se.createElement("path", {
                        fill: "#F6DF6C",
                        stroke: "#0E101A",
                        strokeLinejoin: "round",
                        strokeMiterlimit: "10",
                        d: "M35.2 61.4h-7.73c-5.96 0-10.8-4.38-10.8-9.77V40.78c0-.4 29.86-.4 29.86 0v10.36c0 5.66-5.07 10.25-11.33 10.25Z"
                      }),
                      se.createElement("path", {
                        fill: "#C7EEFB",
                        stroke: "#0E101A",
                        strokeLinejoin: "round",
                        strokeMiterlimit: "10",
                        d: "M31.6 44.38c8.24 0 14.93-1.54 14.93-3.43 0-1.9-6.69-3.43-14.93-3.43-8.24 0-14.92 1.53-14.92 3.43 0 1.9 6.68 3.43 14.92 3.43Z"
                      }),
                      se.createElement("path", {
                        fill: "#0E101A",
                        d: "M44 42.43c-2.47.94-7.1 1.57-12.4 1.57-5.3 0-9.93-.63-12.4-1.57.68-1.37 5.98-2.43 12.4-2.43s11.72 1.06 12.4 2.43Z"
                      }),
                      se.createElement("path", {
                        fill: "#15C39A",
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        d: "M31.6 2.41v.01h0c-22.5 0-6.52 39.78-6.52 39.78s2.2.86 6.52.86c4.32 0 6.52-.86 6.52-.86S54.1 2.41 31.6 2.41h0Z"
                      }),
                      se.createElement("path", {
                        fill: "#F18AB2",
                        stroke: "#0E101A",
                        strokeLinejoin: "round",
                        strokeMiterlimit: "10",
                        d: "M12 7.25s2.8-1.38 5.22-.87c-1.36-2.06-1.11-5.1-1.11-5.1 5.32 2.17 4.15 7.14 4.15 7.14s-5.76 2.26-3.56.81A6.82 6.82 0 0 1 12 7.25Z"
                      }),
                      se.createElement("path", {
                        fill: "#F18AB2",
                        stroke: "#0E101A",
                        strokeLinejoin: "round",
                        strokeMiterlimit: "10",
                        d: "M13.79 4.5s2.6-.32 4.67 1.02A7.77 7.77 0 0 1 19.17.8c4.17 3.95 1.56 7.99 1.56 7.99s-2.34 4.21-7.8 2.4c0 0 1.6-2.38 4.18-2.93A6.92 6.92 0 0 1 13.8 4.5Z"
                      }),
                      se.createElement("path", {
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        d: "M33.26 42.98s8.41-38.16-1.68-40.57"
                      }),
                      se.createElement("path", {
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        d: "m39.15 28.43-2.81-1.6 3.08-1M37.54 37.9l-2.56-2 3.2-.54M39.48 9.37l-3.2-.56 2.57-1.98M40.03 18.9l-3.11-.91 2.77-1.7M29.94 42.98S21.53 4.82 31.63 2.41"
                      }),
                      se.createElement("path", {
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        d: "m24.05 28.43 2.82-1.6-3.09-1M25.66 37.9l2.56-2-3.2-.54M23.72 9.37l3.2-.56-2.57-1.98M23.17 18.9l3.11-.91-2.77-1.7"
                      }),
                      se.createElement("path", {
                        fill: "#fff",
                        stroke: "#0E101A",
                        strokeMiterlimit: "10",
                        d: "M56.62 39.2c-.08 0-.13-.06-.13-.14.12-4.53-1.43-6.17-5.96-6.3-.08 0-.13-.06-.13-.14 0-.08.06-.13.14-.13 4.53.12 6.17-1.43 6.3-5.96 0-.08.06-.13.14-.13.08 0 .13.06.13.14-.12 4.53 1.43 6.17 5.96 6.29.08 0 .13.06.13.14 0 .07-.06.12-.14.12-4.53-.11-6.17 1.44-6.3 5.97-.01.09-.06.14-.14.14ZM6.24 24c-.06 0-.1-.06-.1-.12.1-3.96-1.27-5.4-5.23-5.51-.07 0-.11-.06-.11-.13 0-.06.06-.1.12-.1 3.97.1 5.4-1.27 5.51-5.23 0-.07.06-.11.13-.11.06 0 .1.06.1.12-.1 3.97 1.27 5.4 5.23 5.5.07 0 .11.06.11.13 0 .06-.06.1-.12.1-3.96-.1-5.4 1.27-5.51 5.23-.01.08-.06.12-.13.12Z"
                      })
                    ),
                    se.createElement(
                      "defs",
                      null,
                      se.createElement("clipPath", { id: "SuccessA_a" }, se.createElement("path", { fill: "#fff", d: "M0 0h64v64H0z" }))
                    )
                  ),
                null
              )
            }
          },
          {
            emptyState: {
              title: "You got this.",
              description: "Suggestions will appear here.",
              illustration: se.createElement(
                () =>
                  se.createElement(
                    "svg",
                    { fill: "none", viewBox: "0 0 64 64", role: "img", "aria-hidden": !0, focusable: !1 },
                    se.createElement("path", {
                      fill: "#AAF2E1",
                      stroke: "#0E101A",
                      strokeLinejoin: "round",
                      d: "M12.8 46.4 32.8.8l20 45.6V62h-40V46.4Z"
                    }),
                    se.createElement("path", { stroke: "#0E101A", strokeLinejoin: "round", d: "m12.8 46.4 20-13.2 20 13.2" }),
                    se.createElement("path", {
                      fill: "#0E101A",
                      fillRule: "evenodd",
                      d: "M32.4 4.76V1.6h.8v3.16h-.8Zm0 6.31V7.92h.8v3.15h-.8Zm0 6.32v-3.16h.8v3.16h-.8Zm0 6.32v-3.16h.8v3.16h-.8Zm0 6.31v-3.16h.8v3.16h-.8Zm0 6.32v-3.16h.8v3.16h-.8Zm0 6.31V39.5h.8v3.16h-.8Zm0 6.32V45.8h.8v3.16h-.8Zm0 6.31v-3.15h.8v3.15h-.8Zm0 6.32v-3.16h.8v3.16h-.8Z",
                      clipRule: "evenodd"
                    }),
                    se.createElement("path", {
                      stroke: "#000",
                      strokeLinecap: "round",
                      d: "M10 33.6C5.2 34.8-2.4 42 2.8 48.8c5.2 6.8 16.8 4.5 21.2.89"
                    }),
                    se.createElement("path", {
                      fill: "#000",
                      fillRule: "evenodd",
                      d: "M10.4 33.05c.21.08.31.3.23.51l-1.3 3.36a.4.4 0 0 1-.75-.3l1.16-2.97-2.98-1.17a.4.4 0 0 1 .29-.74l3.35 1.3Z",
                      clipRule: "evenodd"
                    })
                  ),
                null
              )
            },
            successState: {
              title: "Well, this is shaping up!",
              description: "There are no more suggestions.",
              illustration: se.createElement(
                () =>
                  se.createElement(
                    "svg",
                    { fill: "none", viewBox: "0 0 64 64", role: "img", "aria-hidden": !0, focusable: !1 },
                    se.createElement(
                      "g",
                      { clipPath: "url(#SuccessB_a)" },
                      se.createElement("path", {
                        fill: "#87E8D1",
                        stroke: "#0E101A",
                        strokeLinejoin: "round",
                        d: "m18 34-3.4-10.67L59.41 1.49 18 34Z"
                      }),
                      se.createElement("path", {
                        fill: "#D7F7F0",
                        stroke: "#0E101A",
                        strokeLinejoin: "round",
                        d: "M24.25 24.7 60.8.8l-20.23 40-16.32-16.1ZM2.4 19.42 60.8.8 14.6 23.33l-12.2-3.9Z"
                      }),
                      se.createElement("path", {
                        fill: "#15C39A",
                        stroke: "#0E101A",
                        strokeLinejoin: "round",
                        d: "m28.62 29.08-4.37-4.37L18 34l10.62-4.92Z"
                      }),
                      se.createElement("path", {
                        fill: "#FBEFB7",
                        stroke: "#0E101A",
                        strokeMiterlimit: "10",
                        d: "M25.4 52c-.09 0-.15-.07-.15-.16.13-5.1-1.61-6.94-6.7-7.08-.1 0-.15-.08-.15-.16 0-.09.07-.15.16-.15 5.1.13 6.94-1.61 7.08-6.7 0-.1.08-.15.16-.15.09 0 .15.07.15.16-.13 5.1 1.61 6.94 6.7 7.07.1 0 .15.07.15.16 0 .08-.07.14-.16.14-5.1-.13-6.94 1.62-7.08 6.71-.02.1-.08.16-.16.16ZM57.44 39.2c-.06 0-.1-.06-.1-.12.1-3.96-1.27-5.4-5.23-5.51-.07 0-.11-.06-.11-.13 0-.06.06-.1.12-.1 3.97.1 5.4-1.27 5.51-5.23 0-.07.06-.11.13-.11.06 0 .1.06.1.12-.1 3.96 1.27 5.4 5.23 5.5.07 0 .11.06.11.13 0 .06-.06.1-.12.1-3.96-.1-5.4 1.27-5.51 5.23-.01.08-.06.12-.13.12ZM11.45 11.2c-.06 0-.1-.05-.1-.11.1-3.68-1.17-5.02-4.85-5.12-.06 0-.1-.05-.1-.12 0-.06.05-.1.11-.1 3.68.1 5.02-1.17 5.12-4.85 0-.06.05-.1.12-.1.06 0 .1.05.1.11-.1 3.68 1.17 5.02 4.85 5.11.06 0 .1.05.1.12 0 .06-.05.1-.11.1-3.68-.1-5.02 1.17-5.12 4.85-.01.07-.05.11-.12.11Z"
                      }),
                      se.createElement("path", {
                        stroke: "#000",
                        strokeDasharray: "4 5",
                        strokeLinecap: "square",
                        d: "M10.4 31.2c-4.8 2-14.64 14.4-6 23.2 8.64 8.8 44.8-2 58 8.8"
                      })
                    ),
                    se.createElement(
                      "defs",
                      null,
                      se.createElement("clipPath", { id: "SuccessB_a" }, se.createElement("path", { fill: "#fff", d: "M0 0h64v64H0z" }))
                    )
                  ),
                null
              )
            }
          },
          {
            emptyState: {
              title: "Nothing to see yet.",
              description: "Suggestions will appear here.",
              illustration: se.createElement(
                () =>
                  se.createElement(
                    "svg",
                    { fill: "none", viewBox: "0 0 64 64", role: "img", "aria-hidden": !0, focusable: !1 },
                    se.createElement(
                      "g",
                      { clipPath: "url(#EmptyC_a)" },
                      se.createElement("path", {
                        fill: "#F9C7C7",
                        stroke: "#0E101A",
                        strokeMiterlimit: "10",
                        d: "m29.48 18.98-3.27 21.53-22.38-9.64L18.9 14.03a6.1 6.1 0 0 1 10.58 4.95Z"
                      }),
                      se.createElement("path", {
                        fill: "#F28C8C",
                        stroke: "#0E101A",
                        strokeMiterlimit: "10",
                        d: "M13.54 51.78c7.04 0 12.75-5.68 12.75-12.69 0-7-5.7-12.69-12.75-12.69A12.72 12.72 0 0 0 .8 39.09c0 7 5.7 12.7 12.74 12.7Z"
                      }),
                      se.createElement("path", {
                        fill: "#8ECBDE",
                        stroke: "#0E101A",
                        d: "M13.54 48.59a9.52 9.52 0 0 0 9.54-9.5c0-5.25-4.27-9.5-9.54-9.5A9.52 9.52 0 0 0 4 39.09c0 5.25 4.28 9.5 9.54 9.5Z"
                      }),
                      se.createElement("path", {
                        stroke: "#0E101A",
                        d: "M13.54 48.59a9.52 9.52 0 0 0 9.54-9.5c0-5.25-4.27-9.5-9.54-9.5A9.52 9.52 0 0 0 4 39.09c0 5.25 4.28 9.5 9.54 9.5Z"
                      }),
                      se.createElement("path", {
                        fill: "#DDEFF5",
                        d: "M20.7 45.37a9.51 9.51 0 0 1-5.1 3l-9.88-14.7a9.57 9.57 0 0 1 4.72-3.56L20.7 45.37Z"
                      }),
                      se.createElement("path", {
                        stroke: "#0E101A",
                        strokeMiterlimit: "10",
                        d: "M13.54 48.59a9.52 9.52 0 0 0 9.54-9.5c0-5.25-4.27-9.5-9.54-9.5A9.52 9.52 0 0 0 4 39.09c0 5.25 4.28 9.5 9.54 9.5Z"
                      }),
                      se.createElement("path", {
                        fill: "#F9C7C7",
                        stroke: "#0E101A",
                        strokeMiterlimit: "10",
                        d: "m34.52 18.98 3.27 21.53 22.38-9.64L45.1 14.03a6.1 6.1 0 0 0-10.58 4.95Z"
                      }),
                      se.createElement("path", {
                        fill: "#F28C8C",
                        stroke: "#0E101A",
                        strokeMiterlimit: "10",
                        d: "M50.46 51.78c7.03 0 12.74-5.68 12.74-12.69 0-7-5.7-12.69-12.74-12.69A12.72 12.72 0 0 0 37.7 39.09c0 7 5.7 12.7 12.75 12.7Z"
                      }),
                      se.createElement("path", {
                        fill: "#8ECBDE",
                        stroke: "#0E101A",
                        d: "M50.46 48.59a9.52 9.52 0 0 0 9.54-9.5c0-5.25-4.28-9.5-9.54-9.5a9.52 9.52 0 0 0-9.54 9.5c0 5.25 4.27 9.5 9.54 9.5Z"
                      }),
                      se.createElement("path", {
                        stroke: "#0E101A",
                        d: "M50.46 48.59a9.52 9.52 0 0 0 9.54-9.5c0-5.25-4.28-9.5-9.54-9.5a9.52 9.52 0 0 0-9.54 9.5c0 5.25 4.27 9.5 9.54 9.5Z"
                      }),
                      se.createElement("path", {
                        fill: "#DDEFF5",
                        d: "M57.61 45.37a9.51 9.51 0 0 1-5.1 3l-9.88-14.7a9.57 9.57 0 0 1 4.72-3.56l10.26 15.26Z"
                      }),
                      se.createElement("path", {
                        stroke: "#0E101A",
                        strokeMiterlimit: "10",
                        d: "M50.46 48.59a9.52 9.52 0 0 0 9.54-9.5c0-5.25-4.28-9.5-9.54-9.5a9.52 9.52 0 0 0-9.54 9.5c0 5.25 4.27 9.5 9.54 9.5Z"
                      }),
                      se.createElement("path", {
                        fill: "#F9C7C7",
                        stroke: "#0E101A",
                        strokeMiterlimit: "10",
                        d: "M36.4 31.35h-8.8l1.25-8.24a3.17 3.17 0 0 1 3.15-2.7 3.2 3.2 0 0 1 3.15 2.7l1.25 8.24Z"
                      }),
                      se.createElement("path", {
                        fill: "#F28C8C",
                        stroke: "#0E101A",
                        strokeMiterlimit: "10",
                        d: "M32 36.18a4.57 4.57 0 1 0 .02-9.13 4.57 4.57 0 0 0-.02 9.13Z"
                      }),
                      se.createElement("path", {
                        fill: "#0E101A",
                        stroke: "#0E101A",
                        strokeMiterlimit: "10",
                        d: "M32 33.22a1.6 1.6 0 1 0 0-3.2 1.6 1.6 0 0 0 0 3.2Z"
                      }),
                      se.createElement("path", {
                        fill: "#87E8D1",
                        stroke: "#0E101A",
                        strokeLinejoin: "round",
                        d: "M61.64 2.7c-2.8.62-9.61 2.33-7.74 11.68 2.8.3 11.21-2.34 7.74-11.69Z"
                      }),
                      se.createElement("path", { stroke: "#0E101A", strokeLinejoin: "round", d: "M56.7 10.64 63.2.4" }),
                      se.createElement("path", {
                        fill: "#87E8D1",
                        stroke: "#0E101A",
                        strokeLinejoin: "round",
                        d: "M6.44 10.94c-1.9 5.36-.2 10.75 12.3 9.39 0-2.26-3.44-10.28-12.3-9.39Z"
                      }),
                      se.createElement("path", { stroke: "#0E101A", strokeLinejoin: "round", d: "M15.3 17.14 2.9 8.72" }),
                      se.createElement("path", {
                        fill: "#87E8D1",
                        stroke: "#0E101A",
                        strokeLinejoin: "round",
                        d: "M36.58 61.7c-.65-4.37-3.42-8.63-12.94-9.48.38 4.98 2.53 12.23 12.94 9.48Z"
                      }),
                      se.createElement("path", { stroke: "#0E101A", strokeLinejoin: "round", d: "m27.5 55.34 12.16 8.22" })
                    ),
                    se.createElement(
                      "defs",
                      null,
                      se.createElement("clipPath", { id: "EmptyC_a" }, se.createElement("path", { fill: "#fff", d: "M0 0h64v64H0z" }))
                    )
                  ),
                null
              )
            },
            successState: {
              title: "Look at that!",
              description: "There are no more suggestions.",
              illustration: se.createElement(
                () =>
                  se.createElement(
                    "svg",
                    { fill: "none", viewBox: "0 0 64 64", role: "img", "aria-hidden": !0, focusable: !1 },
                    se.createElement("path", {
                      fill: "#F28C8C",
                      fillRule: "evenodd",
                      d: "M1.78 43.26a1.94 1.94 0 0 0 1.5 2.9l35.87 3.6-15.29 7.45a1.43 1.43 0 0 0 1 2.65l30.56-8.46 7.78.79V41.83l-59.74.45c-.7 0-1.33.38-1.68.98Z",
                      clipRule: "evenodd"
                    }),
                    se.createElement("path", {
                      fill: "#0E101A",
                      d: "m3.28 46.15.05-.5-.05.5Zm-1.5-2.89-.43-.24.43.24Zm37.37 6.5.22.45 1.59-.77-1.76-.17-.05.5Zm-15.29 7.45.22.45-.22-.45Zm1 2.65-.13-.48.14.48Zm30.56-8.46.05-.5h-.09l-.1.02.14.48Zm7.78.79-.05.5.55.05v-.55h-.5Zm0-10.36h.5v-.5h-.5v.5Zm-59.74.45v-.5.5Zm-.13 3.37a1.44 1.44 0 0 1-1.11-2.14l-.87-.5a2.44 2.44 0 0 0 1.88 3.64l.1-1Zm35.87 3.62L3.33 45.65l-.1 1 35.87 3.61.1-1Zm-15.12 8.39 15.3-7.45-.45-.9-15.29 7.45.44.9Zm-.52.83c0-.36.2-.68.52-.83l-.44-.9c-.66.32-1.08 1-1.08 1.73h1Zm1.17.9a.93.93 0 0 1-1.17-.9h-1c0 1.27 1.21 2.2 2.44 1.85l-.27-.96Zm30.56-8.47-30.56 8.46.27.96 30.56-8.46-.27-.96Zm7.96.77-7.78-.78-.1.99 7.78.78.1-1Zm-.55-9.86v10.36h1V41.83h-1Zm-59.24.95 59.74-.45v-1l-59.74.45v1Zm-1.24.73c.25-.45.73-.73 1.24-.73v-1c-.88 0-1.68.48-2.11 1.24l.87.49Z"
                    }),
                    se.createElement("path", {
                      fill: "#87E8D1",
                      fillRule: "evenodd",
                      d: "M19.9 46.88a3.14 3.14 0 1 1 .97 5.86 3.67 3.67 0 0 1-7.05-.92 3.3 3.3 0 0 1-4.75-2.94 3.3 3.3 0 0 1 5.2-2.75 2.93 2.93 0 0 1 5.63.75Z",
                      clipRule: "evenodd"
                    }),
                    se.createElement("path", {
                      fill: "#0E101A",
                      d: "m19.9 46.88-.5.06a.5.5 0 0 0 .74.38l-.24-.44Zm1.44-.36v-.5.5Zm3.17 3.1.5-.01h-.5Zm-3.1 3.17.01.5v-.5Zm-.54-.04.08-.5a.5.5 0 0 0-.54.3l.46.2Zm-3.36 2.28v.5-.5Zm-3.69-3.21.5-.06a.5.5 0 0 0-.72-.4l.22.46Zm-1.4.33-.01-.5v.5Zm-3.35-3.27h.5-.5Zm3.26-3.35v-.5.5Zm1.94.6-.28.41a.5.5 0 0 0 .75-.22l-.47-.19Zm2.69-1.85v.5-.5Zm3.18 3.04c.36-.19.77-.3 1.2-.3v-1c-.6 0-1.18.16-1.67.42l.47.88Zm1.2-.3a2.64 2.64 0 0 1 2.67 2.6l1-.01a3.64 3.64 0 0 0-3.68-3.6l.01 1Zm2.67 2.6a2.64 2.64 0 0 1-2.6 2.67l.01 1c2.01-.03 3.62-1.68 3.6-3.68h-1Zm-2.6 2.67c-.16 0-.31-.01-.46-.04l-.16.99c.2.03.42.05.63.05l-.01-1Zm-1 .27a3.17 3.17 0 0 1-2.9 1.97v1a4.17 4.17 0 0 0 3.82-2.6l-.92-.37Zm-2.9 1.97c-1.64.02-3-1.2-3.2-2.77l-.98.12a4.17 4.17 0 0 0 4.19 3.65l-.01-1Zm-3.9-3.16a2.8 2.8 0 0 1-1.2.28l.01 1a3.8 3.8 0 0 0 1.62-.38l-.44-.9Zm-1.2.28a2.8 2.8 0 0 1-2.84-2.77h-1a3.8 3.8 0 0 0 3.85 3.77l-.01-1Zm-2.84-2.77a2.8 2.8 0 0 1 2.77-2.85l-.01-1a3.8 3.8 0 0 0-3.76 3.86l1-.01Zm2.77-2.85c.61 0 1.18.18 1.65.51l.57-.82a3.8 3.8 0 0 0-2.23-.69l.01 1Zm2.4.29a2.43 2.43 0 0 1 2.23-1.54l-.02-1a3.43 3.43 0 0 0-3.14 2.17l.93.37Zm2.23-1.54c1.25-.02 2.3.93 2.44 2.16l.99-.11a3.42 3.42 0 0 0-3.45-3.05l.02 1Z"
                    }),
                    se.createElement("path", {
                      fill: "#87E8D1",
                      fillRule: "evenodd",
                      d: "M56 53.2a3.6 3.6 0 0 1-2.36 3.38 3.6 3.6 0 1 1-5.84 4.2 3.6 3.6 0 0 1-6.96-.62 3.6 3.6 0 1 1 .05-5.9 4.8 4.8 0 0 1 8.16-2.4A3.6 3.6 0 0 1 56 53.2Z",
                      clipRule: "evenodd"
                    }),
                    se.createElement("path", {
                      fill: "#0E101A",
                      d: "m53.64 56.58-.18-.47a.5.5 0 0 0-.22.78l.4-.3Zm-5.84 4.2.42-.27a.5.5 0 0 0-.9.11l.48.17Zm-6.96-.62.5-.07a.5.5 0 0 0-.78-.34l.28.41Zm.05-5.9-.29.42a.5.5 0 0 0 .78-.31l-.49-.1Zm8.16-2.4-.36.35a.5.5 0 0 0 .83-.16l-.47-.18Zm4.76 5.2a4.1 4.1 0 0 0 2.69-3.86h-1a3.1 3.1 0 0 1-2.04 2.91l.35.94Zm1.09 1.74c0-.95-.33-1.83-.87-2.53l-.79.62c.41.53.66 1.19.66 1.91h1Zm-4.1 4.1a4.1 4.1 0 0 0 4.1-4.1h-1a3.1 3.1 0 0 1-3.1 3.1v1Zm-3.42-1.83a4.1 4.1 0 0 0 3.42 1.83v-1a3.1 3.1 0 0 1-2.58-1.39l-.84.56Zm-.05-.45a3.1 3.1 0 0 1-2.93 2.08v1a4.1 4.1 0 0 0 3.87-2.75l-.94-.33ZM44.4 62.7a3.1 3.1 0 0 1-3.06-2.61l-.99.15a4.1 4.1 0 0 0 4.05 3.46v-1Zm-5.6-1.4c.86 0 1.67-.27 2.33-.72l-.57-.83c-.5.35-1.1.55-1.76.55v1Zm-4.1-4.1a4.1 4.1 0 0 0 4.1 4.1v-1a3.1 3.1 0 0 1-3.1-3.1h-1Zm4.1-4.1a4.1 4.1 0 0 0-4.1 4.1h1a3.1 3.1 0 0 1 3.1-3.1v-1Zm2.38.76a4.08 4.08 0 0 0-2.38-.76v1c.67 0 1.3.21 1.8.58l.58-.82Zm4.42-3.96a5.3 5.3 0 0 0-5.2 4.27l.98.2a4.3 4.3 0 0 1 4.22-3.47v-1Zm3.81 1.62a5.29 5.29 0 0 0-3.81-1.62v1c1.22 0 2.31.5 3.1 1.31l.71-.69Zm2.99-2.42a4.1 4.1 0 0 0-3.81 2.58l.93.37a3.1 3.1 0 0 1 2.88-1.95v-1Zm4.1 4.1a4.1 4.1 0 0 0-4.1-4.1v1a3.1 3.1 0 0 1 3.1 3.1h1Z"
                    }),
                    se.createElement("path", {
                      fill: "url(#SuccessC_a)",
                      stroke: "#0E101A",
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      d: "M25.88 3.04a7.45 7.45 0 0 0-12.77 5.2v13.8c0 7.54 6.84 13.23 14.25 11.86l15.29-2.83 4.37 4.37H57.6L25.88 3.04Z"
                    }),
                    se.createElement("path", {
                      fill: "url(#SuccessC_b)",
                      fillRule: "evenodd",
                      d: "M13.1 16.86v5.16c0 7.54 6.87 13.23 14.28 11.83l.45-.08c.44-.73.68-1.6.66-2.64a9.05 9.05 0 0 0-2.66-6.23l-5.92-5.92a7.65 7.65 0 0 0-6.8-2.12Z",
                      clipRule: "evenodd"
                    }),
                    se.createElement("path", {
                      fill: "#0E101A",
                      d: "M13.1 16.86h-.5c0-.2.13-.37.3-.45l.2.45Zm14.28 17 .1.48-.1-.49Zm.45-.1.43.27a.5.5 0 0 1-.34.23l-.1-.5Zm.66-2.63h.5-.5Zm-2.66-6.23-.36.35.36-.35Zm-5.92-5.92.36-.35-.36.35Zm-6.8-2.12-.2-.45a.5.5 0 0 1 .11-.04l.09.5Zm.5 0v5.16h-1v-5.16h1Zm0 5.16c0 7.23 6.57 12.68 13.68 11.34l.18.98a12.54 12.54 0 0 1-14.86-12.32h1Zm13.68 11.34.45-.08.18.98-.45.08-.18-.98Zm.11.15c.39-.64.6-1.42.59-2.37l1-.02a5.3 5.3 0 0 1-.73 2.9l-.86-.51Zm.59-2.37a8.55 8.55 0 0 0-2.52-5.89l.71-.7a9.55 9.55 0 0 1 2.8 6.57l-1 .02Zm-2.52-5.89-5.91-5.92.7-.7 5.92 5.91-.7.71Zm-5.91-5.92a7.15 7.15 0 0 0-6.36-1.98l-.18-.98a8.15 8.15 0 0 1 7.25 2.26l-.71.7Zm-6.25-2.01-.4-.91.4.91Z"
                    }),
                    se.createElement("path", {
                      stroke: "#0E101A",
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      d: "M23.86 41.85 28 33.62M29.96 41.85l4.88-9.35M24.41 13.1c0 7.65 7.19 13.26 14.6 11.4l5.83-1.82"
                    }),
                    se.createElement("path", {
                      fill: "#F28C8C",
                      stroke: "#0E101A",
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      d: "m13.11 6.93-5.84 3.72 5.84 3.71V6.93Z"
                    }),
                    se.createElement("circle", {
                      cx: "1.09",
                      cy: "1.09",
                      r: "1.09",
                      fill: "#0E101A",
                      transform: "matrix(-1 0 0 1 19.67 6.27)"
                    }),
                    se.createElement(
                      "defs",
                      null,
                      se.createElement(
                        "radialGradient",
                        {
                          id: "SuccessC_b",
                          cx: "0",
                          cy: "0",
                          r: "1",
                          gradientTransform: "matrix(8 -9 8 7 13.6 32.4)",
                          gradientUnits: "userSpaceOnUse"
                        },
                        se.createElement("stop", { stopColor: "#F3F8E5" }),
                        se.createElement("stop", { offset: "1", stopColor: "#D7E8A9" })
                      ),
                      se.createElement(
                        "linearGradient",
                        { id: "SuccessC_a", x1: "16.14", x2: "55.97", y1: ".8", y2: "36.57", gradientUnits: "userSpaceOnUse" },
                        se.createElement("stop", { stopColor: "#D7E8A9" }),
                        se.createElement("stop", { offset: ".38", stopColor: "#87E8D1" }),
                        se.createElement("stop", { offset: ".89", stopColor: "#79A8F2" })
                      )
                    )
                  ),
                null
              )
            }
          },
          {
            emptyState: {
              title: "The first word is the hardest.",
              description: "Suggestions will appear here.",
              illustration: se.createElement(
                () =>
                  se.createElement(
                    "svg",
                    { fill: "none", viewBox: "0 0 79 64", role: "img", "aria-hidden": !0, focusable: !1 },
                    se.createElement("path", {
                      fill: "#C6CBDE",
                      d: "M28.4 63.2c8.62 0 15.6-1.8 15.6-4s-6.98-4-15.6-4-15.6 1.8-15.6 4 6.98 4 15.6 4Z"
                    }),
                    se.createElement("path", {
                      fill: "#638EEB",
                      stroke: "#0E101A",
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeMiterlimit: "10",
                      d: "M41.19 56.6a.58.58 0 0 0 0-.25v-3.53h-2.67c-2.3-.84-5.78 0-9.72 0-3.94 0-7.45-.86-9.72 0H16.4v4.7c.43 1.9 5.83 3.4 12.4 3.4s11.95-1.5 12.39-3.4v-.93Z"
                    }),
                    se.createElement("path", {
                      fill: "#8ECBDE",
                      stroke: "#0E101A",
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeMiterlimit: "10",
                      d: "M28.8 56.25c6.85 0 12.4-1.63 12.4-3.64 0-2-5.55-3.64-12.4-3.64-6.85 0-12.4 1.63-12.4 3.64 0 2.01 5.55 3.64 12.4 3.64Z"
                    }),
                    se.createElement("path", {
                      fill: "#8ECBDE",
                      d: "M41.17 52.74v-1.5a2.25 2.25 0 0 0-2.23-2.3h-.09a.98.98 0 0 1-.95-.98v-.35H19.7v.35a.98.98 0 0 1-.96.98h-.07a2.25 2.25 0 0 0-2.24 2.3v1.5"
                    }),
                    se.createElement("path", {
                      stroke: "#0E101A",
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeMiterlimit: "10",
                      d: "M41.17 52.74v-1.5a2.25 2.25 0 0 0-2.23-2.3h-.09a.98.98 0 0 1-.95-.98v-.35H19.7v.35a.98.98 0 0 1-.96.98h-.07a2.25 2.25 0 0 0-2.24 2.3v1.5"
                    }),
                    se.createElement("path", {
                      fill: "#99C2FF",
                      stroke: "#0E101A",
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeMiterlimit: "10",
                      d: "M38.1 47.22V44.4h-2.01c-1.7-.63-4.34 0-7.29 0s-5.59-.65-7.3 0H19.5v2.94h.02c.32 1.43 4.35 2.55 9.28 2.55 4.92 0 8.95-1.12 9.27-2.55l.03-.1Z"
                    }),
                    se.createElement("path", {
                      fill: "#DBEBFF",
                      stroke: "#0E101A",
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      d: "M28.8 46.97c5.14 0 9.3-1.22 9.3-2.73s-4.16-2.74-9.3-2.74c-5.14 0-9.3 1.23-9.3 2.74 0 1.5 4.16 2.73 9.3 2.73Z"
                    }),
                    se.createElement("path", {
                      fill: "#0E101A",
                      d: "M28.8 45.64c3.85 0 6.97-.66 6.97-1.48s-3.12-1.48-6.97-1.48c-3.85 0-6.97.66-6.97 1.48s3.12 1.48 6.97 1.48Z"
                    }),
                    se.createElement("path", {
                      fill: "#FBEFB7",
                      stroke: "#0E101A",
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      d: "M65.02 4.06c-1.83.69-3.5 1.34-5.03 2l-3.54 5.07.7-3.8c-7.41 3.5-11.69 7.17-17.58 13.7-5.5 6.11-6.19 14.68-6.19 14.68l10.55-2.27-2.86-1.36 4.46.1a159.72 159.72 0 0 1 17.7-13.15l-4.18-1.93 7.18.04 4.55-2.75L77.83 5l-12.81-.94Z"
                    }),
                    se.createElement("path", {
                      fill: "#41D9B5",
                      stroke: "#0E101A",
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      d: "M67.85 8.92s-29.05 9.2-40.25 36h2c3.52-7.49 12.8-24.4 38.25-36Z"
                    }),
                    se.createElement("path", {
                      stroke: "#0E101A",
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeMiterlimit: "10",
                      d: "m46.5 14.03-.83 4.67M59.58 21.57l-5.11-1.43M50.56 28.2l-5.11-1.45M39.6 20.91l-.71 4.2"
                    })
                  ),
                null
              )
            },
            successState: {
              title: "You did it!",
              description: "There are no more suggestions.",
              illustration: se.createElement(
                () =>
                  se.createElement(
                    "svg",
                    { fill: "none", viewBox: "0 0 64 64", role: "img", "aria-hidden": !0, focusable: !1 },
                    se.createElement("path", {
                      fill: "#FEFAE9",
                      stroke: "#1F243C",
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeMiterlimit: "10",
                      d: "M24.56 10.36h34.93L43.53 46.6H8.59l15.97-36.24Z"
                    }),
                    se.createElement("path", {
                      stroke: "#0E101A",
                      strokeLinecap: "round",
                      d: "M19.37 34.76c1.06-.2 2.53-.27 3.52-.82.64-.36.79.58 1.16.82 1.14.77 2.28-.09 3.26-.74.95-.63 1.14-.56 1.8.26.89 1.09 2.87.23 3.97-.03.38-.1.8-.17 1.13.06.68.49 1.48.63 2.28.75 1.15.19 2.26.29 3.42.3.67.01.83.26 1.35.52 1.09.54 2.8-.15 3.9-.37M22.4 27.57c1.54-.08 3.24.04 4.58-.82.2-.13.46-.25.69-.35.12-.05.6.92.83 1.02.57.26 1.27.19 1.88.04.57-.15 1.36-.78 1.89-.33.6.52.71.78 1.57.6.85-.2 1.31-.3 2.07-.04a6.3 6.3 0 0 0 3.73.26c.41-.09 4.57-.66 4.77-.26M24.01 20.46c1.95-.4 3.92-.75 5.81-1.4.24-.09.45-.14.7-.14.29 0 .34.29.48.52.57.95 1.56.59 2.45.56.85-.03 1.6.16 2.47.05.4-.05 1.44-.49 1.82-.31.22.1.3.4.52.53.64.38.91.44 1.65.2.58-.2 1.11.07 1.71-.3.14-.1.64-.61.7-.27.08.43.14.75.56.88 1.43.46 2.92-.5 4.33-.54"
                    }),
                    se.createElement("path", {
                      fill: "#F9C7C7",
                      stroke: "#1F243C",
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeMiterlimit: "10",
                      d: "M14.77 9.5c0 1.19.96 2.14 2.14 2.14h5.14V7.37H16.9c-1.18 0-2.14.95-2.14 2.14Z"
                    }),
                    se.createElement("path", {
                      fill: "#FEFAE9",
                      stroke: "#1F243C",
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeMiterlimit: "10",
                      d: "M19.74 9.5c0-2.6 2.1-4.7 4.7-4.7h31.28v9.41H24.45a4.7 4.7 0 0 1-4.7-4.7Z"
                    }),
                    se.createElement("circle", {
                      cx: "56.15",
                      cy: "9.51",
                      r: "4.71",
                      fill: "#FEFAE9",
                      stroke: "#1F243C",
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeMiterlimit: "10"
                    }),
                    se.createElement("path", {
                      fill: "#F9C7C7",
                      fillRule: "evenodd",
                      d: "M56.54 7.37a2.14 2.14 0 1 0 0 4.27h4.52a2.14 2.14 0 0 0 0-4.27h-4.52Z",
                      clipRule: "evenodd"
                    }),
                    se.createElement("path", {
                      fill: "#1F243C",
                      d: "M54.9 9.5c0-.9.73-1.63 1.64-1.63v-1A2.64 2.64 0 0 0 53.9 9.5h1Zm1.64 1.64c-.9 0-1.64-.73-1.64-1.63h-1a2.64 2.64 0 0 0 2.64 2.63v-1Zm4.52 0h-4.52v1h4.52v-1Zm0 0v1-1Zm1.64-1.63c0 .9-.73 1.63-1.64 1.63v1a2.64 2.64 0 0 0 2.64-2.63h-1Zm-1.64-1.64c.9 0 1.64.73 1.64 1.64h1a2.64 2.64 0 0 0-2.64-2.64v1Zm0 0v-1 1Zm-4.52 0h4.52v-1h-4.52v1Z"
                    }),
                    se.createElement("path", {
                      fill: "#F9C7C7",
                      stroke: "#1F243C",
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeMiterlimit: "10",
                      d: "M.8 45.5c0 1.19.96 2.14 2.14 2.14h5.13v-4.27H2.94c-1.18 0-2.14.95-2.14 2.14Z"
                    }),
                    se.createElement("path", {
                      fill: "#FEFAE9",
                      stroke: "#1F243C",
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeMiterlimit: "10",
                      d: "M5.77 45.5c0-2.6 2.1-4.7 4.7-4.7h30.47v9.41H10.47a4.7 4.7 0 0 1-4.7-4.7Z"
                    }),
                    se.createElement("path", {
                      fill: "#79A8F2",
                      stroke: "#1F243C",
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeMiterlimit: "10",
                      d: "M41.27 48.55h8.66v14.37l-4.35-1.7-4.31 1.7V48.55Z"
                    }),
                    se.createElement("path", {
                      fill: "#F8E485",
                      stroke: "#1F243C",
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeMiterlimit: "10",
                      d: "M35.2 44c0-1.11.8-2.1 1.1-3.13.33-1.05.27-2.32.87-3.21.62-.9 1.81-1.21 2.68-1.86.83-.65 1.49-1.73 2.53-2.08.99-.34 2.12.13 3.22.13 1.07 0 2.23-.47 3.22-.13 1.01.35 1.67 1.43 2.53 2.08.87.65 2.06.96 2.68 1.86.63.86.54 2.16.87 3.21C55.23 41.9 56 42.9 56 44c0 1.11-.8 2.1-1.1 3.13-.33 1.05-.27 2.32-.87 3.21-.62.9-1.81 1.21-2.68 1.86-.83.65-1.49 1.73-2.53 2.08-.98.34-2.12-.13-3.22-.13-1.07 0-2.23.47-3.22.13-1.01-.35-1.67-1.43-2.53-2.08-.87-.65-2.06-.96-2.68-1.86-.63-.86-.54-2.16-.87-3.21-.33-1.03-1.1-2.02-1.1-3.13Z"
                    }),
                    se.createElement(
                      "mask",
                      {
                        id: "SuccessD_a",
                        width: "23",
                        height: "24",
                        x: "34",
                        y: "32",
                        maskUnits: "userSpaceOnUse",
                        style: { maskType: "alpha" }
                      },
                      se.createElement("path", {
                        fill: "#F8E485",
                        stroke: "#1F243C",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeMiterlimit: "10",
                        d: "M54.6 49.2c-.55.96-1.74 1.42-2.51 2.16-.81.74-1.4 1.87-2.36 2.35-.99.47-2.18.14-3.25.27-1.05.14-2.16.75-3.23.53-1.02-.2-1.77-1.17-2.73-1.72-.92-.53-2.16-.71-2.84-1.5-.71-.8-.74-2.07-1.16-3.06-.42-1-1.3-1.86-1.4-2.95-.1-1.07.62-2.15.87-3.22.22-1.05.05-2.3.6-3.26.56-.96 1.75-1.42 2.52-2.16.81-.74 1.4-1.87 2.36-2.35.99-.47 2.18-.14 3.25-.27 1.05-.14 2.16-.75 3.23-.53 1.02.2 1.77 1.17 2.73 1.72.92.54 2.16.71 2.84 1.5.71.8.74 2.07 1.16 3.06.43 1 1.3 1.86 1.4 2.95.1 1.07-.62 2.15-.87 3.22-.22 1.05-.05 2.3-.6 3.26Z"
                      })
                    ),
                    se.createElement(
                      "g",
                      { mask: "url(#SuccessD_a)" },
                      se.createElement("path", {
                        fill: "#FEFAE9",
                        d: "m52.26 29.95 2.49 2.5-19.9 19.9-2.5-2.5zM60.33 37.48l-4.35-4.34-19.9 19.9 4.35 4.35z"
                      }),
                      se.createElement("path", {
                        stroke: "#1F243C",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeMiterlimit: "10",
                        d: "M35.2 44c0-1.11.8-2.1 1.1-3.13.33-1.05.27-2.32.87-3.21.62-.9 1.81-1.21 2.68-1.86.83-.65 1.49-1.73 2.53-2.08.99-.34 2.12.13 3.22.13 1.07 0 2.23-.47 3.22-.13 1.01.35 1.67 1.43 2.53 2.08.87.65 2.06.96 2.68 1.86.63.86.54 2.16.87 3.21C55.23 41.9 56 42.9 56 44c0 1.11-.8 2.1-1.1 3.13-.33 1.05-.27 2.32-.87 3.21-.62.9-1.81 1.21-2.68 1.86-.83.65-1.49 1.73-2.53 2.08-.98.34-2.12-.13-3.22-.13-1.07 0-2.23.47-3.22.13-1.01-.35-1.67-1.43-2.53-2.08-.87-.65-2.06-.96-2.68-1.86-.63-.86-.54-2.16-.87-3.21-.33-1.03-1.1-2.02-1.1-3.13Z"
                      })
                    )
                  ),
                null
              )
            }
          },
          {
            emptyState: {
              title: "Start writing to make the magic happen.",
              description: "Suggestions will appear here.",
              illustration: se.createElement(
                () =>
                  se.createElement(
                    "svg",
                    { fill: "none", viewBox: "0 0 64 65", role: "img", "aria-hidden": !0, focusable: !1 },
                    se.createElement(
                      "g",
                      { clipPath: "url(#EmptyE_a)" },
                      se.createElement("path", {
                        fill: "#fff",
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeMiterlimit: "10",
                        d: "M47.87 26.1c-.06 0-.1-.05-.1-.1.09-3.4-1.08-4.63-4.47-4.73-.06 0-.1-.05-.1-.1 0-.06.05-.1.1-.1 3.4.09 4.63-1.08 4.73-4.47 0-.06.05-.1.1-.1.06 0 .1.05.1.1-.09 3.4 1.08 4.63 4.47 4.72.06 0 .1.05.1.1 0 .06-.05.1-.1.1-3.4-.09-4.63 1.08-4.73 4.47 0 .07-.05.11-.1.11ZM10.68 28.5c-.06 0-.1-.04-.1-.1.09-3.11-.98-4.24-4.1-4.33-.04 0-.08-.04-.08-.1 0-.05.04-.08.1-.08 3.11.08 4.24-.99 4.33-4.1 0-.05.04-.09.1-.09.05 0 .08.04.08.1-.08 3.11.99 4.24 4.1 4.32.05 0 .09.04.09.1 0 .05-.04.08-.1.08-3.11-.08-4.24.99-4.33 4.1 0 .06-.04.1-.1.1ZM35.84 12.5c-.06 0-.1-.06-.1-.12.1-3.96-1.27-5.4-5.23-5.51-.07 0-.11-.06-.11-.13 0-.06.06-.1.12-.1 3.96.1 5.4-1.27 5.51-5.23 0-.07.06-.11.13-.11.06 0 .1.06.1.12-.1 3.97 1.27 5.4 5.23 5.5.07 0 .11.06.11.13 0 .06-.06.1-.12.1-3.96-.1-5.4 1.27-5.51 5.23-.01.08-.06.12-.13.12Z"
                      }),
                      se.createElement("path", {
                        fill: "#0E101A",
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeMiterlimit: "10",
                        d: "M2.19 6.8a2.53 2.53 0 1 1 2.74-4.24l30.2 19.54-2.74 4.24L2.19 6.81Z"
                      }),
                      se.createElement("path", {
                        fill: "#fff",
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeMiterlimit: "10",
                        d: "M24.3 21.1a2.52 2.52 0 1 1 2.74-4.23l8.75 5.65-2.74 4.24-8.75-5.66Z"
                      }),
                      se.createElement("circle", {
                        cx: "34.41",
                        cy: "24.67",
                        r: "2.55",
                        fill: "#fff",
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeMiterlimit: "10",
                        transform: "rotate(-57 34.4 24.67)"
                      }),
                      se.createElement("path", {
                        fill: "#C6CBDE",
                        d: "M32 64.5c10.6 0 19.2-1.61 19.2-3.6s-8.6-3.6-19.2-3.6-19.2 1.61-19.2 3.6 8.6 3.6 19.2 3.6Z"
                      }),
                      se.createElement("path", {
                        fill: "#6E66DE",
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeMiterlimit: "10",
                        d: "M42.84 34.42H21.16l-3.23 23.34c-.2 1.49.5 2.9 1.94 3.3 2.13.6 6 1.27 12.62 1.27 6.77 0 10.35-.7 12.17-1.3 1.17-.4 1.64-1.56 1.47-2.78l-3.29-23.83Z"
                      }),
                      se.createElement("path", {
                        fill: "#F8C6DA",
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeMiterlimit: "10",
                        d: "m43.74 41.35-.9-6.93H21.16l-.9 6.93h23.48Z"
                      }),
                      se.createElement("path", {
                        fill: "#6E66DE",
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeMiterlimit: "10",
                        d: "M50.08 33.3H13.92a1.12 1.12 0 0 0 0 2.24h36.16a1.12 1.12 0 1 0 0-2.24Z"
                      })
                    ),
                    se.createElement(
                      "defs",
                      null,
                      se.createElement("clipPath", { id: "EmptyE_a" }, se.createElement("path", { fill: "#fff", d: "M0 .5h64v64H0z" }))
                    )
                  ),
                null
              )
            },
            successState: {
              title: "Poof!",
              description: "There are no more suggestions.",
              illustration: se.createElement(
                () =>
                  se.createElement(
                    "svg",
                    { fill: "none", viewBox: "0 0 64 64", role: "img", "aria-hidden": !0, focusable: !1 },
                    se.createElement(
                      "g",
                      { clipPath: "url(#SuccessE_a)" },
                      se.createElement("path", {
                        fill: "#C6CBDE",
                        d: "M32 64c11.49 0 20.8-1.8 20.8-4s-9.31-4-20.8-4-20.8 1.8-20.8 4 9.31 4 20.8 4Z"
                      }),
                      se.createElement("path", {
                        fill: "#F28C8C",
                        d: "M38.73 32.98s9.04-12.87 11.57-18.56c3.5-7.97 1.49-11.86-.22-12.62-1.7-.76-5.96.4-9.46 8.36-2.59 5.85-6.54 21.03-6.54 21.03"
                      }),
                      se.createElement("path", {
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeMiterlimit: "10",
                        d: "M38.73 32.98s9.04-12.87 11.57-18.56c3.5-7.97 1.49-11.86-.22-12.62-1.7-.76-5.96.4-9.46 8.36-2.59 5.85-6.54 21.03-6.54 21.03"
                      }),
                      se.createElement("path", {
                        fill: "#F8C6DA",
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeMiterlimit: "10",
                        d: "M37.12 30.94a.95.95 0 0 1-.6-1.21c1.12-3.6 5.26-16.7 6.53-19.63 2.04-4.62 4.69-5.75 5.7-5.32 1 .46 1.97 3.16-.07 7.79-1.28 2.89-8.55 14.94-10.37 17.95-.25.4-.73.58-1.19.42Z"
                      }),
                      se.createElement("path", {
                        fill: "#F28C8C",
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeMiterlimit: "10",
                        d: "m32.68 31.55-4.56 2.04s-.58-.97-1.46-2.55a348.24 348.24 0 0 1-5.63-10.29 1.31 1.31 0 0 1 .33-1.61 6.2 6.2 0 0 1 9.13 1.25 285.72 285.72 0 0 1 2.19 11.16Z"
                      }),
                      se.createElement("path", {
                        fill: "#6E66DE",
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeMiterlimit: "10",
                        d: "M44.05 31.22H19.95l-3.6 25.59c-.22 1.5.49 2.93 1.95 3.35 2.31.66 6.65 1.44 14.25 1.44 7.73 0 11.71-.8 13.68-1.48 1.18-.4 1.67-1.58 1.5-2.82l-3.68-26.08Z"
                      }),
                      se.createElement("path", {
                        fill: "#F8C6DA",
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeMiterlimit: "10",
                        d: "m45.04 38.76-1-7.54H19.96l-1 7.54h26.1Z"
                      }),
                      se.createElement("path", {
                        fill: "#6E66DE",
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeMiterlimit: "10",
                        d: "M51.58 30H12.42a1.22 1.22 0 0 0 0 2.44h39.16a1.22 1.22 0 0 0 0-2.44Z"
                      }),
                      se.createElement("path", {
                        fill: "#F28C8C",
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeMiterlimit: "10",
                        d: "M30.49 20.42c-1 3.4-2.07 6.72-2.98 8.82-.28.64-.55 1.25-.85 1.8-3.26 6.38-6.94 7.33-8.55 6.63-1.74-.73-3.78-4.63-.34-12.63.52-1.18 1.31-2.68 2.22-4.32a6.2 6.2 0 0 1 10.5-.3Z"
                      }),
                      se.createElement("path", {
                        fill: "#fff",
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeMiterlimit: "10",
                        d: "M6.63 21.6c-.07 0-.12-.06-.12-.13.11-4.25-1.35-5.79-5.59-5.9-.07 0-.12-.07-.12-.14s.06-.12.13-.12c4.25.11 5.79-1.35 5.9-5.59 0-.07.07-.12.14-.12s.12.06.12.13c-.11 4.25 1.35 5.79 5.59 5.9.07 0 .12.05.12.13 0 .07-.06.12-.13.12-4.25-.11-5.79 1.34-5.9 5.59-.02.08-.07.13-.14.13ZM19.87 10.4c-.06 0-.1-.05-.1-.1.09-3.4-1.08-4.63-4.47-4.73-.06 0-.1-.05-.1-.1 0-.06.05-.1.1-.1 3.4.09 4.63-1.08 4.73-4.47 0-.06.05-.1.1-.1.06 0 .1.05.1.1-.09 3.4 1.08 4.63 4.47 4.72.06 0 .1.05.1.1 0 .06-.05.1-.1.1-3.4-.09-4.63 1.08-4.73 4.47 0 .07-.05.11-.1.11ZM57.03 52c-.07 0-.12-.06-.12-.13.11-4.25-1.35-5.79-5.59-5.9-.07 0-.12-.07-.12-.14s.06-.12.13-.12c4.25.11 5.79-1.35 5.9-5.59 0-.07.07-.12.14-.12s.12.06.12.13c-.11 4.25 1.35 5.79 5.59 5.9.07 0 .12.05.12.13 0 .07-.06.12-.13.12-4.25-.11-5.79 1.34-5.9 5.59-.02.08-.07.13-.14.13Z"
                      })
                    ),
                    se.createElement(
                      "defs",
                      null,
                      se.createElement("clipPath", { id: "SuccessE_a" }, se.createElement("path", { fill: "#fff", d: "M0 0h64v64H0z" }))
                    )
                  ),
                null
              )
            }
          },
          {
            emptyState: {
              title: "No pressure.",
              description: "Suggestions will appear here.",
              illustration: se.createElement(
                () =>
                  se.createElement(
                    "svg",
                    { fill: "none", viewBox: "0 0 64 64", role: "img", "aria-hidden": !0, focusable: !1 },
                    se.createElement(
                      "g",
                      { clipPath: "url(#EmptyF_a)" },
                      se.createElement("path", {
                        fill: "#F28C8C",
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeMiterlimit: "10",
                        d: "M28.8.8h6.4v72.8h-6.4zM4.8 71.09l5.54 3.2 12.8-22.18-5.54-3.2zM59.2 71.08l-5.54 3.2-12.8-22.17 5.54-3.2z"
                      }),
                      se.createElement("path", {
                        fill: "#fff",
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeMiterlimit: "10",
                        d: "M6.4 6.4h51.2v51.2H6.4V6.4Z"
                      }),
                      se.createElement("path", {
                        fill: "#DBEBFF",
                        fillRule: "evenodd",
                        d: "M57.6 40.12V57.6H6.4V19.47a13.4 13.4 0 0 1 2.28-1.84 6.48 6.48 0 0 1 5.52-.75 6.37 6.37 0 0 1 3.83 3.57c.75 1.75.67 3.54.56 4.45-.26 2.04-.98 3.65-1.79 5.47l-.1.24.38-.3c-.04.03.99-.79 1.91-1.33.5-.3 1.32-.72 2.33-.98a6.66 6.66 0 0 1 4.86.56c3.66 2 4.18 5.65 4.03 7.75-.1 1.36-.46 2.6-.82 3.56.84-.82 1.72-1.62 2.65-2.39 1.07-.87 2.81-1.96 4.78-2.53 1.67-.48 6.19-1.2 8.97 2.87a7.8 7.8 0 0 1 1.4 4.16c.79-.57 1.64-1.1 2.58-1.55l.05-.03c.36-.17 1.66-.8 3.1-1.05a7.1 7.1 0 0 1 4.68.77Z",
                        clipRule: "evenodd"
                      }),
                      se.createElement("path", {
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeMiterlimit: "10",
                        d: "M6.4 6.4h51.2v51.2H6.4V6.4Z"
                      }),
                      se.createElement("path", {
                        fill: "#F28C8C",
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeMiterlimit: "10",
                        d: "M3.2 51.2h57.6v6.4H3.2z"
                      }),
                      se.createElement("path", {
                        fill: "#FEFAE9",
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        d: "M27.97 32.23a5.23 5.23 0 0 1 7.71-2.94c2.9 1.72 3.77 5.06.55 8.71-3.22 3.65-9.8 3.1-11.7 2.32 2.37-3.14 2.3-4.74 3.44-8.1Z"
                      }),
                      se.createElement("path", {
                        fill: "#638EEB",
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeMiterlimit: "10",
                        d: "M43.6 14.18a3.48 3.48 0 1 1 5.53 4.18L37.7 31.46l-3.58-2.7 9.48-14.58Z"
                      }),
                      se.createElement("path", {
                        fill: "#15C39A",
                        fillRule: "evenodd",
                        d: "M36.94 37.12c-.21.3-.45.59-.7.88-3.23 3.65-9.8 3.1-11.7 2.32 1.75-2.32 2.17-3.8 2.72-5.77.1-.36.2-.73.33-1.13 1.3.08 2.16.22 3.76 2.6 1.34 1.98 3.54 1.66 5.59 1.1Z",
                        clipRule: "evenodd"
                      }),
                      se.createElement("path", {
                        fill: "#0E101A",
                        d: "m36.94 37.12.4.3a.5.5 0 0 0-.54-.78l.14.48Zm-.7.88.37.33-.38-.33Zm-11.7 2.32-.4-.3a.5.5 0 0 0 .2.76l.2-.46Zm2.72-5.77-.48-.14.48.14Zm.33-1.13.03-.5a.5.5 0 0 0-.51.36l.48.14Zm3.76 2.6.42-.29-.42.28Zm5.18.8c-.2.29-.42.57-.67.85l.75.66c.27-.3.51-.61.73-.92l-.81-.58Zm-.67.85c-1.5 1.69-3.8 2.43-6.02 2.65-2.23.21-4.26-.12-5.11-.47l-.38.93c1.04.43 3.25.76 5.58.53 2.35-.22 4.95-1.02 6.68-2.98l-.75-.66Zm-10.92 2.95a15.1 15.1 0 0 0 2.8-5.94l-.96-.27c-.55 1.95-.95 3.36-2.64 5.6l.8.6Zm2.8-5.94c.1-.35.2-.72.33-1.11l-.96-.3-.33 1.14.96.27Zm4.03 1.05a7.25 7.25 0 0 0-2.16-2.3 4.13 4.13 0 0 0-2-.5l-.05 1c.64.03 1.08.08 1.55.36.48.28 1.04.84 1.83 2l.83-.56Zm5.03.9c-1.01.28-2 .48-2.87.4a2.79 2.79 0 0 1-2.16-1.3l-.83.56a3.79 3.79 0 0 0 2.89 1.73 9.2 9.2 0 0 0 3.24-.42l-.27-.96Z"
                      })
                    ),
                    se.createElement(
                      "defs",
                      null,
                      se.createElement("clipPath", { id: "EmptyF_a" }, se.createElement("path", { fill: "#fff", d: "M0 0h64v64H0z" }))
                    )
                  ),
                null
              )
            },
            successState: {
              title: "Bravo!",
              description: "There are no more suggestions.",
              illustration: se.createElement(
                () =>
                  se.createElement(
                    "svg",
                    { fill: "none", viewBox: "0 0 64 64", role: "img", "aria-hidden": !0, focusable: !1 },
                    se.createElement(
                      "g",
                      { clipPath: "url(#SuccessF_a)" },
                      se.createElement("path", {
                        fill: "#41D9B5",
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeMiterlimit: "10",
                        d: "M.8 5.8a5 5 0 0 1 5-5h52.4a5 5 0 0 1 5 5v52.4a5 5 0 0 1-5 5H5.8a5 5 0 0 1-5-5V5.8Z"
                      }),
                      se.createElement("path", {
                        fill: "#DBEBFF",
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeMiterlimit: "10",
                        d: "M4.8 6.8c0-1.1.9-2 2-2h50.4a2 2 0 0 1 2 2v50.4a2 2 0 0 1-2 2H6.8a2 2 0 0 1-2-2V6.8Z"
                      }),
                      se.createElement(
                        "g",
                        { clipPath: "url(#SuccessF_b)" },
                        se.createElement("path", {
                          fill: "#99C2FF",
                          d: "M55.66 73.05c-.76.9-1.51 1.8-1.66 2.02H-2.94c.61-2.7.03-5.61-2.37-7.42-2.44-1.83-4.9-3.64-7.27-5.56V37.05l.12.1c1.98 1.79 5.03-.78 7.15.9 11.3 17 27.6 18.48 41.09 9.82 3.86-2.48 6.83-14.07 4.07-18.06-2.48-3.58-8.15-5.66-12.29-3a58.1 58.1 0 0 1-7.42 4.1c-.27.13-.77.28-1.11.38l.92-.25c-.47.13-.94.35-1.4.51-1.22.41-2.47.76-3.73 1.02-.61.13-1.25.2-1.86.33l.89-.2a7.2 7.2 0 0 1-.8.1c-.63.03-1.25 0-1.87-.04h-.07c.44 0 .53-.03-.61-.05a19.27 19.27 0 0 1-2.23-.55h-.01c-.5-.27-1-.5-1.49-.77-.4-.23-.82-.61-1.25-.83l-.42-.34c-1.12-.97-2.1-2.05-3.09-3.13C.7 25.66-3.16 16.37-4.78 15.2 1.27 17.47 10.8 16.8 15.6 14c4.8-2.8 9.6-7.31 11.42-13.73 0 0 8.38.75 14.05 4.15 5.66 3.4 6.8 8.31 9.44 14.74 2.65 6.42 9.07 8.68 15.12 6.38l.37.05-1.13 16.61c-8.38-6-17 .89-19.27 6.04-2.22 5.05 11.37 22.27 10.06 24.81 1.5-1.77 3.06-3.53-.04.07a.52.52 0 0 1-.07.08l.07-.08a.58.58 0 0 0 .04-.07Z",
                          opacity: ".7"
                        }),
                        se.createElement("path", {
                          fill: "#FCE5E5",
                          d: "m30.37 12.1 1.17-2.18c.6-1.12 1.3-1.53 2.49-1.97a3.36 3.36 0 0 1 2.64.27c.81.42 1.47.27 2.06.97a15.46 15.46 0 0 1 2.87 13.86c-.11.4-.25.82-.22 1.25.02.34.14.66.19 1 .07.6-.1 1.19-.24 1.77-.56 2.19-.85 4.58.06 6.65.25.56.58 1.1.69 1.7.09.46.04.93 0 1.4-.26 3.04-.13 6.12.4 9.13-7.1.5-14.29-.28-21.12-2.27a1.27 1.27 0 0 1-.52-.24c-.26-.25-.27-.67-.19-1.02.21-.93.86-1.7 1.5-2.42 2.2-2.55 4.42-5.09 6.64-7.63"
                        }),
                        se.createElement("path", {
                          fill: "#F28C8C",
                          fillRule: "evenodd",
                          d: "M24.77 36.29s-15.01-.79-6.79-7.93l-5.65-5.65S9.72 26.48 7.5 32.4c-1.04 2.75 1.39 5.17 4.43 8.21 3.5 3.5 7.82 7.81 8.64 14.39.14 1.11.3 1.87.45 2.33.17 1.1.34 2.26.5 3.5.43 3.31.49 14.3.49 14.3l34.4-.27.05-29.5c0-4.2-2.56-7.97-6.47-9.5l-9.8 7.7c-16.84 3.76-14.9-7.14-14.9-7.14s-.22.21-.57.59l.06-.72Z",
                          clipRule: "evenodd"
                        }),
                        se.createElement("path", {
                          fill: "#FFC940",
                          fillRule: "evenodd",
                          d: "m22.98 37.83 1.2.1 1.2.11a2.27 2.27 0 0 0 0 .32 5.82 5.82 0 0 0 1.34 3.7c1.44 1.72 4.83 3.52 13.04 1.68l.53 2.36c-8.61 1.93-13.15.24-15.43-2.48a8.24 8.24 0 0 1-1.88-5.77v-.02Z",
                          clipRule: "evenodd"
                        }),
                        se.createElement("path", {
                          fill: "#0E101A",
                          d: "m17.98 28.36.33.38a.5.5 0 0 0 .02-.73l-.35.35Zm6.36 7.93.5.05a.5.5 0 0 0-.47-.55l-.03.5Zm-12-13.58.34-.35a.5.5 0 0 0-.75.05l.4.3Zm-4.92 9.45.47.17-.47-.17Zm4.78 8.56.36-.35-.36.35Zm8.48 13.62.5-.06-.5.06Zm.07.61.5-.04-.5.04Zm.06 1.26h.5-.5Zm.1 2.46.5.01a.5.5 0 0 0 0-.1l-.5.1Zm-.1 1.98.5.04-.5-.04ZM22 75.12l-.5.07a.5.5 0 0 0 .5.43v-.5Zm34.39-.26v.5a.5.5 0 0 0 .5-.5h-.5Zm.06-29.1h-.5.5Zm-6.9-9.9.18-.47a.5.5 0 0 0-.5.09l.32.38Zm-9.37 7.7.1.48a.5.5 0 0 0 .21-.1l-.31-.39Zm-14.9-7.14.49.1a.5.5 0 0 0-.84-.46l.35.36Zm-1.08 1.15-.5-.05a.5.5 0 0 0 .88.38l-.38-.33Zm-6.55-9.59c-2.07 1.8-2.9 3.36-2.63 4.73.26 1.35 1.54 2.2 2.87 2.75 1.36.57 2.98.9 4.23 1.09a28.35 28.35 0 0 0 2.15.24h.04l.03-.5.03-.5h-.04l-.11-.01a20.5 20.5 0 0 1-1.95-.22c-1.23-.18-2.75-.5-4-1.02-1.29-.54-2.11-1.22-2.27-2.02-.16-.8.27-2.01 2.3-3.78l-.65-.76Zm-5.67-4.92 5.65 5.65.7-.7-5.65-5.65-.7.7Zm-4.1 9.27a45.35 45.35 0 0 1 4.41-8.7 19.79 19.79 0 0 1 .44-.62l-.4-.3-.4-.3v.01a8.3 8.3 0 0 0-.47.65 46.35 46.35 0 0 0-4.51 8.9l.94.36Zm4.68 8.04a33.1 33.1 0 0 1-3.9-4.42c-.89-1.35-1.2-2.5-.77-3.62l-.94-.35c-.58 1.55-.09 3.06.88 4.52.95 1.45 2.44 2.96 4.02 4.57l.71-.7Zm8.62 13.9c-.8-5.95-5.13-10.35-8.62-13.9l-.71.7c3.53 3.6 7.6 7.77 8.34 13.34l.99-.14Zm.07.63-.07-.62-1 .12.07.6 1-.1Zm.06 1.3c0-.43-.02-.87-.06-1.29l-1 .09c.04.4.06.8.06 1.2h1Zm.1 2.39c-.06-.35-.1-1.1-.1-2.38h-1c0 1.27.03 2.1.11 2.55l.99-.17Zm-.1 2.1c.06-.71.09-1.38.1-2l-1-.03c0 .6-.04 1.25-.1 1.94l1 .09ZM22 75.12l.5-.07-.01-.03-.01-.09a178.11 178.11 0 0 1-.69-5.85c-.33-3.22-.62-6.79-.49-8.4l-1-.08c-.14 1.72.17 5.4.5 8.58a242.97 242.97 0 0 0 .69 5.88v.1l.01.02.5-.06Zm34.39-.76-34.4.26.01 1 34.4-.26-.01-1Zm-.44-28.6-.06 29.1h1l.06-29.1h-1Zm-6.57-9.43a10.02 10.02 0 0 1 6.57 9.43h1c0-4.63-2.88-8.77-7.22-10.37l-.35.94Zm-8.89 7.61 9.38-7.7-.63-.76-9.38 7.69.63.77Zm-15.21-7.52a28.07 28.07 0 0 0-.5-.08 1.23 1.23 0 0 0-.02.14l-.03.37A7.16 7.16 0 0 0 26 41.69c1.8 2.5 5.79 4.25 14.28 2.35l-.22-.97c-8.35 1.86-11.8.05-13.25-1.96a6.16 6.16 0 0 1-1.08-3.09 7.29 7.29 0 0 1 .03-1.51l-.5-.09Zm-.7 1.48a20.66 20.66 0 0 1 1.02-1.1l.02-.01-.34-.37-.35-.36-.02.02-.06.06a14.31 14.31 0 0 0-1.03 1.1l.76.66Zm-.24-1.61-.5-.06v.09l-.03.25-.1.95.99.1a525.27 525.27 0 0 0 .14-1.27l-.5-.06Z"
                        }),
                        se.createElement("path", { stroke: "#0E101A", strokeLinejoin: "round", d: "M48 55.39v11.85L35.83 74.8" }),
                        se.createElement("path", {
                          fill: "#0E101A",
                          d: "m35.6 7.62-3.88 4.16s1.11 19.1-.24 23.23c-1.35 4.13-3.94 11.76-6.08 12.72-2.14.96-5.04.48-5.04-2.4 0-2.87 4.03-7.9 1.64-9.33.4 0 4.66-.98 3.63-6.47-1.03-5.48-2.85-13.96-.23-17.75 2.62-3.8 5.6-4.64 10.2-4.16Z"
                        }),
                        se.createElement("path", {
                          fill: "#FCE5E5",
                          d: "M32.7 11.5c-2.44-.09-6.13 1.14-6.3 3.94-.16 2.8.4 3.8.33 4.5-.08.7-1.21 3.58.24 5.9 1.45 2.34 3.78 3.89 4.59 4.12.8.24 4.51-1.16 6.6-3.18"
                        }),
                        se.createElement("path", {
                          fill: "#0E101A",
                          d: "M32.67 12a.5.5 0 0 0 .04-1l-.04 1Zm-6.27 3.44.5.03-.5-.03Zm5.16 14.52-.14.48.14-.48Zm1.15-18.95a8.94 8.94 0 0 0-4.24.93c-1.33.7-2.47 1.82-2.56 3.47l1 .06c.06-1.16.85-2.04 2.02-2.64 1.16-.6 2.6-.87 3.74-.82l.04-1Zm-6.8 4.4a14.04 14.04 0 0 0 .22 3.63l.06.38c.04.23.05.36.04.47l1 .11c.02-.25 0-.5-.05-.74l-.07-.4-.08-.46c-.1-.66-.2-1.58-.13-2.93l-1-.06Zm.32 4.48-.06.3-.13.53c-.1.41-.2.93-.26 1.51a6.08 6.08 0 0 0 .76 3.88l.85-.53a5.09 5.09 0 0 1-.62-3.25c.05-.52.15-.99.24-1.38l.13-.53c.04-.15.07-.3.08-.42l-.99-.11Zm.31 6.22a12.39 12.39 0 0 0 2.65 2.97 7.58 7.58 0 0 0 2.23 1.36l.28-.96a6.82 6.82 0 0 1-1.88-1.18 11.4 11.4 0 0 1-2.43-2.72l-.85.53Zm4.88 4.33c.2.06.42.06.62.03.22-.02.46-.07.72-.14a14.15 14.15 0 0 0 5.75-3.2l-.7-.71a13.16 13.16 0 0 1-5.88 3.06h-.23l-.28.96Z"
                        }),
                        se.createElement("path", {
                          stroke: "#0E101A",
                          strokeLinecap: "round",
                          strokeLinejoin: "round",
                          d: "M31.57 19.2s-.7 3.52-.48 3.95c.21.43 1.4.43 1.99.06"
                        }),
                        se.createElement("path", {
                          fill: "#0E101A",
                          d: "M28.8 20.11c.44 0 .8-.48.8-1.07 0-.6-.36-1.08-.8-1.08-.44 0-.8.48-.8 1.08 0 .59.36 1.07.8 1.07Z"
                        }),
                        se.createElement("path", {
                          stroke: "#0E101A",
                          strokeLinecap: "round",
                          strokeLinejoin: "round",
                          d: "m36.34 19.7-2.51-.93 2.43-.88M30.25 26.1s3.6 1.1 4-.9"
                        }),
                        se.createElement("path", {
                          fill: "#F9EA9E",
                          stroke: "#0E101A",
                          strokeLinejoin: "round",
                          d: "M48.27 35s-4.7 12.38-13.47 17.8c-5.76 3.56-13.2 3.6-14 3.2-3 12.82 1.59 16.32 4.38 15.39 2.8-.93 9.17-3.93 15.4-11.59C46.8 52.15 50.97 39.12 54 39.2c-1.2-2.4-5.73-4.2-5.73-4.2Z"
                        }),
                        se.createElement("path", {
                          fill: "#0E101A",
                          d: "M31.23 12c1.46 0 4.71-.06 6.32 2.42 1.61 2.49 4.49 9.96 1.74 19.87-2.74 9.9-3.36 15.25 1.72 15.25 5.07 0 5.98-2.57 5.98-7.7 0-5.12 3.42-5.55 4.27-5.55-2.42-2.02-4.84-.86-5.6-12.98C44.88 11.2 39.38 7.62 35.6 7.62c-.26 0-5.83 4.37-4.38 4.37Z"
                        }),
                        se.createElement("path", {
                          fill: "#FCE5E5",
                          d: "M22.5 23.5c5.14-2.01 5.47-2.87 4.3-3.5-1.17-.63-3.7.79-3.7.79s.28-.46 2.43-1.75c2.14-1.3-.15-2.43-1.8-1.79-.8.31-2.17.88-1.94 1.73 0 0-2-2.98-5.13.25-1.83 1.88-1.74 3.36-1.4 4.22h-.17l-4.92 6.15 4.49 1 3.5-4.79c.99.76 4.99.52 4.32-1.62-.21-.66-.5-1.37-.84-2.01l.01-.02-.16-.26"
                        }),
                        se.createElement("path", {
                          stroke: "#0E101A",
                          strokeLinecap: "round",
                          strokeLinejoin: "round",
                          d: "M15.74 24.2s-2.06-2 .9-5.05c3.12-3.22 5.3 0 5.3 0s.24 4.88-2.38 3.95c-1.25-.44.05-3.85.05-3.85"
                        }),
                        se.createElement("path", {
                          stroke: "#0E101A",
                          strokeLinecap: "round",
                          strokeLinejoin: "round",
                          d: "M21.77 18.56s.71-.68 2.36-1.33c1.65-.64 3.05.69.9 1.98-2.14 1.3-1.96 1.5-1.96 1.5s3.17-1.56 4.02-.79c.84.77-.31 2.04-4.63 3.5M17.52 19.5s-1.34 2.18-.26 2.85c1.07.67 1.36-.65 1.36-.65"
                        }),
                        se.createElement("path", {
                          fill: "#FCE5E5",
                          d: "M21.98 22.99c-.14-.22-.63-1.35-.77-1.57a.51.51 0 0 0-.17-.2c-.09-.04-.67-1-.77-.98-.24.04-1.02-.23-1.18-.04-.65.77.03 2.18.05 2.52 0 .08.74 1.58.88 1.57.2 0 1.12-.26 1.2-.46"
                        }),
                        se.createElement("path", {
                          stroke: "#0E101A",
                          strokeLinecap: "round",
                          strokeLinejoin: "round",
                          d: "M19.56 23.1s-1.48-2.16-.41-2.98c1.06-.82 2.63 1.84 3.3 4 .67 2.14-3.33 2.38-4.32 1.62l-3.87 4.88-2.96-2.69 3.8-5.02"
                        }),
                        se.createElement("path", {
                          fill: "#F28C8C",
                          d: "M12.73 23.92s.4 3.63 4.44 4.44c0 0-2.82 2.02-3.22 4.84-.4 2.83-5.65-.37-5.65-.37l1.61-4.87"
                        }),
                        se.createElement("path", { stroke: "#0E101A", strokeLinejoin: "round", d: "M12.33 23.11s1.62 4.85 5.25 5.25" })
                      ),
                      se.createElement("path", {
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeMiterlimit: "10",
                        d: "M4.8 6.8c0-1.1.9-2 2-2h50.4a2 2 0 0 1 2 2v50.4a2 2 0 0 1-2 2H6.8a2 2 0 0 1-2-2V6.8Z"
                      })
                    ),
                    se.createElement(
                      "defs",
                      null,
                      se.createElement("clipPath", { id: "SuccessF_a" }, se.createElement("path", { fill: "#fff", d: "M0 0h64v64H0z" })),
                      se.createElement(
                        "clipPath",
                        { id: "SuccessF_b" },
                        se.createElement("path", { fill: "#fff", d: "M4.8 4.8h54.4v54.4H4.8z" })
                      )
                    )
                  ),
                null
              )
            }
          },
          {
            emptyState: {
              title: "Time to dig in.",
              description: "Suggestions will appear here.",
              illustration: se.createElement(
                () =>
                  se.createElement(
                    "svg",
                    { fill: "none", viewBox: "0 0 64 64", role: "img", "aria-hidden": !0, focusable: !1 },
                    se.createElement(
                      "g",
                      { clipPath: "url(#EmptyG_a)" },
                      se.createElement("path", { fill: "#DBEBFF", stroke: "#0E101A", d: "m51.15 10.56-3.71-1.48-5.32 13.38 3.71 1.48z" }),
                      se.createElement("path", {
                        fill: "#4A6EE0",
                        stroke: "#0E101A",
                        d: "m49.29 31.5-14.87-5.9 1.48-3.75a6 6 0 0 1 7.8-3.36l3.71 1.48a6 6 0 0 1 3.36 7.8L49.3 31.5Z"
                      }),
                      se.createElement("path", {
                        fill: "#4A6EE0",
                        fillRule: "evenodd",
                        stroke: "#0E101A",
                        d: "M56.36 7.08a2.47 2.47 0 0 0-1.17-3.63l-5.8-2.31a2.47 2.47 0 0 0-3.35 1.83l-.94 4.95a2.47 2.47 0 0 0 1.51 2.77l4.04 1.6c1.1.44 2.36.03 3-.97l2.71-4.24Zm-2.8-1.16-2.1 3.57-3.52-1.4.93-4.03 4.69 1.86Z",
                        clipRule: "evenodd"
                      }),
                      se.createElement("path", {
                        fill: "#FFF0D4",
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        d: "M2.96 54.7C-4.82 51.48 7.2 28.34 27.6 22 48 15.65 67.98 49.1 61.9 54c-6.09 4.92-20.72 5.5-32.72 5.1-12-.4-18.44-1.2-26.22-4.4Z"
                      }),
                      se.createElement("path", { fill: "#AAF2E1", stroke: "#0E101A", d: "m11.5 24.49 3.38-2.12 7.63 12.21-3.39 2.12z" }),
                      se.createElement("path", {
                        fill: "#15C39A",
                        stroke: "#0E101A",
                        d: "m17.08 44.75 13.57-8.48-2.13-3.4a6 6 0 0 0-8.27-1.91l-3.4 2.12a6 6 0 0 0-1.9 8.26l2.13 3.41Z"
                      }),
                      se.createElement("path", {
                        fill: "#15C39A",
                        fillRule: "evenodd",
                        stroke: "#0E101A",
                        d: "M5.74 22a2.47 2.47 0 0 1 .5-3.79l5.3-3.31a2.47 2.47 0 0 1 3.62 1.2l1.82 4.7c.43 1.12 0 2.37-1 3l-3.68 2.3c-1.01.63-2.32.46-3.13-.41l-3.43-3.7Zm2.55-1.65L11 23.5l3.22-2-1.64-3.81-4.28 2.67Z",
                        clipRule: "evenodd"
                      }),
                      se.createElement("path", {
                        fill: "#FFF0D4",
                        d: "M19.35 39.37a12.57 12.57 0 0 0-4.97 7.32l9.6 2 14.8-10-6.8-6.8c-4.26 5.53-8.47 4.55-12.63 7.48Z"
                      }),
                      se.createElement("path", {
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        d: "M14.8 44.4s.76-2.61 4.38-4.9c3.62-2.3 7.62-1.9 12.02-6.3"
                      }),
                      se.createElement("ellipse", {
                        cx: "42.75",
                        cy: "42.11",
                        fill: "#EF6E6E",
                        stroke: "#0E101A",
                        strokeLinejoin: "round",
                        rx: "10.49",
                        ry: "3.82"
                      }),
                      se.createElement("path", {
                        fill: "#FFF0D4",
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        d: "M38.63 40.85c-3.34.38-5.22 2.5-5.01 3.79.2 1.28 2.92 4.16 2.92 4.16h9.61S52 48.05 52 45.77c0-2.27-1.67-3.31-3.76-3.78-2.09-.48-4.24.41-4.24.41s-2.03-1.93-5.37-1.55Z"
                      }),
                      se.createElement("path", {
                        fill: "#F28C8C",
                        fillRule: "evenodd",
                        d: "m32.3 42.45 2.18 18.16c0 1.37 3.7 2.48 8.27 2.48C47.3 63.1 51 62 51 60.61l2.19-18.16c-.47 1.95-4.97 3.47-10.45 3.47-5.48 0-9.98-1.52-10.45-3.47Z",
                        clipRule: "evenodd"
                      }),
                      se.createElement("path", {
                        fill: "#0E101A",
                        d: "m32.3 42.45.48-.12a.5.5 0 0 0-.98.18l.5-.06Zm2.18 18.16h.5a.5.5 0 0 0 0-.06l-.5.06Zm16.53 0-.5-.06a.5.5 0 0 0 0 .06h.5Zm2.19-18.16.5.06a.5.5 0 0 0-.99-.18l.49.12Zm-21.4.06 2.18 18.16 1-.12-2.19-18.16-.99.12Zm2.18 18.1c0 .59.4 1.04.86 1.38.48.34 1.14.62 1.92.86 1.55.46 3.67.74 5.99.74v-1c-2.25 0-4.27-.27-5.7-.7a5.76 5.76 0 0 1-1.63-.72c-.37-.26-.44-.46-.44-.56h-1Zm8.77 2.98c2.32 0 4.43-.28 5.99-.74a6.71 6.71 0 0 0 1.91-.86c.47-.34.86-.8.86-1.38h-1c0 .1-.07.3-.43.56-.36.25-.9.5-1.63.72-1.44.43-3.45.7-5.7.7v1Zm8.76-2.92 2.19-18.16-1-.12-2.18 18.16 1 .12Zm1.2-18.34c-.08.33-.34.7-.87 1.08-.51.38-1.24.73-2.15 1.03-1.8.6-4.24.98-6.94.98v1c2.78 0 5.33-.38 7.26-1.03.97-.32 1.8-.72 2.42-1.17.62-.46 1.1-1 1.26-1.66l-.98-.23Zm-9.96 3.1c-2.7 0-5.14-.38-6.95-.99-.9-.3-1.63-.65-2.15-1.03s-.79-.75-.87-1.08l-.97.23c.16.65.63 1.2 1.25 1.66.63.45 1.46.85 2.42 1.17 1.94.65 4.49 1.03 7.27 1.03v-1Z"
                      }),
                      se.createElement("path", {
                        stroke: "#0E101A",
                        strokeLinejoin: "round",
                        d: "M41.81 47.08c.4.63.84 1.27 1.33 1.9 3.81 5 8.67 7.7 10.86 6.03 1.83-1.4 1.22-5.38-1.25-9.56"
                      }),
                      se.createElement("circle", {
                        cx: "41.79",
                        cy: "47.04",
                        r: "1.91",
                        fill: "#F9C7C7",
                        stroke: "#0E101A",
                        strokeLinejoin: "round"
                      })
                    ),
                    se.createElement(
                      "defs",
                      null,
                      se.createElement("clipPath", { id: "EmptyG_a" }, se.createElement("path", { fill: "#fff", d: "M0 0h64v64H0z" }))
                    )
                  ),
                null
              )
            },
            successState: {
              title: "Looking good!",
              description: "There are no more suggestions.",
              illustration: se.createElement(
                () =>
                  se.createElement(
                    "svg",
                    { fill: "none", viewBox: "0 0 64 64", role: "img", "aria-hidden": !0, focusable: !1 },
                    se.createElement(
                      "g",
                      { clipPath: "url(#SuccessG_a)" },
                      se.createElement("path", { stroke: "#0E101A", strokeLinejoin: "round", d: "M32 12V.8" }),
                      se.createElement("path", {
                        fill: "#41D9B5",
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        d: "m32 .8 10.4 2-10.4 2v-4Z"
                      }),
                      se.createElement("path", {
                        fill: "#FFF0D4",
                        fillRule: "evenodd",
                        d: "M4.19 57.54c-11.68-1.65 9.45-9.48 23.8-11.66 14.34-2.19 41.86 7.56 33.74 11.33-1.66.77-14.7 2.23-24.14 2.87a6.31 6.31 0 0 0-2.96 1.21c-1.76 1.17-4.44 1.91-7.43 1.91-2.26 0-4.34-.42-5.98-1.13a7.64 7.64 0 0 0-4-.58c-.53.07-1.07.11-1.62.11-2.4 0-4.53-.7-5.93-1.8-1.06-.83-2.18-1.77-3.52-1.97l-.64-.1-1.32-.19Z",
                        clipRule: "evenodd"
                      }),
                      se.createElement("path", {
                        fill: "#0E101A",
                        d: "m27.98 45.88.08.5-.08-.5ZM4.2 57.54l-.07.5.07-.5Zm57.54-.33.21.45-.2-.45Zm-56.22.53.07-.5-.07.5Zm22.4-12.36C20.7 46.48 11.79 49 6.13 51.45a27.57 27.57 0 0 0-3.6 1.83 5.88 5.88 0 0 0-2 1.8 1.5 1.5 0 0 0-.2 1.07c.08.37.32.68.64.91.62.46 1.68.77 3.15.98l.14-1c-1.45-.2-2.29-.49-2.7-.78-.19-.14-.24-.26-.25-.32-.02-.07-.01-.18.09-.36.21-.39.76-.88 1.67-1.45.89-.56 2.06-1.16 3.45-1.76 5.58-2.42 14.4-4.91 21.54-6l-.15-.99Zm34.03 12.28c1.08-.5 1.77-1.2 1.76-2.11 0-.86-.63-1.67-1.48-2.4-1.73-1.46-4.94-3-8.78-4.31-7.69-2.65-18.25-4.57-25.53-3.46l.15 1c7.06-1.08 17.43.78 25.06 3.4 3.81 1.32 6.87 2.8 8.46 4.14.8.7 1.12 1.24 1.12 1.63 0 .33-.22.76-1.18 1.2l.42.91Zm-24.31 2.92c4.72-.32 10.35-.85 15-1.39 2.33-.27 4.42-.55 6.03-.8.8-.13 1.5-.26 2.05-.38a6.6 6.6 0 0 0 1.23-.35l-.42-.9a5.9 5.9 0 0 1-1.02.28c-.52.11-1.2.23-2 .36-1.59.25-3.66.53-5.98.8-4.64.54-10.25 1.07-14.96 1.39l.07 1ZM27.2 63.7c3.07 0 5.84-.76 7.7-1.99l-.55-.83c-1.66 1.1-4.23 1.82-7.15 1.82v1Zm-6.17-1.17c1.7.74 3.85 1.17 6.17 1.17v-1c-2.2 0-4.2-.41-5.78-1.09l-.4.92ZM17.14 61c-.5.06-1 .1-1.54.1v1c.58 0 1.14-.04 1.68-.11l-.14-1Zm-1.54.1c-2.3 0-4.33-.68-5.62-1.69l-.61.79c1.5 1.18 3.75 1.9 6.23 1.9v-1ZM5.44 58.23l.64.1.14-1-.64-.09-.14 1Zm-1.32-.2 1.32.2.14-.99-1.32-.2-.14 1Zm5.86 1.38c-1.02-.8-2.26-1.85-3.76-2.07l-.14.98c1.18.18 2.18 1.01 3.29 1.88l.61-.79Zm11.44 2.2a8.13 8.13 0 0 0-4.28-.61l.14.99a7.14 7.14 0 0 1 3.75.54l.4-.92Zm16.14-2.02c-1.22.08-2.3.68-3.2 1.29l.54.83a5.83 5.83 0 0 1 2.73-1.13l-.07-1Z"
                      }),
                      se.createElement("path", {
                        fill: "#FFF0D4",
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        d: "M36.4 21.6h-8.8a2 2 0 0 1-2-2v-4.37a2 2 0 0 1 .59-1.42l4.4-4.4a2 2 0 0 1 2.82 0l4.4 4.4a2 2 0 0 1 .59 1.42v4.37a2 2 0 0 1-2 2Z"
                      }),
                      se.createElement("path", { fill: "#F28C8C", stroke: "#0E101A", d: "M30.4 13.6a1.6 1.6 0 0 1 3.2 0v3.2h-3.2v-3.2Z" }),
                      se.createElement("path", {
                        fill: "#FFF0D4",
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        d: "M39.6 20H24.4a2 2 0 0 0-2 2v21.6c0 1.1.9 2 2 2h15.2a2 2 0 0 0 2-2V22a2 2 0 0 0-2-2Z"
                      }),
                      se.createElement("path", { fill: "#F28C8C", stroke: "#0E101A", d: "M30.4 24.8a1.6 1.6 0 0 1 3.2 0V28h-3.2v-3.2Z" }),
                      se.createElement("path", {
                        fill: "#FFF0D4",
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        d: "M26 28h-7.2a2 2 0 0 0-2 2v17.6c0 1.1.9 2 2 2H26a2 2 0 0 0 2-2V30a2 2 0 0 0-2-2Z"
                      }),
                      se.createElement("path", { fill: "#F28C8C", stroke: "#0E101A", d: "M20.8 32.8a1.6 1.6 0 0 1 3.2 0V36h-3.2v-3.2Z" }),
                      se.createElement("path", {
                        fill: "#FFF0D4",
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        d: "M45.2 28H38a2 2 0 0 0-2 2v17.6c0 1.1.9 2 2 2h7.2a2 2 0 0 0 2-2V30a2 2 0 0 0-2-2Z"
                      }),
                      se.createElement("path", { fill: "#F28C8C", stroke: "#0E101A", d: "M40 32.8a1.6 1.6 0 1 1 3.2 0V36H40v-3.2Z" }),
                      se.createElement("path", {
                        fill: "#FFF0D4",
                        fillRule: "evenodd",
                        d: "M12.8 41.2c0-1.1.9-2 2-2h2.54a2 2 0 0 1 2 2v2h4.08v-2c0-1.1.9-2 2-2h2.54a2 2 0 0 1 2 2v2h4.08v-2c0-1.1.9-2 2-2h2.54a2 2 0 0 1 2 2v2h4.08v-2c0-1.1.9-2 2-2h2.54a2 2 0 0 1 2 2v4a2 2 0 0 1-.05.45c.03.18.05.36.05.55v7.4H12.8v-7.4c0-.19.02-.37.05-.55a2 2 0 0 1-.05-.45v-4Z",
                        clipRule: "evenodd"
                      }),
                      se.createElement("path", {
                        fill: "#0E101A",
                        d: "M19.34 43.2h-.5v.5h.5v-.5Zm4.08 0v.5h.5v-.5h-.5Zm6.54 0h-.5v.5h.5v-.5Zm4.08 0v.5h.5v-.5h-.5Zm6.54 0h-.5v.5h.5v-.5Zm4.08 0v.5h.5v-.5h-.5Zm6.49 2.45-.49-.11-.02.1.02.1.49-.1Zm.05 7.95v.5h.5v-.5h-.5Zm-38.4 0h-.5v.5h.5v-.5Zm.05-7.95.5.09.01-.1-.02-.1-.49.1Zm1.95-6.95a2.5 2.5 0 0 0-2.5 2.5h1c0-.83.67-1.5 1.5-1.5v-1Zm2.54 0H14.8v1h2.54v-1Zm2.5 2.5a2.5 2.5 0 0 0-2.5-2.5v1c.82 0 1.5.67 1.5 1.5h1Zm0 2v-2h-1v2h1Zm3.58-.5h-4.08v1h4.08v-1Zm-.5-1.5v2h1v-2h-1Zm2.5-2.5a2.5 2.5 0 0 0-2.5 2.5h1c0-.83.67-1.5 1.5-1.5v-1Zm2.54 0h-2.54v1h2.54v-1Zm2.5 2.5a2.5 2.5 0 0 0-2.5-2.5v1c.83 0 1.5.67 1.5 1.5h1Zm0 2v-2h-1v2h1Zm3.58-.5h-4.08v1h4.08v-1Zm-.5-1.5v2h1v-2h-1Zm2.5-2.5a2.5 2.5 0 0 0-2.5 2.5h1c0-.83.67-1.5 1.5-1.5v-1Zm2.54 0h-2.54v1h2.54v-1Zm2.5 2.5a2.5 2.5 0 0 0-2.5-2.5v1c.83 0 1.5.67 1.5 1.5h1Zm0 2v-2h-1v2h1Zm3.58-.5h-4.08v1h4.08v-1Zm.5.5v-2h-1v2h1Zm0-2c0-.83.68-1.5 1.5-1.5v-1a2.5 2.5 0 0 0-2.5 2.5h1Zm1.5-1.5h2.54v-1h-2.54v1Zm2.54 0c.83 0 1.5.67 1.5 1.5h1a2.5 2.5 0 0 0-2.5-2.5v1Zm1.5 1.5v4h1v-4h-1Zm0 4c0 .12-.01.23-.04.34l.98.22c.04-.18.06-.37.06-.56h-1Zm1 1c0-.22-.02-.43-.06-.64l-.98.18c.03.15.04.3.04.46h1Zm0 7.4v-7.4h-1v7.4h1Zm-19.7.5h19.2v-1H32v1Zm-19.2 0H32v-1H12.8v1Zm-.5-7.9v7.4h1v-7.4h-1Zm.06-.64c-.04.2-.06.42-.06.64h1c0-.16.01-.31.04-.46l-.98-.18Zm-.06-.36c0 .2.02.38.06.56l.98-.22a1.5 1.5 0 0 1-.04-.34h-1Zm0-4v4h1v-4h-1Z"
                      }),
                      se.createElement("path", { fill: "#FFF0D4", d: "M13.2 50.4h37.6v6.4H13.2v-6.4Z" }),
                      se.createElement("circle", { cx: "7.2", cy: "7.2", r: "6.4", fill: "#F8E485", stroke: "#0E101A" }),
                      se.createElement("path", {
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        d: "M3.2 21.6c2.18 0 4 4 4 4s1.82-4 4-4M12.8 16c1.75 0 3.2 3.2 3.2 3.2s1.45-3.2 3.2-3.2"
                      })
                    ),
                    se.createElement(
                      "defs",
                      null,
                      se.createElement("clipPath", { id: "SuccessG_a" }, se.createElement("path", { fill: "#fff", d: "M0 0h64v64H0z" }))
                    )
                  ),
                null
              )
            }
          },
          {
            emptyState: {
              title: "All the world's a page.",
              description: "Suggestions will appear here.",
              illustration: se.createElement(
                () =>
                  se.createElement(
                    "svg",
                    { fill: "none", viewBox: "0 0 64 64", role: "img", "aria-hidden": !0, focusable: !1 },
                    se.createElement(
                      "g",
                      { stroke: "#0E101A", strokeLinecap: "round", strokeLinejoin: "round", clipPath: "url(#EmptyH_a)" },
                      se.createElement("path", {
                        fill: "#FCE5E5",
                        strokeMiterlimit: "10",
                        d: "M62.4 11.2H23.24C22.16 28.28 3.64 40.4 7.8 62.4h39.16C43.6 35.2 61.32 28.28 62.4 11.2Z"
                      }),
                      se.createElement("path", {
                        fill: "#FCE5E5",
                        strokeMiterlimit: "10",
                        d: "M59.2 8H20.04C18.96 25.08.44 37.2 4.6 59.2h39.16C40.8 32.8 58.13 25.08 59.2 8Z"
                      }),
                      se.createElement("path", {
                        fill: "#FEFAE9",
                        strokeMiterlimit: "10",
                        d: "M56 4.8H17.4C16.35 21.88-1.91 34 2.2 56H40C36.67 34 54.93 21.88 56 4.8Z"
                      }),
                      se.createElement("path", { d: "M24 13.6h20M20 22.4h20M14.4 32h20M9.6 42.8H24" }),
                      se.createElement("path", {
                        fill: "#F8E485",
                        strokeMiterlimit: "10",
                        d: "M.55 10.12a4.29 4.29 0 1 1 7.43-4.3l16.3 28.24-7.43 4.3L.55 10.11Z"
                      }),
                      se.createElement("path", {
                        fill: "#79A8F2",
                        strokeMiterlimit: "10",
                        d: "M.55 10.12a4.29 4.29 0 1 1 7.43-4.3l3.21 5.58-7.43 4.29-3.21-5.57Z"
                      }),
                      se.createElement("path", {
                        fill: "#F8C6DA",
                        strokeMiterlimit: "10",
                        d: "M.55 10.12a4.29 4.29 0 1 1 7.43-4.3l.64 1.12-7.43 4.29-.64-1.11Z"
                      }),
                      se.createElement("path", {
                        fill: "#FEFAE9",
                        strokeMiterlimit: "10",
                        d: "m16.85 38.35 7.43-4.29-.07 8.47-7.36-4.18Z"
                      }),
                      se.createElement("path", { fill: "#0E101A", strokeMiterlimit: "10", d: "m20.2 39.88 3.72-2.14.3 4.79-4.01-2.65Z" })
                    ),
                    se.createElement(
                      "defs",
                      null,
                      se.createElement("clipPath", { id: "EmptyH_a" }, se.createElement("path", { fill: "#fff", d: "M0 0h64v64H0z" }))
                    )
                  ),
                null
              )
            },
            successState: {
              title: "You deserve a break.",
              description: "There are no more suggestions.",
              illustration: se.createElement(
                () =>
                  se.createElement(
                    "svg",
                    { fill: "none", viewBox: "0 0 64 64", role: "img", "aria-hidden": !0, focusable: !1 },
                    se.createElement("path", {
                      stroke: "#0E101A",
                      strokeLinejoin: "round",
                      strokeMiterlimit: "10",
                      d: "M28.64 24s2.56-1.62 2.56-4.86c0-4.92-6.4-5.8-6.4-10.67 0-3.36 3.84-6.07 3.84-6.07M36.64 21.6s2.56-1.56 2.56-4.68c0-4.8-6.4-5.52-6.4-10.28C32.8 3.41 36.64.8 36.64.8"
                    }),
                    se.createElement("path", {
                      fill: "#C6CBDE",
                      d: "M32.8 64c11.05 0 20-1.43 20-3.2 0-1.77-8.95-3.2-20-3.2s-20 1.43-20 3.2c0 1.77 8.95 3.2 20 3.2Z"
                    }),
                    se.createElement("path", {
                      fill: "#1995BB",
                      fillRule: "evenodd",
                      stroke: "#0E101A",
                      strokeLinejoin: "round",
                      strokeMiterlimit: "10",
                      d: "M49.6 35.2h5.39c2.82 0 5.01 2.47 5.01 5.36v6.08c0 2.89-2.2 5.36-5.01 5.36H49.6v-3.5h5.39c.85 0 1.66-.78 1.66-1.86v-6.08c0-1.08-.81-1.86-1.66-1.86H49.6v-3.5Z",
                      clipRule: "evenodd"
                    }),
                    se.createElement("path", {
                      fill: "#15C39A",
                      stroke: "#0E101A",
                      strokeLinejoin: "round",
                      strokeMiterlimit: "10",
                      d: "M31 60.8a19 19 0 0 1-19-19V31.2h40v10.6a19 19 0 0 1-19 19h-2Z"
                    }),
                    se.createElement("path", {
                      fill: "#F7E68B",
                      d: "M49.66 32.63c1.5-.44 2.34-.94 2.34-1.48C52 29.41 43.04 28 32 28s-20 1.4-20 3.15c0 .6 1.08 1.17 2.95 1.65 3.37-1 10-1.67 17.65-1.67 7.22 0 13.54.6 17.06 1.5Z"
                    }),
                    se.createElement("path", {
                      fill: "#1F243C",
                      stroke: "#0E101A",
                      strokeLinejoin: "round",
                      strokeMiterlimit: "10",
                      d: "M49.6 32.71c-3.49-.9-9.75-1.51-16.9-1.51-7.58 0-14.16.68-17.5 1.69 3.49.9 9.75 1.51 16.9 1.51 7.58 0 14.16-.68 17.5-1.69Z"
                    }),
                    se.createElement("path", {
                      stroke: "#0E101A",
                      strokeLinejoin: "round",
                      strokeMiterlimit: "10",
                      d: "M32 34.4c11.05 0 20-1.43 20-3.2 0-1.77-8.95-3.2-20-3.2s-20 1.43-20 3.2c0 1.77 8.95 3.2 20 3.2ZM23.2 34v7.6"
                    }),
                    se.createElement("path", {
                      fill: "#FAC0D6",
                      stroke: "#0E101A",
                      strokeLinejoin: "round",
                      strokeMiterlimit: "10",
                      d: "M25.98 48.64H20.6a.77.77 0 0 1-.77-.76V42.5c0-.42.35-.77.77-.77h5.37c.42 0 .77.35.77.77v5.37c0 .42-.35.76-.77.76Z"
                    })
                  ),
                null
              )
            }
          },
          {
            emptyState: {
              title: "So far, so good.",
              description: "Suggestions will appear here.",
              illustration: se.createElement(
                () =>
                  se.createElement(
                    "svg",
                    { fill: "none", viewBox: "0 0 64 64", role: "img", "aria-hidden": !0, focusable: !1 },
                    se.createElement(
                      "g",
                      { clipPath: "url(#EmptyI_a)" },
                      se.createElement("path", {
                        fill: "#C6CBDE",
                        d: "M35.6 64c14.8 0 18.8-3.04 18.8-6.8s-4-6.8-18.8-6.8-26.8 3.04-26.8 6.8 12 6.8 26.8 6.8Z"
                      }),
                      se.createElement("ellipse", {
                        cx: "32",
                        cy: "26.8",
                        fill: "#15C39A",
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        rx: "31.2",
                        ry: "6"
                      }),
                      se.createElement(
                        "mask",
                        {
                          id: "EmptyI_b",
                          width: "64",
                          height: "14",
                          x: "0",
                          y: "20",
                          maskUnits: "userSpaceOnUse",
                          style: { maskType: "alpha" }
                        },
                        se.createElement("ellipse", {
                          cx: "32",
                          cy: "26.8",
                          fill: "#15C39A",
                          stroke: "#0E101A",
                          strokeLinecap: "round",
                          strokeLinejoin: "round",
                          rx: "31.2",
                          ry: "6"
                        })
                      ),
                      se.createElement(
                        "g",
                        { mask: "url(#EmptyI_b)" },
                        se.createElement("path", {
                          fill: "#FFF0D4",
                          fillRule: "evenodd",
                          d: "M20.9 25.03a15.38 15.38 0 0 1 6.83-2.51 14.38 14.38 0 0 1 11.68 3.73s4.67-2.14 9.22-1c4.54 1.13 8.17 3.63 8.17 9.08S44.08 41.6 44.08 41.6H24.71a12.9 12.9 0 0 1-6.31 1.6c-6.19 0-11.2-4.12-11.2-9.2 0-5.08 5.01-9.2 11.2-9.2.86 0 1.7.08 2.5.23Z",
                          clipRule: "evenodd"
                        }),
                        se.createElement("path", {
                          fill: "#0E101A",
                          d: "m27.73 22.52.07.5-.07-.5Zm-6.83 2.51-.09.5a.5.5 0 0 0 .38-.09l-.29-.41Zm18.5 1.22-.35.34c.14.16.37.2.57.11l-.21-.45Zm9.23-1-.13.48.13-.49ZM44.08 41.6v.5a.5.5 0 0 0 .07 0l-.07-.5Zm-19.37 0v-.5a.5.5 0 0 0-.24.06l.24.44Zm2.96-19.58a15.88 15.88 0 0 0-7.05 2.6l.56.82c1.7-1.17 3.93-2.09 6.62-2.43l-.13-.99Zm11.74 4.23.36-.35-.02-.02a4.06 4.06 0 0 0-.2-.2l-.63-.53a14.96 14.96 0 0 0-11.25-3.12l.13.98a13.96 13.96 0 0 1 11.25 3.58l.36-.34Zm9.34-1.5c-2.38-.59-4.77-.32-6.55.08a18.63 18.63 0 0 0-2.98.96h-.01l.2.46.2.45h.02l.03-.02a8.13 8.13 0 0 1 .72-.28c.5-.18 1.2-.4 2.04-.6 1.7-.38 3.92-.61 6.08-.07l.25-.97Zm8.55 9.58c0-2.85-.96-4.97-2.53-6.52-1.57-1.53-3.7-2.47-6.02-3.05l-.25.97c2.23.56 4.18 1.43 5.57 2.8 1.37 1.34 2.23 3.2 2.23 5.8h1ZM44.08 41.6l.07.5h.02l.02-.01a9.58 9.58 0 0 0 .53-.09 38.05 38.05 0 0 0 5.89-1.52 16.35 16.35 0 0 0 4.51-2.32c1.25-.98 2.18-2.25 2.18-3.83h-1c0 1.15-.66 2.15-1.8 3.04-1.13.9-2.66 1.6-4.23 2.17a34.72 34.72 0 0 1-6.22 1.56h-.03l.06.5Zm-19.37.5h19.37v-1H24.71v1Zm-.24-.94a12.4 12.4 0 0 1-6.07 1.54v1c2.43 0 4.68-.61 6.56-1.66l-.5-.88ZM18.4 42.7c-6 0-10.7-3.98-10.7-8.7h-1c0 5.44 5.33 9.7 11.7 9.7v-1ZM7.7 34c0-4.72 4.7-8.7 10.7-8.7v-1c-6.37 0-11.7 4.26-11.7 9.7h1Zm10.7-8.7c.83 0 1.64.08 2.41.22l.18-.98c-.83-.16-1.7-.24-2.59-.24v1Z"
                        }),
                        se.createElement("ellipse", {
                          cx: "32",
                          cy: "26.8",
                          stroke: "#0E101A",
                          strokeLinecap: "round",
                          strokeLinejoin: "round",
                          rx: "31.2",
                          ry: "6"
                        })
                      ),
                      se.createElement("path", {
                        fill: "#F28C8C",
                        fillRule: "evenodd",
                        d: "M55 1a2.4 2.4 0 0 0-3.29.88l-7.45 12.9c-1.96 3.41-6.37 4.73-9.6 6.97a7.97 7.97 0 0 0-2.37 2.57l-2 3.46a8 8 0 0 0 13.86 8l2-3.46c.61-1.06.95-2.2 1.05-3.34.32-3.91-.75-8.39 1.22-11.8l7.45-12.9A2.4 2.4 0 0 0 55 1Z",
                        clipRule: "evenodd"
                      }),
                      se.createElement("path", {
                        fill: "#0E101A",
                        d: "m32.3 24.32-.44-.25.43.25Zm-2 3.46.43.25-.44-.25Zm13.85 8-.43-.25.43.25Zm2-3.46.43.25-.43-.25Zm6-30.19a1.9 1.9 0 0 1 2.6-.7l.5-.86a2.9 2.9 0 0 0-3.97 1.06l.87.5Zm-7.45 12.9 7.45-12.9-.87-.5-7.45 12.9.87.5Zm-11.97 9.54c.57-1 1.33-1.8 2.21-2.41l-.57-.82c-1 .69-1.86 1.6-2.51 2.73l.87.5Zm-2 3.46 2-3.46-.87-.5-2 3.46.87.5Zm2.74 10.25a7.5 7.5 0 0 1-2.74-10.25l-.87-.5a8.5 8.5 0 0 0 3.11 11.61l.5-.86Zm10.25-2.75a7.5 7.5 0 0 1-10.25 2.75l-.5.86a8.5 8.5 0 0 0 11.61-3.1l-.86-.5Zm2-3.46-2 3.46.86.5 2-3.46-.86-.5Zm.98-3.13a7.47 7.47 0 0 1-.98 3.13l.86.5a8.47 8.47 0 0 0 1.11-3.54l-1-.09Zm8.74-24.9-7.45 12.9.86.5 7.45-12.9-.86-.5Zm-.7-2.6a1.9 1.9 0 0 1 .7 2.6l.86.5A2.9 2.9 0 0 0 55.24.56l-.5.87ZM47.7 29.03c.09-1.01.08-2.05.06-3.07-.03-1.04-.07-2.06-.06-3.06.02-2.01.25-3.88 1.16-5.46l-.86-.5c-1.05 1.81-1.28 3.9-1.3 5.95 0 1.03.03 2.08.06 3.09.02 1.02.03 2.01-.05 2.96l1 .09Zm-3.86-14.5c-.92 1.6-2.42 2.72-4.15 3.74-.87.51-1.77.99-2.67 1.48-.9.5-1.8 1-2.64 1.59l.57.82c.79-.55 1.65-1.04 2.55-1.53.88-.48 1.81-.97 2.7-1.5 1.77-1.04 3.46-2.28 4.5-4.1l-.86-.5Z"
                      }),
                      se.createElement("path", {
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        d: "m32.89 31.17 1.96-3.84a8.6 8.6 0 0 1 5.93-4.51"
                      }),
                      se.createElement("path", { fill: "#FFF0D4", d: "M49.6 28.8H27.2v10h22.4v-10Z" }),
                      se.createElement("path", {
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        d: "M27.2 28.8h22.4"
                      }),
                      se.createElement("path", {
                        fill: "#87E8D1",
                        fillRule: "evenodd",
                        d: "M.83 27.07H.8V28a31.2 31.2 0 0 0 62.4 0v-.93h-.03c-.73 3.19-14.4 5.73-31.17 5.73-16.76 0-30.44-2.54-31.17-5.73Z",
                        clipRule: "evenodd"
                      }),
                      se.createElement("path", {
                        fill: "#0E101A",
                        d: "M.8 27.07v-.5a.5.5 0 0 0-.5.5h.5Zm.03 0 .49-.11a.5.5 0 0 0-.49-.4v.5Zm62.37 0h.5a.5.5 0 0 0-.5-.5v.5Zm-.03 0v-.5a.5.5 0 0 0-.49.39l.49.1Zm-62.37.5h.03v-1H.8v1Zm.5.43v-.93h-1V28h1ZM32 58.7A30.7 30.7 0 0 1 1.3 28h-1A31.7 31.7 0 0 0 32 59.7v-1ZM62.7 28A30.7 30.7 0 0 1 32 58.7v1A31.7 31.7 0 0 0 63.7 28h-1Zm0-.93V28h1v-.93h-1Zm.47.5h.03v-1h-.03v1Zm-.49-.61c-.05.24-.25.54-.68.88-.43.33-1.04.67-1.85 1-1.6.68-3.86 1.28-6.65 1.8-5.56 1.03-13.14 1.66-21.5 1.66v1c8.4 0 16.04-.64 21.69-1.68a35.17 35.17 0 0 0 6.85-1.85 9.01 9.01 0 0 0 2.08-1.15c.52-.4.9-.88 1.04-1.44l-.98-.22ZM32 32.3c-8.36 0-15.94-.63-21.5-1.66a34.23 34.23 0 0 1-6.65-1.8 8.05 8.05 0 0 1-1.85-1c-.43-.34-.63-.64-.68-.88l-.98.22c.13.56.52 1.04 1.04 1.44.53.42 1.23.8 2.08 1.15 1.7.7 4.04 1.33 6.85 1.85C15.96 32.66 23.6 33.3 32 33.3v-1Z"
                      }),
                      se.createElement(
                        "g",
                        { opacity: ".15", style: { mixBlendMode: "multiply" } },
                        se.createElement("path", {
                          fill: "#0E101A",
                          d: "M32 43.6h17.93c.52 8.29 4.76 12.75 10.47 19.2H43.2C36.34 59.6 32 53.6 32 43.6Z"
                        }),
                        se.createElement("path", {
                          stroke: "#0E101A",
                          strokeLinecap: "round",
                          strokeLinejoin: "round",
                          strokeMiterlimit: "10",
                          d: "M32 43.6h17.93c.52 8.29 4.76 12.75 10.47 19.2H43.2C36.34 59.6 32 53.6 32 43.6Z"
                        })
                      ),
                      se.createElement("path", {
                        fill: "#fff",
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeMiterlimit: "10",
                        d: "M35.2 41.6h18.73a34.2 34.2 0 0 0 8.98 21.6H44.56c-5.36-3.65-8.84-13.31-9.36-21.6Z"
                      }),
                      se.createElement("path", {
                        stroke: "#0E101A",
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        d: "M50.5 47.2h-9.7M52.1 52h-9.7M54.5 56.8h-9.7"
                      })
                    ),
                    se.createElement(
                      "defs",
                      null,
                      se.createElement("clipPath", { id: "EmptyI_a" }, se.createElement("path", { fill: "#fff", d: "M0 0h64v64H0z" }))
                    )
                  ),
                null
              )
            },
            successState: {
              title: "Nice work! Have a cookie.",
              description: "There are no more suggestions.",
              illustration: se.createElement(
                () =>
                  se.createElement(
                    "svg",
                    { fill: "none", viewBox: "0 0 64 64", role: "img", "aria-hidden": !0, focusable: !1 },
                    se.createElement(
                      "g",
                      { clipPath: "url(#SuccessI_a)" },
                      se.createElement("path", {
                        fill: "#C6CBDE",
                        d: "M22.4 60c8.84 0 16-2.69 16-6s-7.16-6-16-6-16 2.69-16 6 7.16 6 16 6Z"
                      }),
                      se.createElement("path", {
                        fill: "#C6CBDE",
                        d: "M41.6 64c11.05 0 20-2.5 20-5.6 0-3.1-8.95-5.6-20-5.6s-20 2.5-20 5.6c0 3.1 8.95 5.6 20 5.6Z"
                      }),
                      se.createElement("path", {
                        fill: "#DDEFF5",
                        fillRule: "evenodd",
                        d: "M36.8 6.75H.8l5.27 46.61c0 1.46 5.7 2.64 12.73 2.64s12.73-1.18 12.73-2.63L36.8 6.75Z",
                        clipRule: "evenodd"
                      }),
                      se.createElement("path", {
                        fill: "#000",
                        d: "M.8 6.75v-.5a.5.5 0 0 0-.5.56l.5-.06Zm36 0 .5.06a.5.5 0 0 0-.5-.56v.5ZM6.07 53.36h.5a.5.5 0 0 0 0-.05l-.5.05Zm25.46 0-.01-.5a.5.5 0 0 0-.49.5h.5Zm0 0 .02.5a.5.5 0 0 0 .48-.44l-.5-.05ZM.8 7.27h36v-1H.8v1ZM6.57 53.3 1.3 6.7l-1 .1 5.27 46.62 1-.11Zm0 .06h-1 1ZM18.8 55.5c-3.5 0-6.64-.3-8.9-.76a11.6 11.6 0 0 1-2.61-.8c-.3-.14-.5-.28-.6-.4-.12-.1-.12-.17-.12-.17h-1c0 .35.18.65.4.88.23.23.53.42.88.59.7.34 1.68.64 2.85.88 2.34.48 5.56.78 9.1.78v-1Zm12.23-2.13s0 .06-.11.18c-.12.11-.31.25-.6.4-.6.28-1.48.55-2.62.79-2.26.47-5.4.76-8.9.76v1c3.54 0 6.76-.3 9.1-.78 1.17-.24 2.15-.54 2.85-.88.35-.17.65-.36.88-.6.22-.22.4-.52.4-.87h-1Zm.49-.5.03 1-.03-1ZM36.3 6.7 31.03 53.3l1 .11L37.3 6.81l-1-.11Z"
                      }),
                      se.createElement("ellipse", {
                        cx: "18.8",
                        cy: "6.39",
                        fill: "#DDEFF5",
                        stroke: "#000",
                        strokeLinejoin: "round",
                        rx: "18",
                        ry: "3.95"
                      }),
                      se.createElement("path", {
                        fill: "#fff",
                        fillRule: "evenodd",
                        d: "M35.2 20.83H2.4l3.67 32.53c0 1.46 5.7 2.64 12.73 2.64s12.73-1.18 12.73-2.63l3.67-32.54Z",
                        clipRule: "evenodd"
                      }),
                      se.createElement("path", {
                        fill: "#000",
                        d: "M2.4 20.83v-.5a.5.5 0 0 0-.5.56l.5-.06Zm32.8 0 .5.06a.5.5 0 0 0-.5-.56v.5ZM6.07 53.36h.5a.5.5 0 0 0 0-.05l-.5.05Zm25.46 0-.03-.5a.5.5 0 0 0-.47.5h.5Zm0 0 .04.5a.5.5 0 0 0 .46-.44l-.5-.05ZM2.4 21.34h32.8v-1H2.4v1ZM6.56 53.3 2.9 20.77l-1 .12 3.67 32.53 1-.11Zm0 .06-1-.01h1ZM18.8 55.5c-3.5 0-6.64-.3-8.9-.76a11.6 11.6 0 0 1-2.61-.8c-.3-.14-.5-.28-.6-.4-.12-.11-.12-.17-.12-.17h-1c0 .35.18.65.4.88.23.23.53.42.88.59.7.34 1.68.64 2.85.88 2.34.48 5.56.78 9.1.78v-1Zm12.23-2.13s0 .06-.11.18c-.12.11-.31.25-.6.4-.6.28-1.48.55-2.62.79-2.26.47-5.4.76-8.9.76v1c3.54 0 6.76-.3 9.1-.78 1.17-.24 2.15-.54 2.85-.88.35-.17.65-.37.88-.6.22-.22.4-.52.4-.87h-1Zm.47-.5.07 1-.07-1Zm3.2-32.1-3.67 32.54 1 .11L35.7 20.9l-1-.12Z"
                      }),
                      se.createElement("ellipse", {
                        cx: "18.8",
                        cy: "20.8",
                        fill: "#fff",
                        stroke: "#000",
                        strokeLinejoin: "round",
                        rx: "16.4",
                        ry: "3.2"
                      }),
                      se.createElement("path", {
                        fill: "#FFF0D4",
                        stroke: "#000",
                        d: "M59.66 53.9c-.15 4.95-9.28 6.9-20.4 6.56-11.1-.33-20-2.8-19.85-7.75.15-4.94 9.28-8.67 20.39-8.34 11.11.33 20 4.6 19.86 9.54Z"
                      }),
                      se.createElement("rect", {
                        width: "5.86",
                        height: "2.45",
                        x: "22.77",
                        y: "51.3",
                        fill: "#4A6EE0",
                        rx: "1.23",
                        transform: "rotate(-4 22.77 51.3)"
                      }),
                      se.createElement("rect", {
                        width: "5.86",
                        height: "2.45",
                        x: "32.42",
                        y: "51.83",
                        fill: "#F18AB2",
                        rx: "1.23",
                        transform: "rotate(41 32.42 51.83)"
                      }),
                      se.createElement("rect", {
                        width: "5.86",
                        height: "2.45",
                        x: "43.02",
                        y: "50.37",
                        fill: "#8780E4",
                        rx: "1.23",
                        transform: "rotate(120 43.02 50.37)"
                      }),
                      se.createElement("rect", {
                        width: "5.86",
                        height: "2.45",
                        x: "30.1",
                        y: "47.89",
                        fill: "#15C39A",
                        rx: "1.23",
                        transform: "rotate(4 30.1 47.89)"
                      }),
                      se.createElement("rect", {
                        width: "5.86",
                        height: "2.45",
                        x: "49.73",
                        y: "51.29",
                        fill: "#F18AB2",
                        rx: "1.23",
                        transform: "rotate(29 49.73 51.3)"
                      }),
                      se.createElement("rect", {
                        width: "5.86",
                        height: "2.45",
                        x: "42.44",
                        y: "56.4",
                        fill: "#15C39A",
                        rx: "1.23",
                        transform: "rotate(-19 42.44 56.4)"
                      }),
                      se.createElement("path", {
                        fill: "#7D6455",
                        fillRule: "evenodd",
                        d: "M21.92 48.56c3.48-2.71 10.2-4.42 17.88-4.2 10 .3 18.2 3.8 19.64 8.1-8.37 4.82-33.76 2.81-37.52-3.9Z",
                        clipRule: "evenodd",
                        opacity: ".3",
                        style: { mixBlendMode: "multiply" }
                      }),
                      se.createElement("path", {
                        fill: "#FFF0D4",
                        stroke: "#000",
                        d: "M62.13 49.5c-1.4 4.73-10.77 5.36-21.43 2.2-10.66-3.17-18.57-8.93-17.16-13.67 1.4-4.74 11.46-6.87 22.12-3.7S63.54 44.76 62.13 49.5Z"
                      }),
                      se.createElement("rect", {
                        width: "5.86",
                        height: "2.45",
                        x: "27.2",
                        y: "36.55",
                        fill: "#15C39A",
                        rx: "1.23",
                        transform: "rotate(-13 27.2 36.55)"
                      }),
                      se.createElement("rect", {
                        width: "5.86",
                        height: "2.45",
                        x: "33.87",
                        y: "39.22",
                        fill: "#EE6C9F",
                        rx: "1.23",
                        transform: "rotate(62 33.87 39.22)"
                      }),
                      se.createElement("rect", {
                        width: "5.86",
                        height: "2.45",
                        x: "38.18",
                        y: "34.85",
                        fill: "#4A6EE0",
                        rx: "1.23",
                        transform: "rotate(5 38.18 34.85)"
                      }),
                      se.createElement("rect", {
                        width: "5.86",
                        height: "2.45",
                        x: "41.76",
                        y: "45.57",
                        fill: "#4A6EE0",
                        rx: "1.23",
                        transform: "rotate(5 41.76 45.57)"
                      }),
                      se.createElement("rect", {
                        width: "5.86",
                        height: "2.45",
                        x: "39.05",
                        y: "39.32",
                        fill: "#8780E4",
                        rx: "1.23",
                        transform: "rotate(26 39.05 39.32)"
                      }),
                      se.createElement("rect", {
                        width: "5.86",
                        height: "2.45",
                        x: "49.66",
                        y: "43.71",
                        fill: "#EE6C9F",
                        rx: "1.23",
                        transform: "rotate(-10 49.66 43.71)"
                      }),
                      se.createElement("rect", {
                        width: "5.86",
                        height: "2.45",
                        x: "47.8",
                        y: "36.64",
                        fill: "#15C39A",
                        rx: "1.23",
                        transform: "rotate(47 47.8 36.64)"
                      }),
                      se.createElement("rect", {
                        width: "5.86",
                        height: "2.45",
                        x: "53.16",
                        y: "48.35",
                        fill: "#4A6EE0",
                        rx: "1.23",
                        transform: "rotate(-28 53.16 48.35)"
                      })
                    ),
                    se.createElement(
                      "defs",
                      null,
                      se.createElement("clipPath", { id: "SuccessI_a" }, se.createElement("path", { fill: "#fff", d: "M0 0h64v64H0z" }))
                    )
                  ),
                null
              )
            }
          },
          {
            emptyState: {
              title: "Let's get to work.",
              description: "Suggestions will appear here.",
              illustration: se.createElement(
                () =>
                  se.createElement(
                    "svg",
                    { fill: "none", viewBox: "0 0 64 64", role: "img", "aria-hidden": !0, focusable: !1 },
                    se.createElement(
                      "g",
                      { clipPath: "url(#EmptyJ_a)" },
                      se.createElement("ellipse", { cx: "32", cy: "57.6", fill: "#C6CBDE", rx: "32", ry: "5.6" }),
                      se.createElement("path", {
                        fill: "#F28C8C",
                        fillRule: "evenodd",
                        stroke: "#0E101A",
                        strokeLinejoin: "round",
                        d: "M26.4 5.6A2.4 2.4 0 0 0 24 8v8.8a2.4 2.4 0 0 0 2.4 2.4h12.8a2.4 2.4 0 0 0 2.4-2.4V8a2.4 2.4 0 0 0-2.4-2.4H26.4ZM19.2 8A7.2 7.2 0 0 1 26.4.8h12.8A7.2 7.2 0 0 1 46.4 8v8.8a7.2 7.2 0 0 1-7.2 7.2H26.4a7.2 7.2 0 0 1-7.2-7.2V8Z",
                        clipRule: "evenodd"
                      }),
                      se.createElement("rect", {
                        width: "62.4",
                        height: "46.4",
                        x: ".8",
                        y: "11.2",
                        fill: "#41D9B5",
                        stroke: "#000",
                        strokeLinejoin: "round",
                        rx: "10"
                      }),
                      se.createElement("path", {
                        stroke: "#000",
                        strokeLinejoin: "round",
                        d: "M15.2 21.2v7.2a10 10 0 0 0 10 10h28a10 10 0 0 0 10-10v-7.2"
                      }),
                      se.createElement("rect", {
                        width: "14.4",
                        height: "46.4",
                        x: ".8",
                        y: "11.2",
                        fill: "#11A683",
                        stroke: "#000",
                        strokeLinejoin: "round",
                        rx: "7.2"
                      }),
                      se.createElement("path", {
                        fill: "#F9EA9E",
                        stroke: "#0E101A",
                        d: "M23.2 32.4c0-1.1.9-2 2-2h5.6a2 2 0 0 1 2 2v10a4.8 4.8 0 0 1-9.6 0v-10Z"
                      }),
                      se.createElement("circle", { cx: "28", cy: "42.4", r: "2.4", fill: "#4D536E", stroke: "#0E101A" }),
                      se.createElement("path", {
                        fill: "#F9EA9E",
                        stroke: "#0E101A",
                        d: "M46.4 32.4c0-1.1.9-2 2-2H54a2 2 0 0 1 2 2v10a4.8 4.8 0 1 1-9.6 0v-10Z"
                      }),
                      se.createElement("circle", { cx: "51.2", cy: "42.4", r: "2.4", fill: "#4D536E", stroke: "#0E101A" })
                    ),
                    se.createElement(
                      "defs",
                      null,
                      se.createElement("clipPath", { id: "EmptyJ_a" }, se.createElement("path", { fill: "#fff", d: "M0 0h64v64H0z" }))
                    )
                  ),
                null
              )
            },
            successState: {
              title: "Great job!",
              description: "There are no more suggestions.",
              illustration: se.createElement(
                () =>
                  se.createElement(
                    "svg",
                    { fill: "none", viewBox: "0 0 64 64", role: "img", "aria-hidden": !0, focusable: !1 },
                    se.createElement("path", {
                      fill: "#FBEFB7",
                      stroke: "#0E101A",
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeMiterlimit: "10",
                      d: "M15.32 25.44c-1.2-2.02-3.23-.8-2.74.98-1.07-1.63-.47-2.98-1.04-4.04-.66-1.26-2.4-.82-2.33.65-.47-1.33.12-2.9-.09-3.74-.33-1.45-2.05-1.14-1.93.21a14.38 14.38 0 0 1-2.07-7.45c0-3.7 1.62-6.76 3.88-6.76 1.86 0 2.82 1.82 2.18 3.39-.3-.83-.83-1.27-1.69-1.27-1 0-1.63.98-1.63 2.2 0 1.75 1.45 2.75 3.23 2.77 2.05 0 3.4-2 3.4-4.32 0-3.09-2.28-6.14-5.91-5.65 1-.8-.16-2.26-1.39-1.28C4.26 3.43 2.4 7.36 2.4 11.82c0 11.26 10.86 23.53 21.75 20.76l-1.87-3.25c-3.15 0-5.33-1.14-6.96-3.9ZM56.94 1.13c-1.23-.98-2.39.47-1.39 1.28-3.63-.5-5.91 2.54-5.91 5.63 0 2.32 1.33 4.32 3.4 4.32 1.76 0 3.23-1 3.23-2.75 0-1.22-.63-2.2-1.63-2.2-.86 0-1.39.44-1.69 1.27-.65-1.57.32-3.37 2.18-3.37 2.26 0 3.88 3.05 3.88 6.75 0 2.65-.74 5.23-2.06 7.48.1-1.35-1.6-1.67-1.93-.21-.19.84.39 2.4-.08 3.74.07-1.48-1.69-1.92-2.34-.65-.56 1.05.02 2.4-1.03 4.03.49-1.75-1.53-2.98-2.74-.98-1.65 2.74-3.81 3.9-6.97 3.88L40 32.6c10.88 2.77 21.76-9.48 21.76-20.75-.05-4.46-1.9-8.39-4.82-10.72Z"
                    }),
                    se.createElement("path", {
                      fill: "#C6CBDE",
                      d: "M32 63.2c12.81 0 23.2-1.61 23.2-3.6S44.81 56 32 56c-12.81 0-23.2 1.61-23.2 3.6s10.39 3.6 23.2 3.6Z"
                    }),
                    se.createElement("path", {
                      fill: "#F6DF6C",
                      stroke: "#0E101A",
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeMiterlimit: "10",
                      d: "M47.2 55.2H16.8a2.4 2.4 0 1 0 0 4.8h30.4a2.4 2.4 0 0 0 0-4.8Z"
                    }),
                    se.createElement("path", {
                      fill: "#F6DF6C",
                      fillRule: "evenodd",
                      d: "M32 4.64H14.77c-1.64 14.28 2.98 25.28 9.5 30.84.37.33.77.64 1.16.96 1.9 1.5 3.8 3.03 3.77 5.4-.05 3.19-.51 4.8-.51 4.8-.82 3.1-3.62 4.07-6.1 4.93-2.28.78-4.3 1.48-4.3 3.63H45.7c0-2.15-2.01-2.85-4.28-3.63-2.5-.86-5.3-1.83-6.1-4.93 0 0-.47-1.61-.52-4.8-.04-2.37 1.87-3.9 3.77-5.4.4-.32.8-.63 1.17-.96 6.51-5.56 11.13-16.56 9.49-30.84H32Z",
                      clipRule: "evenodd"
                    }),
                    se.createElement("path", {
                      fill: "#0E101A",
                      d: "M14.77 4.64v-.5a.5.5 0 0 0-.5.44l.5.06Zm9.5 30.84.32-.38-.33.38Zm1.16.96.32-.4-.32.4Zm3.77 5.4h.5-.5Zm-.51 4.8-.48-.13.48.13Zm-6.1 4.93-.17-.48.16.48Zm-4.3 3.63h-.5c0 .28.23.5.5.5v-.5Zm27.41 0v.5a.5.5 0 0 0 .5-.5h-.5Zm-4.28-3.63.16-.48-.16.48Zm-6.1-4.93.48-.12v-.01l-.49.13Zm-.52-4.8h-.5.5Zm3.77-5.4.3.4-.3-.4Zm1.17-.96.32.38-.32-.38Zm9.49-30.84.5-.06a.5.5 0 0 0-.5-.44v.5Zm-34.46.5H32v-1H14.77v1ZM24.6 35.1c-6.36-5.43-10.95-16.25-9.32-30.4l-1-.12c-1.65 14.41 3 25.59 9.67 31.28l.65-.76Zm1.16.95c-.4-.32-.8-.63-1.16-.95l-.65.76c.38.33.79.66 1.18.97l.63-.78Zm3.95 5.8a5.03 5.03 0 0 0-1.27-3.35c-.75-.91-1.75-1.7-2.68-2.45l-.63.78c.96.76 1.87 1.49 2.54 2.3.65.8 1.06 1.67 1.04 2.7l1 .01Zm-1.01 4.8.48.13v-.03a5.33 5.33 0 0 0 .08-.3l.17-.94c.12-.82.25-2.05.28-3.67l-1-.01a26.8 26.8 0 0 1-.43 4.4 7.18 7.18 0 0 1-.06.27l.48.14Zm-5.94 5.39c2.44-.84 5.53-1.87 6.42-5.27l-.97-.25c-.73 2.8-3.24 3.7-5.78 4.57l.33.95ZM18.8 55.2c0-.88.39-1.45 1.07-1.92.72-.5 1.72-.84 2.88-1.24l-.33-.95c-1.12.39-2.26.78-3.12 1.37-.89.61-1.5 1.46-1.5 2.74h1Zm13.2-.5H18.3v1H32v-1Zm0 1h13.7v-1H32v1Zm14.2-.5c0-1.28-.61-2.13-1.5-2.74-.86-.59-2-.98-3.12-1.37l-.33.95c1.16.4 2.16.75 2.88 1.24.68.47 1.07 1.04 1.07 1.92h1Zm-4.62-4.1c-2.54-.88-5.05-1.78-5.78-4.58l-.97.25c.9 3.4 3.98 4.43 6.42 5.27l.33-.95Zm-6.27-4.46.48-.13v-.01a5.92 5.92 0 0 1-.06-.26c-.04-.2-.1-.49-.16-.88a26.8 26.8 0 0 1-.27-3.53l-1 .01a27.78 27.78 0 0 0 .45 4.6 8.12 8.12 0 0 0 .07.31l.01.02v.01l.48-.14Zm-.01-4.81a4.04 4.04 0 0 1 1.04-2.7c.67-.81 1.58-1.54 2.54-2.3l-.63-.78c-.93.74-1.93 1.54-2.68 2.45-.76.92-1.3 2-1.27 3.34l1-.01Zm3.58-5c.4-.31.8-.64 1.18-.97l-.65-.76c-.37.32-.76.63-1.16.95l.63.78Zm1.18-.97c6.67-5.7 11.32-16.87 9.66-31.28l-.99.12c1.63 14.15-2.96 24.97-9.32 30.4l.65.76Zm9.17-31.72H32v1h17.23v-1Z"
                    }),
                    se.createElement("path", {
                      stroke: "#0E101A",
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeMiterlimit: "10",
                      d: "M30.8 40h2.4"
                    }),
                    se.createElement("path", {
                      fill: "#FBEFB7",
                      stroke: "#0E101A",
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeMiterlimit: "10",
                      d: "M49.18 4.8H14.8c-.2 1.52-.33 3.25-.39 4.62.63.45 1.46.79 2.43.94 1.71.27 3.36-.15 4.3-.99.49 1.06 1.72 1.86 3.25 1.96 1.42.08 2.7-.44 3.43-1.29.6 1.14 2.23 1.96 4.2 1.96 1.95 0 3.6-.82 4.2-1.96.74.85 2.01 1.4 3.43 1.29 1.53-.1 2.79-.9 3.25-1.96.94.84 2.57 1.26 4.28.99a5.78 5.78 0 0 0 2.43-.94 79.1 79.1 0 0 0-.42-4.62Z"
                    }),
                    se.createElement("path", {
                      fill: "#0E101A",
                      stroke: "#0E101A",
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeMiterlimit: "10",
                      d: "M32 4.8H15.2C18.85 6.74 25.01 8 32 8s13.15-1.26 16.8-3.2H32Z"
                    }),
                    se.createElement("path", {
                      fill: "#fff",
                      stroke: "#0E101A",
                      strokeMiterlimit: "10",
                      d: "M8.96 52c-.1 0-.16-.08-.16-.19.15-5.94-1.89-8.1-7.83-8.26-.1 0-.17-.08-.17-.19 0-.1.08-.16.19-.16 5.94.15 8.1-1.89 8.26-7.83 0-.1.08-.17.19-.17.1 0 .16.08.16.19-.15 5.94 1.89 8.1 7.83 8.24.1 0 .17.09.17.19s-.08.17-.19.17c-5.94-.15-8.1 1.88-8.26 7.82-.02.12-.08.19-.19.19ZM56.25 54.4c-.06 0-.1-.05-.1-.11.1-3.68-1.17-5.02-4.85-5.12-.06 0-.1-.05-.1-.12 0-.06.05-.1.11-.1 3.68.1 5.02-1.17 5.12-4.85 0-.06.05-.1.12-.1.06 0 .1.05.1.11-.1 3.68 1.17 5.02 4.85 5.11.06 0 .1.05.1.12 0 .06-.05.1-.11.1-3.68-.1-5.02 1.17-5.12 4.85-.01.07-.05.11-.12.11ZM39.84 26.4c-.06 0-.1-.06-.1-.12.1-3.96-1.27-5.4-5.23-5.51-.07 0-.11-.06-.11-.13 0-.06.06-.1.12-.1 3.96.1 5.4-1.27 5.51-5.23 0-.07.06-.11.13-.11.06 0 .1.06.1.12-.1 3.96 1.27 5.4 5.23 5.5.07 0 .11.06.11.13 0 .06-.06.1-.12.1-3.96-.1-5.4 1.27-5.51 5.23-.01.08-.06.12-.13.12Z"
                    })
                  ),
                null
              )
            }
          }
        ];
      function Bu(e = Math.random) {
        return Math.floor(e() * Au.length);
      }
      const Ru = r.UI.Node.make(({ view: e }) =>
          se.createElement(
            an,
            { style: Tu, "data-name": "long-form-feed-empty", "aria-live": "polite" },
            e("emptyContentIndex").pipe(
              W.U((e) => {
                const t = Au[e].emptyState;
                return se.createElement(
                  se.Fragment,
                  null,
                  se.createElement(
                    "div",
                    { className: Nu },
                    se.createElement("p", { className: Mu }, t.title),
                    se.createElement("p", { className: Fu }, t.description)
                  ),
                  se.createElement("div", { className: ju }, t.illustration)
                );
              })
            )
          )
        ),
        Ou = r.UI.Node.make(({ state: e, notify: t }) =>
          se.createElement(
            an,
            { style: Tu, "data-name": "long-form-feed-success", "aria-live": "polite" },
            e.pipe(
              W.U(({ emptyContentIndex: e, goBackFrom: n }) => {
                const r = Au[e].successState;
                return se.createElement(
                  se.Fragment,
                  null,
                  se.createElement(
                    "div",
                    { className: Nu },
                    se.createElement("p", { className: Mu }, r.title),
                    se.createElement("p", { className: Fu }, r.description),
                    (0, a.zG)(
                      n,
                      i.fold(a.gn, (e) =>
                        se.createElement(
                          de.z,
                          { variant: "secondary", style: Uu, onClick: t({ kind: "goBack", goBackFrom: e }) },
                          "Go back to All suggestions"
                        )
                      )
                    )
                  ),
                  se.createElement("div", { className: ju }, r.illustration)
                );
              })
            )
          )
        ),
        Uu = { default: { marginTop: xe.ux.rem(ge.x) } },
        Tu = { padding: `${xe.ux.rem(ge.mh)}`, display: "flex", flexDirection: "row", justifyContent: "space-between" },
        Nu = xe.ux.style({ display: "flex", flexDirection: "column", marginRight: xe.ux.rem(2), justifyContent: "center" }),
        Mu = xe.ux.style({ margin: 0, color: be.Z.TextBaseDefault, fontSize: xe.ux.rem(1), lineHeight: xe.ux.rem(1.5), fontWeight: 700 }),
        Fu = xe.ux.style({
          margin: 0,
          color: be.Z.TextBaseSubduedColor,
          fontSize: xe.ux.rem(0.875),
          lineHeight: xe.ux.rem(1.3125),
          fontWeight: 400
        }),
        ju = xe.ux.style({ width: xe.ux.rem(4), height: xe.ux.rem(4) }),
        Pu = r.UI.Node.make(() =>
          se.createElement(
            an,
            { "aria-busy": "true", style: zu, "data-name": "long-form-feed-loading" },
            se.createElement(
              "div",
              { className: Gu },
              se.createElement(rc, null),
              se.createElement(
                "div",
                { className: Ku },
                se.createElement("div", { className: Wu }),
                se.createElement("div", { className: qu })
              ),
              se.createElement(
                "div",
                { className: Qu },
                se.createElement("div", { className: Yu }),
                se.createElement("div", { className: Yu }),
                se.createElement("div", { className: Yu }),
                se.createElement("div", { className: Yu })
              ),
              se.createElement(
                "div",
                { className: Xu },
                se.createElement("div", { className: Ju }),
                se.createElement("div", { className: ed })
              ),
              se.createElement("div", { className: td(!0) }),
              se.createElement("div", { className: td(!1) }),
              se.createElement(
                "div",
                { className: nd },
                se.createElement("div", { className: id }),
                se.createElement("div", { className: rd })
              )
            ),
            se.createElement(
              "div",
              { className: Lu },
              se.createElement(
                "div",
                { className: Zu },
                se.createElement(rc, null),
                se.createElement("div", { className: Du }),
                se.createElement("div", { className: Hu }),
                se.createElement("div", { className: Vu })
              ),
              se.createElement("div", { className: $u }),
              se.createElement(
                "div",
                { className: Zu },
                se.createElement(rc, null),
                se.createElement("div", { className: Du }),
                se.createElement("div", { className: Hu }),
                se.createElement("div", { className: Vu })
              ),
              se.createElement("div", { className: $u }),
              se.createElement(
                "div",
                { className: Zu },
                se.createElement(rc, null),
                se.createElement("div", { className: Du }),
                se.createElement("div", { className: Hu }),
                se.createElement("div", { className: Vu })
              ),
              se.createElement("div", { className: $u }),
              se.createElement(
                "div",
                { className: Zu },
                se.createElement(rc, null),
                se.createElement("div", { className: Du }),
                se.createElement("div", { className: Hu }),
                se.createElement("div", { className: Vu })
              )
            )
          )
        ),
        zu = { padding: 0 },
        Gu = xe.ux.style({
          display: "flex",
          flexDirection: "column",
          position: "relative",
          padding: `${xe.ux.rem(ge.mh)}`,
          borderBottom: `1px solid ${me.Il.Border.Base.Subdued}`
        }),
        Lu = xe.ux.style({ display: "flex", flexDirection: "column", margin: xe.ux.rem(1) }),
        Zu = xe.ux.style({ display: "flex", alignItems: "center", position: "relative", height: xe.ux.rem(2.25) }),
        Du = xe.ux.style({
          height: xe.ux.rem(0.5),
          width: xe.ux.rem(0.5),
          borderRadius: "50%",
          background: ve.BlueGray5,
          marginRight: xe.ux.rem(1.25)
        }),
        Hu = xe.ux.style({
          height: xe.ux.rem(0.5),
          width: xe.ux.rem(3.875),
          borderRadius: xe.ux.rem(jt.fe),
          background: ve.BlueGray5,
          marginRight: xe.ux.rem(ge.mh)
        }),
        Vu = xe.ux.style({ height: xe.ux.rem(0.5), width: xe.ux.rem(7.875), borderRadius: xe.ux.rem(jt.fe), background: ve.BlueGray5 }),
        $u = xe.ux.style({ margin: `${xe.ux.rem(0.5)} ${xe.ux.rem(1)}`, borderBottom: `1px solid ${me.Il.Border.Base.Subdued}` }),
        Ku = xe.ux.style({
          display: "flex",
          flexDirection: "row",
          justifyContent: "space-between",
          gap: xe.ux.rem(ge.x),
          alignItems: "center"
        }),
        Wu = xe.ux.style({ width: xe.ux.rem(11.875), height: xe.ux.rem(1), borderRadius: xe.ux.rem(jt.fe), background: ve.BlueGray5 }),
        qu = xe.ux.style({
          flex: 1,
          maxWidth: xe.ux.rem(3.5),
          height: xe.ux.rem(0.5),
          borderRadius: xe.ux.rem(jt.fe),
          background: ve.BlueGray5
        }),
        Qu = xe.ux.style({ display: "flex", flexDirection: "row", justifyContent: "space-between", marginTop: xe.ux.rem(11.5 * ge.F2) }),
        Yu = xe.ux.style({
          width: xe.ux.rem(3.5625),
          height: xe.ux.rem(0.5),
          borderRadius: xe.ux.rem(jt.fe),
          background: ve.BlueGray5,
          margin: `0 ${xe.ux.rem(9.5 * ge.W9)}`
        }),
        Xu = xe.ux.style({
          display: "flex",
          flexDirection: "row",
          gap: xe.ux.rem(ge.F2),
          alignItems: "center",
          marginTop: xe.ux.rem(8.5 * ge.F2)
        }),
        Ju = xe.ux.style({ width: xe.ux.rem(1.25), height: xe.ux.rem(1.25), borderRadius: "50%", background: ve.BlueGray5 }),
        ed = xe.ux.style({ flex: 1, height: xe.ux.rem(0.5), borderRadius: xe.ux.rem(jt.fe), background: ve.BlueGray5 }),
        td = (e) =>
          xe.ux.style({
            height: xe.ux.rem(0.5),
            borderRadius: xe.ux.rem(jt.fe),
            background: ve.BlueGray5,
            marginTop: xe.ux.rem(e ? 2.5 * ge.F2 : ge.mh)
          }),
        nd = xe.ux.style({
          display: "flex",
          flexDirection: "row",
          gap: xe.ux.rem(ge.mh),
          alignItems: "center",
          marginTop: xe.ux.rem(ge.mh + ge.yC)
        }),
        id = xe.ux.style({ width: xe.ux.rem(4.125), height: xe.ux.rem(2), borderRadius: xe.ux.rem(jt.xB), background: ve.BlueGray5 }),
        rd = xe.ux.style({ width: xe.ux.rem(3.125), height: xe.ux.rem(0.5), borderRadius: xe.ux.rem(jt.fe), background: ve.BlueGray5 }),
        od = (0, ce.xb)(Sc),
        ad = (0, ce.xb)(({ activeLensId: e, lenses: t, className: n, onToggleLens: i }) =>
          t.length > 0
            ? se.createElement(
                "section",
                { className: xe.ux.joinClasses([zc(t.length), n]) },
                t.map((t, n) =>
                  se.createElement(
                    se.Fragment,
                    { key: t.lensId },
                    n > 0 ? se.createElement("div", { className: Gc, role: "separator" }) : null,
                    se.createElement(
                      de.z,
                      {
                        variant: "tertiary",
                        size: "small",
                        name: `${t.label}-button`,
                        style: Zc,
                        active: t.lensId === e,
                        onClick: () => i(t.lensId)
                      },
                      se.createElement(Mc, { percent: t.percent, lensId: t.lensId }),
                      se.createElement("span", null, t.label)
                    )
                  )
                )
              )
            : null
        ),
        sd = r.UI.Grid.make(({ slots: e, view: t, notify: n }) => {
          const { onMount: i } = (0, en.F)((0, a.ls)(R.b(n({ kind: "longFormFeedMounted" })), Jt.x(Tc.q.notifyFeedUnmount))),
            r = se.useContext(nn.N).view("flatUI");
          return se.createElement(
            an,
            {
              "data-name": "long-form-feed",
              style: r.view((0, U.RN)({ padding: `${xe.ux.rem(ge.x)} 0 0 0` }, { padding: `${xe.ux.rem(ge.qp)} 0 0 0` })),
              mount: i,
              "aria-live": "polite"
            },
            se.createElement(
              gi,
              {
                style: r.view(
                  (0, U.RN)(
                    Object.assign(Object.assign({}, cd), { padding: `${xe.ux.rem(ge.x)} ${xe.ux.rem(ge.mh)}` }),
                    Object.assign(Object.assign({}, cd), { padding: `0 ${xe.ux.rem(ge.qp)}` })
                  )
                )
              },
              se.createElement("div", { className: ud }, "Review suggestions", se.createElement(od, { count: t("suggestionCount") })),
              t("canCollapseToShortForm").pipe(
                W.U((0, U.RN)(se.createElement(Rc, { feedForm: "longForm", onClick: n({ kind: "toggleShortFormFeedAction" }) }), null))
              )
            ),
            se.createElement(ad, {
              lenses: t("lenses"),
              activeLensId: t("feedId"),
              onToggleLens: (e) => n({ kind: "lensToggleAction", lensId: e })(),
              className: ld
            }),
            e.lensView
          );
        }),
        ld = xe.ux.style({ margin: `${xe.ux.rem(ge.x)} 0` }),
        cd = { display: "flex", alignItems: "center", gap: xe.ux.rem(ge.x), justifyContent: "space-between" },
        ud = xe.ux.style({ display: "flex", alignItems: "center", gap: xe.ux.rem(ge.x) }),
        dd = r.UI.Group.make({ cardList: Iu }),
        md = r.UI.Union.make("kind", { successState: Ou, cardList: dd }),
        pd = r.UI.Knot.make(sd, { lensView: md }),
        hd = r.UI.Union.make("kind", { loadingState: Pu, emptyState: Ru, successState: Ou, nonEmptyState: pd });
      const fd = r.UI.Node.make(({ view: e }) =>
          se.createElement(
            an,
            { style: vd, "data-name": "short-form-feed-empty", "aria-live": "polite" },
            e("emptyContentIndex").pipe(
              W.U((e) => {
                const t = Au[e].emptyState;
                return se.createElement(
                  se.Fragment,
                  null,
                  se.createElement(
                    "div",
                    { className: xd },
                    se.createElement("p", { className: yd }, t.title),
                    se.createElement("p", { className: bd }, t.description)
                  ),
                  se.createElement("div", { className: kd }, t.illustration)
                );
              })
            )
          )
        ),
        gd = r.UI.Node.make(({ view: e }) =>
          se.createElement(
            an,
            { style: vd, "data-name": "short-form-feed-success", "aria-live": "polite" },
            e("emptyContentIndex").pipe(
              W.U((e) => {
                const t = Au[e].successState;
                return se.createElement(
                  se.Fragment,
                  null,
                  se.createElement(
                    "div",
                    { className: xd },
                    se.createElement("p", { className: yd }, t.title),
                    se.createElement("p", { className: bd }, t.description)
                  ),
                  se.createElement("div", { className: kd }, t.illustration)
                );
              })
            )
          )
        ),
        vd = { padding: `${xe.ux.rem(ge.mh)}`, display: "flex", flexDirection: "row", justifyContent: "space-between" },
        xd = xe.ux.style({ display: "flex", flexDirection: "column", marginRight: xe.ux.rem(2), justifyContent: "center" }),
        yd = xe.ux.style({ margin: 0, color: be.Z.TextBaseDefault, fontSize: xe.ux.rem(1), lineHeight: xe.ux.rem(1.5), fontWeight: 700 }),
        bd = xe.ux.style({
          margin: 0,
          color: be.Z.TextBaseSubduedColor,
          fontSize: xe.ux.rem(0.875),
          lineHeight: xe.ux.rem(1.3125),
          fontWeight: 400
        }),
        kd = xe.ux.style({ width: xe.ux.rem(4), height: xe.ux.rem(4) }),
        wd = r.UI.Node.make(() =>
          se.createElement(
            an,
            { "aria-busy": "true", style: Cd, "data-name": "short-form-feed-loading" },
            se.createElement(rc, null),
            se.createElement(
              "div",
              { className: Sd },
              se.createElement("div", { className: Ed }),
              se.createElement("div", { className: _d })
            ),
            se.createElement(
              "div",
              { className: Id },
              se.createElement("div", { className: Ad }),
              se.createElement("div", { className: Bd })
            ),
            se.createElement("div", { className: Rd(!0) }),
            se.createElement("div", { className: Rd(!1) }),
            se.createElement(
              "div",
              { className: Od },
              se.createElement("div", { className: Ud }),
              se.createElement("div", { className: Td })
            )
          )
        ),
        Cd = { padding: `${xe.ux.rem(ge.mh)}`, display: "flex", flexDirection: "column", position: "relative" },
        Sd = xe.ux.style({
          display: "flex",
          flexDirection: "row",
          justifyContent: "space-between",
          gap: xe.ux.rem(ge.x),
          alignItems: "center"
        }),
        Ed = xe.ux.style({ width: xe.ux.rem(11.875), height: xe.ux.rem(1), borderRadius: xe.ux.rem(jt.fe), background: ve.BlueGray5 }),
        _d = xe.ux.style({
          flex: 1,
          maxWidth: xe.ux.rem(3.5),
          height: xe.ux.rem(0.5),
          borderRadius: xe.ux.rem(jt.fe),
          background: ve.BlueGray5
        }),
        Id = xe.ux.style({
          display: "flex",
          flexDirection: "row",
          gap: xe.ux.rem(ge.F2),
          alignItems: "center",
          marginTop: xe.ux.rem(6.5 * ge.F2)
        }),
        Ad = xe.ux.style({ width: xe.ux.rem(1.25), height: xe.ux.rem(1.25), borderRadius: "50%", background: ve.BlueGray5 }),
        Bd = xe.ux.style({ flex: 1, height: xe.ux.rem(0.5), borderRadius: xe.ux.rem(jt.fe), background: ve.BlueGray5 }),
        Rd = (e) =>
          xe.ux.style({
            height: xe.ux.rem(0.5),
            borderRadius: xe.ux.rem(jt.fe),
            background: ve.BlueGray5,
            marginTop: xe.ux.rem(e ? 2.5 * ge.F2 : ge.mh)
          }),
        Od = xe.ux.style({
          display: "flex",
          flexDirection: "row",
          gap: xe.ux.rem(ge.mh),
          alignItems: "center",
          marginTop: xe.ux.rem(ge.mh + ge.yC)
        }),
        Ud = xe.ux.style({ width: xe.ux.rem(4.125), height: xe.ux.rem(2), borderRadius: xe.ux.rem(jt.xB), background: ve.BlueGray5 }),
        Td = xe.ux.style({ width: xe.ux.rem(3.125), height: xe.ux.rem(0.5), borderRadius: xe.ux.rem(jt.fe), background: ve.BlueGray5 }),
        Nd = (0, ce.xb)(Sc),
        Md = r.UI.Node.make(({ state: e, view: t, notify: n }) => {
          const { onMount: r } = (0, en.F)((0, a.ls)(R.b(n({ kind: "shortFormFeedMounted" })), Jt.x(Tc.q.notifyFeedUnmount))),
            { onMount: o } = (function (e, t) {
              const { onMount: n, ref: i } = Xt.P.useElWatcher();
              return (
                Xt.P.useSubscriptionTo(
                  ee.aj([i, t]).pipe(
                    W.U(([t, n]) =>
                      (0, a.zG)(
                        t,
                        ne.bw((t) => t.style.setProperty(e, n))
                      )
                    )
                  )
                ),
                { onMount: n }
              );
            })("--cardWidth", B.of("400")),
            s = se.useContext(nn.N).view("flatUI");
          return se.createElement(
            an,
            {
              "data-name": "short-form-feed",
              style: s.view((0, U.RN)({ padding: `${xe.ux.rem(ge.x)} 0 0 0` }, { padding: `${xe.ux.rem(ge.qp)} 0 0 0` })),
              mount: (e) => {
                r(e), o(e);
              },
              "aria-live": "polite"
            },
            se.createElement(
              gi,
              {
                style: s.view(
                  (0, U.RN)(
                    Object.assign(Object.assign({}, Fd), { padding: `${xe.ux.rem(ge.x)} ${xe.ux.rem(ge.mh)}` }),
                    Object.assign(Object.assign({}, Fd), { padding: `0 ${xe.ux.rem(ge.qp)}` })
                  )
                )
              },
              se.createElement("div", { className: jd }, "Review suggestions", se.createElement(Nd, { count: t("suggestionCount") })),
              t("canExpandToLongForm").pipe(
                W.U((0, U.RN)(se.createElement(Rc, { feedForm: "shortForm", onClick: n({ kind: "toggleLongFormFeedAction" }) }), null))
              )
            ),
            e.pipe(
              W.U(({ item: e, prevItem: t, transitions: r }) =>
                se.createElement(Vc.P, {
                  key: e.id,
                  sduiRootId: e.id,
                  content: e.content,
                  designSystem: du(),
                  notify: (t, i, r) => n({ kind: "sduiNotify", item: e, sourceId: t, actions: i, actionScope: r })(),
                  transitions: Array.from(r),
                  prevContent: (0, a.zG)(
                    t,
                    i.map((e) => e.content)
                  ),
                  onAnimationEnd: n({ kind: "shortFormFeedAnimationEnd" }),
                  onMount: n({ kind: "sduiFocusedItemMounted", item: e }),
                  longFormCardState: { viewKind: "focused" }
                })
              )
            )
          );
        }),
        Fd = { display: "flex", alignItems: "center", gap: xe.ux.rem(ge.x), justifyContent: "space-between" },
        jd = xe.ux.style({ display: "flex", alignItems: "center", gap: xe.ux.rem(ge.x) }),
        Pd = r.UI.Union.make("kind", { loadingState: wd, emptyState: fd, successState: gd, nonEmptyState: Md }),
        zd = r.UI.Group.make({ feed: Pd }),
        Gd = r.UI.Group.make({ feed: hd }),
        Ld = r.UI.Union.make("kind", { none: r.UI.Node.empty, shortFormFeed: zd, longFormFeed: Gd }),
        Zd = (e) =>
          se.createElement(
            pe.a1,
            Object.assign({ width: "24", height: "24", viewBox: "0 0 24 24", fill: "none" }, e),
            se.createElement("path", { d: "M12 7L12 17", strokeLinecap: "round" }),
            se.createElement("path", { d: "M9 9L9 15", strokeLinecap: "round" }),
            se.createElement("path", { d: "M15 9L15 15", strokeLinecap: "round" }),
            se.createElement("path", { d: "M18 11L18 13", strokeLinecap: "round" }),
            se.createElement("path", { d: "M6 11L6 13", strokeLinecap: "round" })
          ),
        Dd = r.UI.Node.make(({ notify: e }) => {
          const t = se.useContext(nn.N).view("flatUI");
          return se.createElement(
            an,
            { style: Vd, "data-name": "voice-banner" },
            t.view((0, U.RN)(se.createElement(gi, null, "Set your voice"), se.createElement("div", { className: $d }, "Set your voice"))),
            se.createElement("div", { className: Kd }, "Choose how you want your generated text to sound."),
            se.createElement(
              de.z,
              { style: qd, onClick: e({ kind: b.i.Kind.setVoiceButtonClick }), name: "bannerVoiceProfile", size: "small" },
              se.createElement(Zd, { className: Wd }),
              "Set voice"
            )
          );
        }),
        Hd = r.UI.Union.asOption(Dd),
        Vd = {
          gap: 0,
          backgroundColor: "#D8F2EC",
          backgroundSize: "contain",
          backgroundRepeat: "no-repeat",
          backgroundPosition: "right",
          backgroundImage: "url('https://d201kpdrh73vuz.cloudfront.net/text-generation/voice-banner.png')"
        },
        $d = xe.ux.style({ fontWeight: 700, fontSize: xe.ux.rem(0.875), lineHeight: xe.ux.rem(1.375), color: me.Il.Text.Base.Default }),
        Kd = xe.ux.style({ fontWeight: 400, fontSize: xe.ux.rem(0.75), lineHeight: xe.ux.rem(1.125), color: me.Il.Text.Base.Subdued }),
        Wd = xe.ux.style({ stroke: "white" }),
        qd = {
          default: {
            alignSelf: "flex-start",
            marginTop: xe.ux.rem(ge.x),
            padding: `0 ${xe.ux.rem(ge.x)} 0 ${xe.ux.rem(ge.F2)}`,
            lineHeight: xe.ux.rem(1.125),
            gap: xe.ux.rem(ge.F2)
          },
          icon: Object.assign({ marginLeft: 0 }, (0, ye.fx)(1.5))
        },
        Qd = ({ style: e, iconStyle: t, mode: n = "standard" }) => {
          const i = "standard" == n ? 1 : 0.875;
          return se.createElement(
            "div",
            {
              className: xe.ux.style(
                {
                  height: xe.ux.rem(2 * i),
                  display: "flex",
                  alignItems: "center",
                  gap: xe.ux.rem(ge.x),
                  padding: `0 ${xe.ux.rem(ge.x)} 0 ${xe.ux.rem(ge.F2)}`,
                  borderRadius: xe.ux.rem(ge.F2),
                  border: `1px solid ${ve.BlueGray5}`,
                  boxSizing: "border-box"
                },
                e
              )
            },
            se.createElement("div", {
              className: xe.ux.style(
                { width: xe.ux.rem(1.5 * i), height: xe.ux.rem(1.5 * i), borderRadius: "50%", background: ve.BlueGray5 },
                t
              )
            }),
            se.createElement("div", {
              className: xe.ux.style({ height: xe.ux.rem(0.5 * i), borderRadius: xe.ux.rem(ge.W9), background: ve.BlueGray5, flexGrow: 1 })
            })
          );
        },
        Yd = r.UI.Node.make(({ view: e }) => {
          const t = se.useContext(nn.N).view("flatUI");
          return se.createElement(
            an,
            { "aria-busy": "true", style: t.view(Xd), "data-name": "actions-loading" },
            ee
              .aj([e("withContext"), t])
              .pipe(
                W.U(([t, n]) =>
                  t ? se.createElement(Ri, { className: em(n), active: !0 }, e("header")) : se.createElement(gi, null, e("header"))
                )
              ),
            se.createElement(
              ue.F.div,
              { className: Jd },
              se.createElement(rc, null),
              e("isQuickReply").pipe(
                W.U(
                  (0, U.RN)(
                    se.createElement(
                      se.Fragment,
                      null,
                      se.createElement(Qd, { style: { width: xe.ux.rem(23) } }),
                      se.createElement(Qd, { style: { width: xe.ux.rem(21.5) } }),
                      se.createElement(Qd, { style: { width: xe.ux.rem(20.5) } })
                    ),
                    se.createElement(
                      se.Fragment,
                      null,
                      se.createElement(Qd, { style: { width: xe.ux.rem(8.375) } }),
                      se.createElement(Qd, { style: { width: xe.ux.rem(9.3125) } }),
                      se.createElement(Qd, { style: { width: xe.ux.rem(10.5) } }),
                      se.createElement(Qd, { style: { width: xe.ux.rem(10.75) } }),
                      se.createElement(Qd, { style: { width: xe.ux.rem(4.9375) } })
                    )
                  )
                )
              )
            )
          );
        }),
        Xd = (e) => (e ? { padding: xe.ux.rem(ge.mh) } : {}),
        Jd = xe.ux.style({ display: "flex", flexWrap: "wrap", gap: xe.ux.rem(ge.x), position: "relative" }),
        em = (e) => xe.ux.style({ marginBottom: e ? xe.ux.rem(ge.x) : void 0 }),
        tm = r.UI.Knot.make(
          r.UI.Grid.make(({ slots: e, notify: t, view: n }) => {
            const { notifyUnmount: i } = se.useContext(Ln),
              { onMount: r } = (0, en.F)(
                (0, a.ls)(
                  R.b((e) => t({ kind: b.i.Kind.mount, name: ie.e.initialActionsList, element: e })()),
                  Jt.x(() => i({ kind: b.i.Kind.unmount, name: ie.e.initialActionsList }))
                )
              ),
              o = se.useContext(nn.N).view("flatUI");
            return se.createElement(
              an,
              { style: o.view(im), mount: r, "data-name": "initial-actions" },
              n("showReportMenu").pipe(
                W.U(
                  (0, U.RN)(
                    se.createElement(ec, {
                      reportMenuButtonClassName: rm,
                      onClickProvideFeedback: t({
                        kind: b.i.Kind.openFeedbackFormButtonClick,
                        source: wr.x.Source.quickReplyInitialActions
                      }),
                      onClickReportOffensive: t({ kind: b.i.Kind.reportOffensiveActionsButtonClick }),
                      onOpenChange: (e) =>
                        t({ kind: b.i.Kind.reportMenuVisibilityChange, trigger: vt.uiItem(ie.e.initialActionsList), visible: e })()
                    }),
                    null
                  )
                )
              ),
              e.actions
            );
          }),
          { actions: zi }
        ),
        nm = r.UI.Union.make("kind", { none: r.UI.Node.empty, loading: Yd, loaded: tm }),
        im = (e) =>
          Object.assign(
            { position: "relative" },
            e ? { padding: xe.ux.rem(ge.mh), gap: xe.ux.rem(ge.mh) } : { padding: `${xe.ux.rem(ge.F2)} ${xe.ux.rem(ge.qp)}` }
          ),
        rm = xe.ux.style({ position: "absolute", top: xe.ux.rem(ge.qp), right: xe.ux.rem(ge.qp) }),
        om = r.UI.Grid.make(({ slots: e }) =>
          se.createElement(
            se.Fragment,
            null,
            e.suggestions,
            e.voiceBanner,
            e.documentOverview,
            e.intent,
            e.defaultActions,
            e.generationError,
            e.detectedReferences
          )
        ),
        am = r.UI.Knot.make(om, {
          suggestions: Ld,
          voiceBanner: Hd,
          documentOverview: Ll,
          intent: cc,
          defaultActions: nm,
          generationError: Nl,
          detectedReferences: xc
        }),
        sm = r.UI.Node.make(({ state: e, notify: t }) => {
          const n = se.useContext(nn.N).view("flatUI");
          return se.createElement(
            ue.F.Fragment,
            null,
            ee
              .aj([e, n])
              .pipe(
                W.U(([{ selectedRange: e, selectedText: n }, i]) =>
                  e
                    ? se.createElement(
                        de.z,
                        {
                          variant: "tertiary",
                          title: "Select any text to work with it in Grammarly.",
                          style: cm(i),
                          onClick: t({ kind: b.i.Kind.selectionContextInteraction, range: e, visibility: "attention" }),
                          onMouseEnter: t({ kind: b.i.Kind.selectionContextInteraction, range: e, visibility: "visible" }),
                          onMouseLeave: t({ kind: b.i.Kind.selectionContextInteraction, range: e, visibility: "hidden" }),
                          name: "resultContextHeaderButton"
                        },
                        se.createElement(Ri, null, n)
                      )
                    : se.createElement("div", { className: um(i), "data-name": "result-context-header" }, se.createElement(Ri, null, n))
                )
              )
          );
        }),
        lm = r.UI.Union.asOption(sm),
        cm = (e) =>
          e
            ? {
                default: {
                  justifyContent: "flex-start",
                  padding: `0 ${xe.ux.rem(ge.x)}`,
                  margin: `0 ${xe.ux.rem(-ge.x)}`,
                  height: xe.ux.rem(2.5)
                }
              }
            : { default: { marginBottom: xe.ux.rem(-ge.F2), justifyContent: "flex-start" } },
        um = (e) =>
          e
            ? xe.ux.style({ display: "flex", alignItems: "center", height: xe.ux.rem(2.5) })
            : xe.ux.style({
                paddingLeft: xe.ux.rem(ge.x),
                paddingRight: xe.ux.rem(ge.x),
                paddingTop: xe.ux.rem(ge.F2),
                paddingBottom: xe.ux.rem(ge.F2),
                marginBottom: xe.ux.rem(-ge.F2)
              }),
        dm = (e) =>
          se.createElement(
            pe.a1,
            Object.assign({ width: "16", height: "16", viewBox: "0 0 16 16", fill: "none" }, e),
            se.createElement("rect", { width: "16", height: "16", rx: "2" }),
            se.createElement("path", {
              fillRule: "evenodd",
              clipRule: "evenodd",
              d: "M13.7072 5.41421L6.50008 12.6213L2.29297 8.41421L3.70718 7L6.50008 9.79289L12.293 4L13.7072 5.41421Z",
              fill: "white"
            })
          ),
        mm = ({ isMyVoice: e, isAnimated: t = !1, isBadge: n = !1, label: i = "Use my style", inactiveLabel: r = i, onClick: o }) =>
          se.createElement(
            de.z,
            {
              variant: "tertiary",
              name: "toggleVoice",
              onClick: o,
              size: "small",
              role: "checkbox",
              "aria-checked": e,
              compact: !0,
              style: pm(e, t, n)
            },
            se.createElement(dm, Object.assign({ width: 16, height: 16 }, (0, ce.Sh)(hm, e ? fm : gm))),
            e ? i : r
          );
      function pm(e, t, n) {
        return {
          default: {
            display: "flex",
            alignItems: "center",
            height: xe.ux.rem(1.25),
            lineHeight: xe.ux.rem(1.125),
            fontSize: xe.ux.rem(0.75),
            color: e ? ve.Green80 : ve.BlueGray60,
            backgroundColor: e ? ve.Green0 : ve.BlueGray0,
            transition: t ? xe.ux.seconds(0.25) : void 0,
            transitionProperty: t ? "color, background-color" : void 0
          },
          textPosRight: { padding: `0 ${xe.ux.rem(ge.F2)}` },
          icon: { marginRight: xe.ux.rem(ge.x), minWidth: xe.ux.rem(1), minHeight: xe.ux.rem(1) },
          hovered: {
            backgroundColor: e ? xe.ux.color(be.Z.Green10).mix(xe.ux.color(be.Z.BlueGray5)).toRGBA().toString() : ve.BlueGray10,
            color: e ? ve.Green80 : ve.BlueGray60
          },
          active: {
            backgroundColor: e ? xe.ux.color(be.Z.Green10).mix(xe.ux.color(be.Z.BlueGray5)).toRGBA().toString() : ve.BlueGray10,
            color: e ? ve.Green80 : ve.BlueGray60
          },
          disabled: n ? { opacity: 1, cursor: "default" } : void 0
        };
      }
      const hm = xe.ux.style({
          marginRight: xe.ux.rem(ge.x),
          minWidth: xe.ux.rem(1),
          minHeight: xe.ux.rem(1),
          borderWidth: xe.ux.px(1),
          borderStyle: "solid",
          borderColor: me.Il.Text.Base.Subdued,
          borderRadius: xe.ux.rem(jt.xB),
          overflow: "hidden",
          transitionProperty: "background border-color",
          transitionDuration: xe.ux.seconds(0.25),
          $nest: { svg: { stroke: "none" } }
        }),
        fm = xe.ux.style({ background: ve.Green60, borderColor: ve.Green60, $nest: { path: { fill: ve.White } } }),
        gm = xe.ux.style({ background: ve.White, borderColor: me.Il.Text.Base.Subdued, $nest: { path: { fill: "transparent" } } }),
        vm = xe.ux.style({
          whiteSpace: "break-spaces",
          overflowWrap: "anywhere",
          fontStyle: "normal",
          fontWeight: "normal",
          fontSize: xe.ux.rem(0.875),
          fontFeatureSettings: "'ss03' on",
          lineHeight: xe.ux.rem(1.3125),
          color: me.Il.Text.Base.Default
        }),
        xm = ({ children: e }) => se.createElement("div", { className: vm }, e),
        ym = ({ text: e }) => ("" !== e.trim() ? se.createElement(xm, null, e) : null),
        bm = (0, ce.xb)(de.z),
        km = ({ header: e, onClick: t, disabled: n }) => {
          const i = se.useContext(nn.N).view("flatUI");
          return se.createElement(
            bm,
            {
              variant: "tertiary",
              compact: !0,
              disabled: n,
              onClick: t,
              className: i.view(Bm),
              name: "editResultPrompt",
              size: "small",
              style: i.view((e) =>
                e
                  ? {
                      hovered: { boxShadow: "none", backgroundColor: be.Z.ButtonBackgroundTertiaryHover },
                      active: { boxShadow: "none", backgroundColor: be.Z.ButtonBackgroundTertiaryHover }
                    }
                  : void 0
              )
            },
            i.view((t) =>
              t
                ? se.createElement(
                    So.u,
                    { title: "Edit" },
                    se.createElement("div", { className: Rm }, se.createElement("div", Object.assign({ className: Um }, (0, re.E)(e))))
                  )
                : se.createElement(
                    "div",
                    { className: Rm },
                    se.createElement("div", Object.assign({ className: Um }, (0, re.E)(e))),
                    se.createElement("div", { className: Im }, "Edit")
                  )
            )
          );
        };
      var wm;
      !(function (e) {
        (e.FadeIn = "FadeIn"), (e.FadeOut = "FadeOut");
      })(wm || (wm = {}));
      const Cm = ({ iconUrl: e, loading: t, header: n }) => {
          const [r, o] = se.useState({ text: n, animationState: wm.FadeIn });
          se.useEffect(() => {
            o((e) => Object.assign(Object.assign({}, e), { animationState: e.text !== n ? wm.FadeOut : e.animationState }));
            const e = setTimeout(() => o({ text: n, animationState: wm.FadeIn }), 250);
            return () => clearTimeout(e);
          }, [n]);
          const s = se.useContext(nn.N).view("flatUI");
          return se.createElement(
            ue.F.div,
            { className: s.view(Am) },
            t
              ? se.createElement(uo, { className: Om })
              : (0, a.zG)(
                  e,
                  i.fold(a.gn, (e) =>
                    se.createElement(ue.F.img, {
                      src: e,
                      style: s.view((e) => ({ width: xe.ux.rem(e ? 1.3125 : 1.25), height: xe.ux.rem(e ? 1.3125 : 1.25) }))
                    })
                  )
                ),
            se.createElement(
              "span",
              Object.assign(
                {
                  "aria-live": "assertive",
                  className: xe.ux.joinClasses([Um, r.animationState === wm.FadeIn && Tm, r.animationState === wm.FadeOut && Nm])
                },
                (0, re.E)(r.text)
              )
            )
          );
        },
        Sm = "editHeaderBtn",
        Em = "headerBtn",
        _m = (e) =>
          (0, ye.dD)(
            {
              height: xe.ux.rem(1.5),
              lineHeight: xe.ux.rem(1.125),
              padding: `0 ${xe.ux.rem(ge.F2)}`,
              margin: `0 ${xe.ux.rem(-ge.F2)}`,
              overflow: "hidden",
              $nest: e
                ? void 0
                : {
                    [`& .${Sm}`]: { opacity: 0, pointerEvents: "none" },
                    "&:focus, &:hover": {
                      background: ve.BlueGray0,
                      [`& .${Sm}`]: { opacity: 1, pointerEvents: "auto", color: me.Il.Text.Base.Default }
                    }
                  }
            },
            Em
          ),
        Im = Sm,
        Am = (e) =>
          xe.ux.style({
            display: "flex",
            alignItems: "center",
            gap: xe.ux.rem(ge.x + ge.yC),
            height: xe.ux.rem(1.5),
            fontWeight: 400,
            fontSize: xe.ux.rem(e ? 0.875 : 0.75),
            lineHeight: xe.ux.rem(e ? 1.3125 : 1.125),
            color: ve.BlueGray60,
            overflow: "hidden"
          }),
        Bm = (e) => xe.ux.joinClasses([Em, xe.ux.style(_m(e))]),
        Rm = xe.ux.style({ display: "flex", justifyContent: "space-between", width: "100%", gap: xe.ux.rem(ge.F2) }),
        Om = xe.ux.style({ marginBottom: `-${xe.ux.rem(ge.yC)}`, display: "inline-flex", alignItems: "center", justifyContent: "center" }),
        Um = xe.ux.style({
          overflow: "hidden",
          whiteSpace: "nowrap",
          textOverflow: "ellipsis",
          textAlign: "left",
          transitionProperty: "opacity",
          transitionDuration: xe.ux.seconds(0.25)
        }),
        Tm = xe.ux.style({ opacity: 1 }),
        Nm = xe.ux.style({ opacity: 0 }),
        Mm = r.UI.Grid.make(({ slots: e, state: t }) =>
          se.createElement(
            ue.F.Fragment,
            null,
            t.pipe(
              W.U(({ resultText: t, statusText: n, isMyVoiceStatus: r, sourceLabel: o, sourceIconUrl: a }) =>
                se.createElement(Cn, {
                  "data-name": "my-voice-in-progress-result",
                  header: se.createElement(
                    se.Fragment,
                    null,
                    e.header,
                    se.createElement(
                      Fm,
                      null,
                      se.createElement(Cm, { header: t.length > 0 ? o : n, iconUrl: t.length > 0 ? a : i.none, loading: 0 === t.length }),
                      se.createElement(mm, { isBadge: !0, isAnimated: !0, isMyVoice: r, label: "Use my style" })
                    )
                  ),
                  body:
                    t.length > 0
                      ? se.createElement(se.Fragment, null, se.createElement(ym, { text: t }), se.createElement(Pm, null))
                      : null,
                  isActive: !0
                })
              )
            )
          )
        ),
        Fm = ({ children: e }) => se.createElement("div", { className: jm }, e),
        jm = xe.ux.style({ display: "grid", gridTemplateColumns: "1fr auto" }),
        Pm = () =>
          se.createElement(
            "div",
            {
              className: xe.ux.style({
                position: "relative",
                overflow: "hidden",
                height: xe.ux.rem(0.5),
                borderRadius: xe.ux.rem(jt.xB),
                background: ve.BlueGray5,
                flexGrow: 1
              })
            },
            se.createElement(rc, null)
          ),
        zm = (0, ce.xb)(ym),
        Gm = r.UI.Grid.make(({ slots: e, view: t }) =>
          se.createElement(Cn, {
            "aria-busy": "true",
            "data-name": "in-progress-result",
            body: se.createElement(zm, { text: t("text") }),
            header: se.createElement(
              se.Fragment,
              null,
              e.header,
              se.createElement(Cm, { header: "Working on it...", iconUrl: i.none, loading: !0 })
            ),
            isActive: !0
          })
        ),
        Lm = r.UI.Knot.make(Mm, { header: lm }),
        Zm = r.UI.Knot.make(Gm, { header: lm }),
        Dm = r.UI.Union.make("kind", { regularCardInProgress: Zm, myVoiceCardInProgress: Lm }),
        Hm = r.UI.Knot.make(
          r.UI.Grid.make(({ slots: e }) => se.createElement(se.Fragment, null, e.header, e.content)),
          { content: Dm, header: lm }
        ),
        Vm = r.UI.Union.asOption(Hm),
        $m = ({
          placeholder: e,
          error: t,
          openAnswer: n,
          onOpenAnswerChange: r,
          onSubmitButtonClick: o,
          onCancelButtonClick: s,
          onKeypressShiftEnter: l
        }) =>
          se.createElement(
            "form",
            { className: Wm, onSubmit: (e) => e.preventDefault() },
            se.createElement(Qn, {
              className: Ym,
              placeholder: [null != e ? e : ""],
              text: n,
              onChange: r,
              ariaLabel: "Open ended answer",
              fitContentHeight: !0,
              theme: { fontSize: xe.ux.rem(0.75), lineHeight: xe.ux.rem(1.125) },
              onKeyDownShiftEnter: l
            }),
            (0, a.zG)(
              t,
              i.fold(
                () => null,
                (e) => se.createElement("div", { className: Xm }, e)
              )
            ),
            se.createElement(
              "div",
              { className: Km },
              se.createElement("input", { type: "submit", value: "Submit", hidden: !0 }),
              se.createElement(de.z, { variant: "secondary", style: qm, onClick: o, flatUI: !0 }, "Submit"),
              se.createElement(de.z, { variant: "tertiary", style: Qm, onClick: s, flatUI: !0 }, "Dismiss")
            )
          ),
        Km = xe.ux.style({ display: "flex", justifyContent: "flex-start", alignItems: "center" }),
        Wm = xe.ux.style({ width: xe.ux.percent(100), display: "flex", flexDirection: "column", gap: xe.ux.rem(ge.x) }),
        qm = {
          default: {
            fontSize: xe.ux.rem(0.75),
            fontWeight: "bold",
            marginRight: xe.ux.rem(ge.x),
            minHeight: xe.ux.rem(ge.sD),
            lineHeight: xe.ux.rem(ge.sD)
          }
        },
        Qm = { default: { fontSize: xe.ux.rem(0.75), minHeight: xe.ux.rem(ge.sD), lineHeight: xe.ux.rem(ge.sD) } },
        Ym = xe.ux.style({
          border: `1px solid ${ve.BlueGray10}`,
          minHeight: xe.ux.rem(7.5 * ge.F2),
          backgroundColor: ve.White,
          borderRadius: xe.ux.rem(ge.x),
          width: xe.ux.percent(100),
          padding: `${xe.ux.rem(1.25 * ge.F2)} ${xe.ux.rem(ge.x)}`,
          boxSizing: "border-box"
        }),
        Xm = xe.ux.style({ color: me.Il.Background.Critical.Default, fontSize: xe.ux.rem(0.75), marginBottom: xe.ux.rem(ge.F2) });
      var Jm = n(77678),
        ep = n(56377);
      const tp = (e) =>
          se.createElement(
            pe.a1,
            Object.assign({ width: "18", height: "17", viewBox: "0 0 18 17", fill: "none" }, e),
            se.createElement("path", {
              d: "M9 1L11.069 6.15226L16.6085 6.52786L12.3477 10.0877L13.7023 15.4721L9 12.52L4.29772 15.4721L5.65228 10.0877L1.39155 6.52786L6.931 6.15226L9 1Z",
              fill: "transparent",
              stroke: ve.NeutralGray50,
              strokeWidth: "1.5",
              strokeLinecap: "round",
              strokeLinejoin: "round"
            })
          ),
        np = ({ rating: e, ratingLabels: t, maxScore: n }) =>
          (0, a.zG)(
            e,
            i.fold(
              () =>
                t.length >= n && n > 1
                  ? se.createElement(
                      "div",
                      { className: op },
                      se.createElement("span", { className: rp }, t[0]),
                      se.createElement("span", { className: rp }, t[n - 1])
                    )
                  : null,
              (e) =>
                e - 1 >= 0 && t.length >= e ? se.createElement("div", { className: ip }, se.createElement("span", null, t[e - 1])) : null
            )
          ),
        ip = xe.ux.style({
          display: "flex",
          justifyContent: "center",
          alignItems: "center",
          width: "100%",
          fontWeight: "bold",
          fontSize: xe.ux.rem(0.75),
          lineHeight: xe.ux.rem(0.875)
        }),
        rp = xe.ux.style({ color: ve.NeutralGray50 }),
        op = xe.ux.style({
          display: "flex",
          justifyContent: "space-between",
          alignItems: "center",
          width: "100%",
          fontSize: xe.ux.rem(0.75),
          lineHeight: xe.ux.rem(0.875)
        });
      var ap = function (e, t) {
        var n = {};
        for (var i in e) Object.prototype.hasOwnProperty.call(e, i) && t.indexOf(i) < 0 && (n[i] = e[i]);
        if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
          var r = 0;
          for (i = Object.getOwnPropertySymbols(e); r < i.length; r++)
            t.indexOf(i[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, i[r]) && (n[i[r]] = e[i[r]]);
        }
        return n;
      };
      const sp = ({ disabled: e, rating: t, ratingLabels: n, maxScore: r, onSelectionChange: o }) => {
          const [s, l] = se.useState(i.none),
            c = se.useMemo(() => [], []),
            u = (t) => {
              e || o(t + 1);
            },
            d = (t) => {
              e || l(i.some(t + 1));
            },
            m = () => {
              e || l(i.none);
            };
          return se.createElement(
            se.Fragment,
            null,
            se.createElement(
              "div",
              {
                className: lp,
                role: "slider",
                "aria-valuemin": 0,
                "aria-valuenow": (0, a.zG)(
                  t,
                  i.getOrElse(() => 0)
                ),
                "aria-valuemax": 5,
                "aria-valuetext": (0, a.zG)(
                  t,
                  i.fold(
                    () => "Not yet rated",
                    (e) => n[e - 1]
                  )
                )
              },
              Array.from({ length: r }).map((o, l) =>
                se.createElement(cp, {
                  key: l,
                  onClick: () => u(l),
                  style: { maxWidth: xe.ux.percent(r > 0 ? 100 / r : 0) },
                  isFilled:
                    (0, a.zG)(
                      t,
                      i.fold(
                        () => !1,
                        (e) => l < e
                      )
                    ) ||
                    (0, a.zG)(
                      s,
                      i.fold(
                        () => !1,
                        (e) => l < e
                      )
                    ),
                  onMouseEnter: () => d(l),
                  onMouseLeave: m,
                  onFocus: () => d(l),
                  onBlur: m,
                  isSelected: (0, a.zG)(
                    t,
                    i.fold(
                      () => !1,
                      (e) => l + 1 === e
                    )
                  ),
                  isFocusable: (0, a.zG)(
                    t,
                    i.fold(
                      () => 0 === l,
                      (e) => l + 1 === e
                    )
                  ),
                  ariaLabel: `Rate this generated output as ${n[l]}`,
                  ref: (e) => c.push(e),
                  onKeyDown: (t) =>
                    ((t, n) => {
                      var o, l, d, m;
                      e ||
                        (("ArrowRight" !== t.key && "ArrowUp" !== t.key) ||
                          ((0, a.zG)(
                            s,
                            i.fold(
                              () => !1,
                              (e) => e < r
                            )
                          )
                            ? null === (o = c[n + 1]) || void 0 === o || o.focus()
                            : null === (l = c[0]) || void 0 === l || l.focus()),
                        ("ArrowLeft" !== t.key && "ArrowDown" !== t.key) ||
                          ((0, a.zG)(
                            s,
                            i.fold(
                              () => !1,
                              (e) => e > 1
                            )
                          )
                            ? null === (d = c[n - 1]) || void 0 === d || d.focus()
                            : null === (m = c[4]) || void 0 === m || m.focus()),
                        ("Enter" !== t.key && " " !== t.key) || u(n));
                    })(t, l),
                  disabled: e
                })
              )
            ),
            se.createElement(np, { rating: (0, a.zG)(t, i.fold((0, a.a9)(s), (0, a.a9)(t))), ratingLabels: n, maxScore: r }),
            se.createElement(ep.L, { small: !0 })
          );
        },
        lp = xe.ux.style({ display: "flex", width: xe.ux.percent(100), justifyContent: "center" }),
        cp = se.forwardRef((e, t) => {
          var { isFilled: n, ariaLabel: i, disabled: r, isSelected: o, isFocusable: a } = e,
            s = ap(e, ["isFilled", "ariaLabel", "disabled", "isSelected", "isFocusable"]);
          return se.createElement(
            "button",
            Object.assign(
              { className: up, role: "radio", "aria-label": i, disabled: r, "aria-checked": o, tabIndex: a ? 0 : -1, ref: t },
              s
            ),
            se.createElement(tp, { className: n ? dp : "" })
          );
        });
      cp.displayName = "StarButton";
      const up = xe.ux.style({
          border: "none",
          background: "none",
          cursor: "pointer",
          padding: 0,
          borderRadius: xe.ux.rem(ge.F2),
          width: xe.ux.rem(ge.Lw),
          $nest: { "&:focus-visible": { outlineStyle: "none", boxShadow: `0 0 0 2px ${me.Il.Text.Base.Subdued}` } }
        }),
        dp = xe.ux.style({ $nest: { "& path": { fill: Jm.CoreYellow50, stroke: Jm.CoreYellow50 } } });
      var mp = n(59769),
        pp = n(46560);
      const hp = ({
          stage: e,
          rating: t,
          initialTitle: n,
          acknowledgment: i,
          acknowledgmentTitle: r,
          onCloseButtonClick: o,
          className: a
        }) =>
          se.createElement(
            "div",
            { className: xe.ux.joinClasses([fp, a]) },
            se.createElement(mp._, { className: vp, fill: "#000" }),
            se.createElement(xp, { stage: e, rating: t, initialTitle: n, acknowledgment: i, acknowledgmentTitle: r }),
            se.createElement(
              de.z,
              {
                variant: "tertiary",
                "aria-label": "Close survey",
                style: {
                  default: { marginLeft: "auto", padding: 0, minWidth: xe.ux.rem(ge.sD), minHeight: xe.ux.rem(ge.sD) },
                  hovered: { backgroundColor: ve.BlueGray10 },
                  active: { backgroundColor: ve.BlueGray10 }
                },
                onClick: o
              },
              se.createElement(pp.B, null)
            )
          ),
        fp = xe.ux.style({ display: "flex", alignItems: "center" }),
        gp = xe.ux.style({ fontSize: xe.ux.rem(0.75) }),
        vp = xe.ux.style({ marginRight: xe.ux.rem(ge.qp), $nest: { "& path:first-of-type": { fill: ve.NeutralGray70 } } }),
        xp = ({ stage: e, rating: t, initialTitle: n, acknowledgmentTitle: r, acknowledgment: o }) => {
          switch (e) {
            case ct.x.Stage.Type.Rating:
              return se.createElement("span", { className: gp }, n);
            case ct.x.Stage.Type.Feedback:
              return se.createElement(
                "span",
                { className: gp },
                "Your rating:",
                " ",
                Array.from({ length: t })
                  .map(() => "")
                  .join(" ")
              );
            case ct.x.Stage.Type.Completed:
              return se.createElement(
                "span",
                { className: gp },
                (0, a.zG)(
                  r,
                  i.fold(
                    () => se.createElement("b", null, "Thank you!"),
                    (e) => se.createElement("b", null, e)
                  )
                ),
                " ",
                (0, a.zG)(
                  o,
                  i.fold(
                    () => "Your feedback helps us improve.",
                    (e) => e
                  )
                )
              );
            case ct.x.Stage.Type.Closed:
              return null;
            default:
              return (0, j.L0)(e);
          }
        },
        yp = r.UI.Union.asOption(
          r.UI.Node.make(({ notify: e, state: t }) =>
            se.createElement(
              ue.F.Fragment,
              null,
              t.pipe(
                W.U((t) =>
                  se.createElement(
                    bp,
                    Object.assign({}, t, {
                      onRatingSelectionChange: (t) => {
                        e({ kind: b.i.Kind.surveyRatingSelectionChange, rating: t })();
                      },
                      onOpenAnswerChange: (t) => e({ kind: b.i.Kind.surveyOpenAnswerChange, openAnswer: t })(),
                      onSubmitButtonClick: e({ kind: b.i.Kind.surveySubmitButtonClick }),
                      onKeypressShiftEnter: e({ kind: b.i.Kind.surveyKeyPressShiftEnter }),
                      onCancelButtonClick: e({ kind: b.i.Kind.surveyCancelButtonClick }),
                      onCloseButtonClick: e({ kind: b.i.Kind.surveyCloseButtonClick })
                    })
                  )
                )
              )
            )
          )
        ),
        bp = ({
          survey: e,
          stage: t,
          transitionStage: n,
          rating: r,
          errors: o,
          openAnswer: s,
          onOpenAnswerChange: l,
          onRatingSelectionChange: c,
          onCloseButtonClick: u,
          onCancelButtonClick: d,
          onSubmitButtonClick: m,
          onKeypressShiftEnter: p
        }) => {
          const h = se.useContext(nn.N).view("flatUI");
          return se.createElement(
            an,
            { style: h.view(kp), "data-name": `survey-${e.resultId}` },
            se.createElement(hp, {
              className: xe.ux.joinClasses([n === ct.x.Stage.Type.Feedback ? Sp : void 0, t === ct.x.Stage.Type.Feedback ? Ep : void 0]),
              stage: t,
              rating: (0, a.zG)(r, i.getOrElse((0, a.a9)(1))),
              initialTitle: e.title,
              acknowledgment: e.acknowledgment,
              acknowledgmentTitle: e.acknowledgmentTitle,
              onCloseButtonClick: u
            }),
            t !== ct.x.Stage.Type.Completed &&
              se.createElement(
                se.Fragment,
                null,
                se.createElement(
                  "div",
                  {
                    className: xe.ux.joinClasses([
                      _p,
                      n === ct.x.Stage.Type.Feedback ? Sp : void 0,
                      t === ct.x.Stage.Type.Feedback ? Ep : void 0
                    ])
                  },
                  se.createElement(
                    "div",
                    { className: Ap, hidden: t !== ct.x.Stage.Type.Rating },
                    se.createElement(sp, {
                      onSelectionChange: c,
                      rating: r,
                      disabled: i.isSome(r),
                      maxScore: e.maxScore,
                      ratingLabels: e.ratingLabels
                    })
                  ),
                  (0, a.zG)(
                    e.openAnswer,
                    i.fold((0, a.a9)("(Optional) Please share your feedback to help us improve."), (e) => e.placeholder),
                    (e) =>
                      se.createElement(
                        "div",
                        { className: Ip, hidden: t !== ct.x.Stage.Type.Feedback },
                        se.createElement($m, {
                          placeholder: e,
                          onSubmitButtonClick: m,
                          onKeypressShiftEnter: p,
                          onCancelButtonClick: d,
                          onOpenAnswerChange: l,
                          openAnswer: s,
                          error: (0, a.zG)(
                            o,
                            i.chain((e) => e.openAnswerError)
                          )
                        })
                      )
                  )
                )
              )
          );
        },
        kp = (e) =>
          Object.assign(
            { backgroundColor: ve.BlueGray0, padding: `${xe.ux.rem(ge.x)} ${xe.ux.rem(ge.mh)}` },
            e ? {} : { border: `1px solid ${ve.BlueGray10}`, borderRadius: xe.ux.rem(ge.F2) }
          ),
        wp = xe.ux.keyframes({ from: { opacity: 1 }, to: { opacity: 0.3 } }),
        Cp = xe.ux.keyframes({ from: { opacity: 0.3 }, to: { opacity: 1 } }),
        Sp = xe.ux.style({ animation: `${wp} 0.3s ease-in-out` }),
        Ep = xe.ux.style({ animation: `${Cp} 0.3s ease-in-out` }),
        _p = xe.ux.style({
          display: "flex",
          flexDirection: "column",
          alignItems: "center",
          justifyContent: "center",
          marginTop: xe.ux.rem(ge.yC)
        }),
        Ip = xe.ux.style({ width: xe.ux.percent(100) }),
        Ap = xe.ux.style({ maxWidth: xe.ux.percent(100), width: "fit-content", paddingTop: xe.ux.rem(ge.F2) }),
        Bp = r.UI.Knot.make(
          r.UI.Grid.make(({ slots: e, notify: t }) => {
            const { notifyUnmount: n } = se.useContext(Ln),
              { onMount: i } = (0, en.F)(
                (0, a.ls)(
                  R.b((e) => t({ kind: b.i.Kind.mount, name: ie.e.followUpActionsList, element: e })()),
                  Jt.x(() => n({ kind: b.i.Kind.unmount, name: ie.e.followUpActionsList }))
                )
              ),
              r = se.useContext(nn.N).view("flatUI");
            return se.createElement(
              ue.F.div,
              { className: r.view((e) => xe.ux.style(Np(e))), mount: i, "data-name": "follow-up-actions" },
              e.actions
            );
          }),
          { actions: ki }
        ),
        Rp = xe.ux.color(An),
        Op = r.UI.Node.make(() => {
          const e = se.useContext(nn.N).view("flatUI");
          return se.createElement(
            ue.F.div,
            { "aria-busy": !0, className: e.view((e) => xe.ux.style(Np(e), { position: "relative" })) },
            se.createElement(rc, {
              overlayGradientEndColor: `rgba(${Rp.red()}, ${Rp.green()}, ${Rp.blue()}, 0)`,
              overlayGradientCenterColor: `rgba(${Rp.red()}, ${Rp.green()}, ${Rp.blue()}, 0.5)`,
              overlayBlendMode: "screen"
            }),
            se.createElement(Qd, { style: { width: xe.ux.rem(8.5) }, mode: "compact" }),
            se.createElement(Qd, { style: { width: xe.ux.rem(9.25) }, mode: "compact" }),
            se.createElement(Qd, { style: { width: xe.ux.rem(8) }, mode: "compact" }),
            se.createElement(Qd, { style: { width: xe.ux.rem(4.5) }, mode: "compact" })
          );
        }),
        Up = r.UI.Union.make("kind", { none: r.UI.Node.empty, loading: Op, actions: Bp }),
        Tp = r.UI.Knot.make(
          r.UI.Grid.make(({ slots: e }) => se.createElement(se.Fragment, null, e.actions)),
          { actions: Up }
        ),
        Np = (e) => ({
          display: "flex",
          flexWrap: "wrap",
          alignItems: "center",
          justifyContent: "flex-end",
          flexDirection: "row",
          gap: xe.ux.rem(ge.x),
          marginBottom: xe.ux.rem(ge.x),
          marginTop: e ? xe.ux.rem(ge.x) : 0,
          padding: e ? `0 ${xe.ux.rem(ge.mh)}` : 0
        }),
        Mp = r.UI.Knot.make(
          r.UI.Grid.make(({ slots: e }) => {
            const t = se.useContext(nn.N).view("flatUI");
            return se.createElement(an, { style: t.view(zp), "data-name": "new-context-actions" }, e.actions);
          }),
          { actions: zi }
        ),
        Fp = r.UI.Union.make("kind", { loading: Yd, loaded: Mp }),
        jp = r.UI.Knot.make(
          r.UI.Grid.make(({ slots: e }) => se.createElement(se.Fragment, null, e.actions)),
          { actions: Fp }
        ),
        Pp = r.UI.Union.asOption(jp),
        zp = (e) => ({
          position: "relative",
          padding: e ? xe.ux.rem(ge.mh) : `${xe.ux.rem(ge.F2)} ${xe.ux.rem(ge.qp)}`,
          gap: e ? xe.ux.rem(ge.mh) : void 0
        }),
        Gp = r.UI.Union.make("kind", { followUp: Tp, newContext: Pp }),
        Lp = r.UI.Union.asOption(Gp);
      var Zp = n(23871);
      const Dp = ({
          onInsert: e,
          onRephrase: t,
          onDismiss: n,
          onCopy: r,
          onProvideFeedback: o,
          onReportOffensive: s,
          onReportMenuVisibilityChange: l,
          disabled: c,
          isActive: u
        }) => {
          const d = se.useContext(nn.N).view("flatUI"),
            m = i.isSome(t) || i.isSome(e),
            p = se.createElement(tc, {
              reportMenuButtonClassName: Qp,
              onClickProvideFeedback: o,
              onClickReportOffensive: s,
              onOpenChange: l,
              onDismiss: n
            });
          return se.createElement(
            "div",
            { className: Vp },
            se.createElement(
              "div",
              { className: Kp },
              (0, a.zG)(
                e,
                i.map((e) =>
                  se.createElement(
                    ue.F.Fragment,
                    null,
                    d.view((t) =>
                      t
                        ? se.createElement(
                            de.z,
                            {
                              name: "insertResult",
                              onClick: e,
                              size: "large",
                              key: "insert",
                              variant: u ? "primary" : "secondary",
                              textPosition: "everywhere"
                            },
                            se.createElement(
                              "div",
                              { className: xe.ux.style({ position: "relative" }) },
                              se.createElement("div", { className: xe.ux.style({ fontWeight: "bold", visibility: "hidden" }) }, "Insert"),
                              se.createElement(
                                "div",
                                { className: xe.ux.style({ position: "absolute", top: 0, left: 0, right: 0 }) },
                                "Insert"
                              )
                            )
                          )
                        : se.createElement(
                            de.z,
                            { className: Yp, name: "insertResult", onClick: e, size: "small", key: "insert" },
                            "Insert"
                          )
                    )
                  )
                ),
                i.toNullable
              ),
              (0, a.zG)(
                t,
                i.map((e) =>
                  se.createElement(
                    ue.F.Fragment,
                    null,
                    d.view((t) =>
                      se.createElement(
                        de.z,
                        {
                          variant: "tertiary",
                          className: t ? void 0 : Xp,
                          name: "rephraseResult",
                          onClick: e,
                          disabled: c,
                          size: t ? "large" : "small",
                          key: "rephrase"
                        },
                        t ? "Retry" : "Rephrase"
                      )
                    )
                  )
                ),
                i.toNullable
              ),
              se.createElement(
                ue.F.Fragment,
                null,
                d.view((e) => (e && m ? p : null))
              )
            ),
            se.createElement(
              ue.F.div,
              { className: Wp },
              d.view((e) => (e && !m ? p : null)),
              d.view((e) =>
                e
                  ? (0, a.zG)(
                      r,
                      i.map((e) =>
                        se.createElement(
                          de.z,
                          { name: "copyResult", onClick: e, size: "small", variant: "tertiary", title: "Copy result" },
                          se.createElement(
                            "div",
                            { className: xe.ux.style({ padding: xe.ux.rem(0.5), height: xe.ux.rem(1), width: xe.ux.rem(1) }) },
                            se.createElement(Zp.c, { width: "1rem", height: "1rem" })
                          )
                        )
                      ),
                      i.toNullable
                    )
                  : null
              ),
              d.view((e) =>
                e
                  ? null
                  : se.createElement(
                      se.Fragment,
                      null,
                      se.createElement(
                        de.z,
                        {
                          variant: "tertiary",
                          onClick: n,
                          className: qp,
                          compact: !0,
                          size: d.view((0, U.RN)("large", "small")),
                          name: "dismissResult",
                          title: "Delete"
                        },
                        se.createElement(vi, { className: Jp })
                      ),
                      se.createElement(ec, {
                        reportMenuButtonClassName: Qp,
                        onClickProvideFeedback: o,
                        onClickReportOffensive: s,
                        onOpenChange: l
                      })
                    )
              )
            )
          );
        },
        Hp = "ignoreIcon",
        Vp = xe.ux.style({ gap: xe.ux.rem(ge.x), display: "flex", alignItems: "center", justifyContent: "space-between" }),
        $p = { display: "flex", alignItems: "center", gap: xe.ux.rem(ge.x) },
        Kp = xe.ux.style($p),
        Wp = xe.ux.style($p),
        qp = hn,
        Qp = fn,
        Yp = mn,
        Xp = pn,
        Jp = xe.ux.joinClasses([Hp, xe.ux.style((0, ye.dD)((0, ye.fx)(1.5), Hp))]),
        eh = r.UI.Grid.make(({ state: e, notify: t, slots: n }) =>
          se.createElement(
            ue.F.Fragment,
            null,
            e.pipe(
              W.U(({ disabled: e, result: r, originalAction: o }) =>
                se.createElement(Cn, {
                  "data-name": `ai-notification-${r.id}`,
                  body: se.createElement(
                    se.Fragment,
                    null,
                    se.createElement(
                      "div",
                      { className: xe.ux.style({ borderBottom: `0.5px solid ${ve.BlueGray10}` }) },
                      se.createElement(ym, { text: r.text }),
                      se.createElement(
                        "div",
                        {
                          className: xe.ux.style({
                            display: "flex",
                            flexDirection: "row",
                            flexWrap: "wrap",
                            gap: xe.ux.rem(0.5),
                            marginTop: xe.ux.rem(0.5),
                            marginBottom: xe.ux.rem(0.75)
                          })
                        },
                        n.actions
                      )
                    ),
                    (0, a.zG)(
                      o,
                      i.map((n) =>
                        se.createElement(
                          "div",
                          null,
                          se.createElement(ym, { text: "Continue with your original prompt:" }),
                          se.createElement(
                            "div",
                            { className: xe.ux.style({ paddingTop: xe.ux.rem(0.125) }) },
                            se.createElement(th, { disabled: e, action: n, onClick: t({ kind: b.i.Kind.userPromptSubmit, prompt: n }) })
                          )
                        )
                      ),
                      i.toNullable
                    )
                  ),
                  header: se.createElement(
                    "h2",
                    {
                      className: xe.ux.style({
                        fontSize: xe.ux.rem(1),
                        marginBottom: xe.ux.rem(0.2),
                        marginTop: 0,
                        lineHeight: xe.ux.rem(1.5)
                      })
                    },
                    "Review your AI use"
                  ),
                  isActive: !0,
                  footer: se.createElement(Dp, {
                    isActive: !1,
                    onRephrase: i.none,
                    onInsert: i.none,
                    onCopy: i.none,
                    onDismiss: t({ kind: b.i.Kind.resultCardDismissButtonClick, result: r }),
                    onProvideFeedback: t({ kind: b.i.Kind.openFeedbackFormButtonClick, source: wr.x.Source.resultCard }),
                    onReportOffensive: t({ kind: b.i.Kind.reportOffensiveResultButtonClick, result: r }),
                    onReportMenuVisibilityChange: (e) =>
                      t({ kind: b.i.Kind.reportMenuVisibilityChange, trigger: vt.card(r.id), visible: e })(),
                    disabled: e
                  }),
                  style: { borderColor: ve.Gold40, borderTopWidth: xe.ux.rem(0.375) }
                })
              )
            )
          )
        ),
        th = ({ action: e, onClick: t, disabled: n }) =>
          se.createElement(
            "button",
            {
              onClick: t,
              disabled: n,
              className: xe.ux.style({
                textDecoration: "underline",
                color: ve.BlueGray60,
                background: xe.ux.important("none"),
                border: "none",
                cursor: "pointer",
                lineHeight: xe.ux.rem(1.375),
                fontSize: xe.ux.rem(0.875),
                overflow: "hidden",
                textOverflow: "ellipsis",
                whiteSpace: "nowrap",
                width: "100%",
                textAlign: "left"
              })
            },
            '"',
            e.arg.value,
            '"'
          ),
        nh = r.UI.Knot.make(eh, { actions: ki }),
        ih = ({ title: e, url: t, contextText: n }) => {
          const r = se.useRef(null),
            o = hc(r, e),
            s = (0, a.zG)(
              n,
              i.getOrElse(() => o)
            );
          return (0, a.zG)(
            t,
            i.fold(
              () => se.createElement(ah, { tooltip: s }, se.createElement("span", { className: rh, ref: r }, e)),
              (t) =>
                se.createElement(
                  ah,
                  { tooltip: s },
                  se.createElement("div", { className: oh }, se.createElement(pc.d, { href: t, className: rh, ref: r }, e))
                )
            )
          );
        },
        rh = xe.ux.style({
          display: "inline-block",
          overflow: "hidden",
          whiteSpace: "nowrap",
          textOverflow: "ellipsis",
          textAlign: "left",
          maxWidth: "100%",
          $nest: { "&:visited": { color: "inherit" } }
        }),
        oh = xe.ux.style({ display: "flex", alignItems: "center", width: "100%", overflow: "hidden" }),
        ah = ({ children: e, tooltip: t }) =>
          t
            ? se.createElement(So.u, { align: "topCenter", title: se.createElement("div", { className: sh }, t) }, e)
            : se.createElement(se.Fragment, null, e),
        sh = xe.ux.style({
          maxWidth: xe.ux.rem(80 * ge.F2),
          textAlign: "left",
          whiteSpace: "normal",
          overflow: "hidden",
          display: "-webkit-box",
          "-webkit-line-clamp": 5,
          "-webkit-box-orient": "vertical"
        }),
        lh = ({ title: e, titleId: t, desc: n, descId: i, ...r }) =>
          se.createElement(
            "svg",
            {
              width: 24,
              height: 24,
              viewBox: "0 0 24 24",
              fill: "none",
              xmlns: "http://www.w3.org/2000/svg",
              "aria-hidden": "true",
              stroke: "transparent",
              "aria-labelledby": t,
              "aria-describedby": i,
              ...r
            },
            n ? se.createElement("desc", { id: i }, n) : null,
            e ? se.createElement("title", { id: t }, e) : null,
            se.createElement("path", {
              d: "M12 10.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm-10 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Z",
              fill: "#646B81"
            })
          );
      lh.__brand = "color";
      const ch = ({ title: e, titleId: t, desc: n, descId: i, ...r }) =>
        se.createElement(
          "svg",
          {
            width: 16,
            height: 16,
            viewBox: "0 0 16 16",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg",
            "aria-hidden": "true",
            stroke: "transparent",
            "aria-labelledby": t,
            "aria-describedby": i,
            ...r
          },
          n ? se.createElement("desc", { id: i }, n) : null,
          e ? se.createElement("title", { id: t }, e) : null,
          se.createElement("path", {
            d: "M5.818 2.429A5.921 5.921 0 0 0 2 8a6.002 6.002 0 0 0 3.857 5.606m4.286-11.177C12.398 3.29 14 5.44 14 8a5.973 5.973 0 0 1-3.824 5.606M2.546 2h3.272v3.273M13.454 14h-3.272v-3.273",
            stroke: "#646B81"
          })
        );
      ch.__brand = "color";
      const uh = { minWidth: xe.ux.rem(1.5), minHeight: xe.ux.rem(1.5), lineHeight: xe.ux.rem(1.5) },
        dh = ({ onRegenerateWithoutReference: e }) =>
          se.createElement(
            ia,
            {
              name: "referenceMenu",
              title: "Reference menu",
              "aria-label": "Reference menu",
              label: se.createElement(lh, null),
              theme: { buttonStyle: { default: Object.assign({ padding: 0 }, uh), icon: uh } },
              onAction: (t) => {
                if ("regenerateWithoutReference" === t) return e();
              }
            },
            se.createElement(
              ql.ck,
              { key: "regenerateWithoutReference", textValue: "regenerateWithoutReference" },
              se.createElement(ch, { className: mh }),
              "Regenerate without this reference"
            )
          ),
        mh = xe.ux.style({ marginRight: xe.ux.rem(ge.x) }),
        ph = ({ className: e, children: t }) => se.createElement("div", Object.assign({}, (0, ce.Sh)(hh, e)), t),
        hh = xe.ux.style({
          color: ve.BlueGray60,
          fontWeight: 400,
          fontSize: xe.ux.rem(0.625),
          lineHeight: xe.ux.rem(1),
          background: ve.BlueGray0,
          borderRadius: xe.ux.rem(jt.fe),
          padding: `0 ${xe.ux.rem(ge.F2)}`,
          cursor: "default"
        }),
        fh = ({ privacyLevel: e }) => {
          switch (e.kind) {
            case "public":
              return se.createElement(gh, null);
            case "restricted":
              return se.createElement(vh, null);
            default:
              return (0, a.Rz)(e);
          }
        },
        gh = () => se.createElement(se.Fragment, null),
        vh = () =>
          se.createElement(
            So.u,
            {
              align: "topLeft",
              title: se.createElement(
                "div",
                { className: xh },
                "This item has restricted access and is only visible to those added to the file"
              )
            },
            se.createElement(ph, { className: yh }, "Private")
          ),
        xh = xe.ux.style({ width: xe.ux.rem(9), overflowWrap: "normal", whiteSpace: "normal", textAlign: "left" }),
        yh = xe.ux.style({ border: `1px solid ${be.Z.BorderBaseSubduedColor}`, borderRadius: xe.ux.rem(ge.F2) }),
        bh = (0, ce.xb)(de.z),
        kh = ({ className: e, isOpen: t, references: n, onOpenChange: i, onRegenerateWithoutReference: r, onReferencesMount: o }) => {
          const { onMount: a } = (0, en.F)(R.b(o)),
            s = se.useContext(nn.N).view("flatUI");
          return se.createElement(
            ue.F.div,
            { className: e, mount: a },
            se.createElement(
              bh,
              { variant: "tertiary", style: s.view(wh), onClick: () => i(!t), name: "collapseReferencesList", size: "small" },
              se.createElement("span", { className: Sh }, n.length, " ", kr._6(n.length, "reference", "references")),
              s.view(
                (0, U.RN)(
                  se.createElement(Ac, null, t ? se.createElement(Ic, null) : se.createElement(_c, null)),
                  t ? se.createElement(pe.JO.Arrow, { direction: pe.n4.up }) : se.createElement(pe.JO.Arrow, { direction: pe.n4.down })
                )
              )
            ),
            se.createElement(
              "ul",
              { className: Eh, hidden: !t, "aria-hidden": !t },
              n.map(({ id: e, privacyLevel: t, title: n, iconUrl: i, url: o, contextText: a }, s) =>
                se.createElement(
                  "li",
                  { key: s, className: _h },
                  se.createElement("img", { src: i, className: Ih, alt: "" }),
                  se.createElement(ih, { title: n, url: o, contextText: a }),
                  se.createElement(
                    "div",
                    { className: Ah },
                    se.createElement(fh, { privacyLevel: t }),
                    void 0 !== r ? se.createElement(dh, { onRegenerateWithoutReference: () => r(e) }) : null
                  )
                )
              )
            )
          );
        },
        wh = (e) => ({
          default: {
            width: "100%",
            display: "flex",
            alignItems: "center",
            justifyContent: "space-between",
            paddingLeft: e ? xe.ux.rem(ge.x) : xe.ux.rem(ge.F2),
            paddingRight: e ? xe.ux.rem(ge.x) : 0
          }
        }),
        Ch = { fontSize: xe.ux.rem(ge.qp), lineHeight: xe.ux.rem(ge.mh + ge.yC), color: me.Il.Text.Base.Subdued, userSelect: "none" },
        Sh = xe.ux.style(Ch),
        Eh = xe.ux.style({
          fontSize: xe.ux.rem(ge.qp),
          lineHeight: xe.ux.rem(ge.mh + ge.yC),
          color: me.Il.Text.Base.Default,
          margin: 0,
          padding: 0
        }),
        _h = xe.ux.style({ height: xe.ux.rem(ge.sD), display: "flex", alignItems: "center", borderRadius: xe.ux.rem(jt.xB) }),
        Ih = xe.ux.style({ minWidth: xe.ux.rem(ge.mh), height: xe.ux.rem(ge.mh), marginRight: xe.ux.rem(ge.x) }),
        Ah = xe.ux.style({ display: "flex", alignItems: "center", justifyContent: "space-between", marginLeft: "auto" });
      var Bh,
        Rh = n(36991);
      !(function (e) {
        (e.generatedText = "generatedText"), (e.knowledgeHubTerm = "knowledgeHubTerm"), (e.none = "none");
      })(Bh || (Bh = {}));
      const Oh = ({ insertOp: e }) => {
          const t = Uh(e.attributes),
            n = Th(e.attributes);
          switch (t) {
            case Bh.generatedText:
              return se.createElement(Ph, { style: n }, e.insert);
            case Bh.knowledgeHubTerm:
              return se.createElement(zh, { style: n }, e.insert);
            case Bh.none:
              return jh(e.attributes)
                ? se.createElement(Lh, { style: n, href: e.attributes.link }, e.insert)
                : se.createElement(Gh, { style: n }, e.insert);
            default:
              return (0, a.Rz)(t);
          }
        },
        Uh = (e) => {
          switch (!0) {
            case null == e ? void 0 : e[Hh.knowledgeHubTerm]:
              return Bh.knowledgeHubTerm;
            case null == e ? void 0 : e[Hh.generatedText]:
              return Bh.generatedText;
            default:
              return Bh.none;
          }
        },
        Th = (e) => {
          const t = {};
          return (
            Nh(e) && (t.fontWeight = "bold"),
            Mh(e) && (t.fontStyle = "italic"),
            Fh(e) && (t.textDecoration = "underline"),
            jh(e) && (t.color = ve.Blue60),
            t
          );
        },
        Nh = (e) => !0 === (null == e ? void 0 : e.bold),
        Mh = (e) => !0 === (null == e ? void 0 : e.italic),
        Fh = (e) => !0 === (null == e ? void 0 : e.underline),
        jh = (e) => "string" == typeof (null == e ? void 0 : e.link),
        Ph = ({ children: e, style: t }) => se.createElement("span", { className: Zh, style: t }, e),
        zh = ({ children: e, style: t }) =>
          se.createElement(So.u, { title: "from Knowledge Share" }, se.createElement("span", { className: Dh, style: t }, e)),
        Gh = ({ children: e, style: t }) => se.createElement("span", { style: t }, e),
        Lh = ({ children: e, style: t, href: n }) => se.createElement("a", { style: t, href: n, target: "_blank", rel: "noreferrer" }, e),
        Zh = xe.ux.style({ backgroundColor: ve.Green0, borderRadius: xe.ux.rem(jt.fe) }),
        Dh = xe.ux.style({ backgroundColor: ve.Blue0, borderRadius: xe.ux.rem(jt.fe) });
      var Hh;
      !(function (e) {
        (e.generatedText = "generatedText"), (e.knowledgeHubTerm = "knowledgeHubTerm");
      })(Hh || (Hh = {}));
      const Vh = ({ replacementDelta: e }) =>
          se.createElement(
            xm,
            null,
            e.map((e, t) => (Rh.s.isInsert(e) ? se.createElement(Oh, { key: t, insertOp: e }) : null))
          ),
        $h = ({ title: e, titleId: t, desc: n, descId: i, ...r }) =>
          se.createElement(
            "svg",
            {
              width: 16,
              height: 16,
              viewBox: "0 0 16 16",
              fill: "none",
              xmlns: "http://www.w3.org/2000/svg",
              "aria-hidden": "true",
              stroke: "transparent",
              "aria-labelledby": t,
              "aria-describedby": i,
              ...r
            },
            n ? se.createElement("desc", { id: i }, n) : null,
            e ? se.createElement("title", { id: t }, e) : null,
            se.createElement("path", { d: "M2 8.444 5.692 12 14 4", stroke: "#646B81", strokeLinecap: "round" })
          );
      $h.__brand = "color";
      const Kh = ({ className: e, title: t, description: n }) =>
          se.createElement(
            "div",
            { className: xe.ux.joinClasses([Wh, e]) },
            se.createElement("div", { className: qh }, se.createElement("span", { className: Jh }, t)),
            se.createElement(
              "ul",
              { className: Qh },
              n.map((e, t) =>
                se.createElement(
                  "li",
                  { className: Yh, key: t },
                  se.createElement($h, { className: Xh }),
                  se.createElement("span", { className: ef }, e)
                )
              )
            )
          ),
        Wh = xe.ux.style({ display: "flex", flexDirection: "column" }),
        qh = xe.ux.style({ display: "flex" }),
        Qh = xe.ux.style({
          display: "flex",
          flexDirection: "column",
          listStyle: "none",
          margin: 0,
          padding: 0,
          $nest: { "& li": { marginTop: xe.ux.rem(ge.F2) } }
        }),
        Yh = xe.ux.style({ display: "flex", alignItems: "center" }),
        Xh = xe.ux.style({
          marginRight: xe.ux.rem(ge.x),
          width: xe.ux.rem(ge.mh),
          maxHeight: xe.ux.rem(ge.mh + ge.yC),
          $nest: { "& path:first-of-type": { stroke: ve.Green60 } }
        }),
        Jh = xe.ux.style({
          fontSize: xe.ux.rem(ge.qp),
          lineHeight: xe.ux.rem(ge.mh + ge.yC),
          fontWeight: 700,
          color: me.Il.Text.Base.Subdued
        }),
        ef = xe.ux.style({ fontSize: xe.ux.rem(ge.qp), lineHeight: xe.ux.rem(ge.mh + ge.yC), color: me.Il.Text.Base.Subdued, flex: 1 });
      var tf;
      !(function (e) {
        (e.searchLabel = "searchLabel"), (e.clickableSearchLabel = "clickableSearchLabel"), (e.knowledgeHub = "knowledgeHub");
      })(tf || (tf = {}));
      const nf = r.UI.Union.asOption(
          r.UI.Node.make(({ notify: e, state: t }) =>
            se.createElement(
              ue.F.Fragment,
              null,
              t.pipe(
                W.U((t) =>
                  se.createElement(mm, {
                    key: "voiceButton",
                    isMyVoice: t.selectedVoice === bt.x.GeneratedTextVoice.user,
                    onClick: e({ kind: b.i.Kind.resultCardToggleGenericVoiceButtonClick, resultId: t.resultId, voice: t.selectedVoice })
                  })
                )
              )
            )
          )
        ),
        rf = r.UI.Grid.make(({ slots: e, notify: t, state: n }) =>
          se.createElement(
            ue.F.div,
            { className: af },
            n.pipe(
              W.U((e) => {
                switch (e.kind) {
                  case tf.clickableSearchLabel:
                    return se.createElement(km, {
                      header: e.label,
                      disabled: e.disabled,
                      onClick: t({ kind: b.i.Kind.resultCardHeaderClick, prompt: e.copiablePrompt })
                    });
                  case tf.searchLabel:
                    return se.createElement(Cm, { header: e.label, iconUrl: e.iconUrl, loading: !1 });
                  case tf.knowledgeHub:
                    return se.createElement(Cm, { header: "Knowledge Share content was used.", iconUrl: i.none, loading: !1 });
                  default:
                    return (0, j.L0)(e);
                }
              })
            ),
            e.voiceButton
          )
        ),
        of = r.UI.Knot.make(rf, { voiceButton: nf }),
        af = xe.ux.style({ display: "grid", gridTemplateColumns: "1fr auto", gap: xe.ux.rem(ge.x) }),
        sf = r.UI.Grid.make(({ slots: e, state: t, notify: n }) => {
          const r = se.useContext(nn.N).view("flatUI");
          return se.createElement(
            ue.F.Fragment,
            null,
            r.view((0, U.RN)(null, e.contextHeader)),
            ee.aj([t, r]).pipe(
              W.U(([{ result: t, disabled: r, isActive: o, isReferencesOpen: s, isMyVoice: l }, c]) =>
                se.createElement(Cn, {
                  "data-name": `result-${t.id}`,
                  body: se.createElement(Vh, {
                    replacementDelta: (0, a.zG)(
                      t.replacementDelta,
                      le.fold(a.yR, (e) => (l ? e.user : e.generic))
                    )
                  }),
                  header: se.createElement(se.Fragment, null, c ? e.contextHeader : null, e.header),
                  footer: se.createElement(
                    se.Fragment,
                    null,
                    (0, a.zG)(
                      bt.x.isComplete(t) ? t.changesSummary : i.none,
                      i.filter(() => !c),
                      i.map((e) =>
                        se.createElement(
                          se.Fragment,
                          null,
                          se.createElement(Ps, { className: cf }),
                          se.createElement(Kh, { title: e.title, description: e.description, className: uf })
                        )
                      ),
                      i.toNullable
                    ),
                    se.createElement(Dp, {
                      isActive: o,
                      onRephrase: (0, a.zG)(
                        t,
                        i.fromPredicate(bt.x.isComplete),
                        i.filter((e) => e.supportedActions.has(bt.x.SupportedAction.rephrase)),
                        i.map((e) =>
                          n({
                            kind: b.i.Kind.resultCardRephraseButtonClick,
                            result: e,
                            selectedVoice: l ? bt.x.GeneratedTextVoice.user : bt.x.GeneratedTextVoice.generic
                          })
                        )
                      ),
                      onCopy: (0, a.zG)(
                        i.some(
                          n({
                            kind: b.i.Kind.resultCardCopy,
                            resultId: t.id,
                            voice: l ? bt.x.GeneratedTextVoice.user : bt.x.GeneratedTextVoice.generic
                          })
                        ),
                        i.filter(() => t.supportedActions.has(bt.x.SupportedAction.copy))
                      ),
                      onInsert: (0, a.zG)(
                        i.some(
                          n({
                            kind: b.i.Kind.resultCardInsertButtonClick,
                            result: t,
                            selectedVoice: l ? bt.x.GeneratedTextVoice.user : bt.x.GeneratedTextVoice.generic
                          })
                        ),
                        i.filter(() => t.supportedActions.has(bt.x.SupportedAction.insert))
                      ),
                      onDismiss: n({ kind: b.i.Kind.resultCardDismissButtonClick, result: t }),
                      onProvideFeedback: n({ kind: b.i.Kind.openFeedbackFormButtonClick, source: wr.x.Source.resultCard }),
                      onReportOffensive: n({ kind: b.i.Kind.reportOffensiveResultButtonClick, result: t }),
                      onReportMenuVisibilityChange: (e) =>
                        n({ kind: b.i.Kind.reportMenuVisibilityChange, trigger: vt.card(t.id), visible: e })(),
                      disabled: r
                    }),
                    (0, a.zG)(
                      t.references,
                      i.filter((e) => e.length > 0),
                      i.map((e) =>
                        se.createElement(kh, {
                          className: df,
                          isOpen: s,
                          references: e,
                          onOpenChange: (e) => n({ kind: b.i.Kind.referencesVisibilityChange, visible: e, resultId: t.id })(),
                          onRegenerateWithoutReference: bt.x.isComplete(t)
                            ? (e) =>
                                n({
                                  kind: b.i.Kind.regenerateWithoutReferenceButtonClick,
                                  result: t,
                                  referenceId: e,
                                  selectedVoice: l ? bt.x.GeneratedTextVoice.user : bt.x.GeneratedTextVoice.generic
                                })()
                            : void 0,
                          onReferencesMount: (e) => n({ kind: b.i.Kind.mount, name: ie.e.referencesList, element: e })()
                        })
                      ),
                      i.toNullable
                    ),
                    (0, a.zG)(
                      bt.x.isComplete(t) ? t.changesSummary : i.none,
                      i.filter(() => c),
                      i.map((e) => se.createElement(Kh, { title: e.title, description: e.description, className: uf })),
                      i.toNullable
                    )
                  ),
                  isActive: o,
                  onHovered: (e) => n({ kind: b.i.Kind.resultCardHoverChange, hovered: e, resultId: t.id })(),
                  onFocused: (e) => n({ kind: b.i.Kind.resultCardFocusChange, focused: e, resultId: t.id })(),
                  onCopy: n({
                    kind: b.i.Kind.resultCardCopy,
                    resultId: t.id,
                    voice: l ? bt.x.GeneratedTextVoice.user : bt.x.GeneratedTextVoice.generic
                  })
                })
              )
            )
          );
        }),
        lf = r.UI.Knot.make(sf, { header: of, contextHeader: lm }),
        cf = xe.ux.style({ margin: `${xe.ux.rem(ge.F2)} 0` }),
        uf = xe.ux.style({ marginBottom: xe.ux.rem(ge.F2) }),
        df = xe.ux.style({ marginTop: xe.ux.rem(ge.x) }),
        mf = r.UI.Union.make("kind", { promptResultComplete: lf, aiUsageNotification: nh }),
        pf = r.UI.List.make(C.bw, mf),
        hf = r.UI.Group.make({ results: pf }),
        ff = r.UI.Union.make("kind", { none: r.UI.Node.empty, loading: r.UI.Knot.make(Gm, { header: r.UI.Node.empty }), loaded: hf }),
        gf = r.UI.Grid.make(({ slots: e }) =>
          se.createElement(
            se.Fragment,
            null,
            e.documentOverview,
            e.intent,
            e.resultList,
            e.lastResultSurvey,
            e.lastResultActions,
            e.inProgressResult,
            e.generationError,
            e.detectedReferences
          )
        ),
        vf = r.UI.Knot.make(gf, {
          documentOverview: Ll,
          intent: cc,
          resultList: ff,
          lastResultSurvey: yp,
          lastResultActions: Lp,
          inProgressResult: Vm,
          generationError: Nl,
          detectedReferences: xc
        }),
        xf = r.UI.Group.make({ toneReport: xa }),
        yf = r.UI.Union.make("kind", {
          home: am,
          thread: vf,
          error: Nl,
          followUpPrompt: no,
          legacyVoiceProfile: js,
          voiceProfile: _l,
          feedbackForm: $r,
          skill: bo,
          settings: ao,
          toneReport: xf
        }),
        bf = (e) =>
          se.createElement(
            pe.a1,
            Object.assign({ width: "17", height: "16", viewBox: "0 0 17 16" }, e),
            se.createElement("path", {
              fillRule: "evenodd",
              clipRule: "evenodd",
              d: "M2.5 8C2.5 4.41015 5.41015 1.5 9 1.5C12.5899 1.5 15.5 4.41015 15.5 8C15.5 11.5899 12.5899 14.5 9 14.5C7.85901 14.5 6.73812 14.1997 5.75 13.6292C5.51085 13.4911 5.42892 13.1853 5.56699 12.9462C5.70506 12.707 6.01085 12.6251 6.25 12.7631C7.08611 13.2459 8.03455 13.5 9 13.5C9.96545 13.5 10.9139 13.2459 11.75 12.7631C12.5861 12.2804 13.2804 11.5861 13.7631 10.75C14.2459 9.91389 14.5 8.96545 14.5 8C14.5 4.96243 12.0376 2.5 9 2.5C5.96243 2.5 3.5 4.96243 3.5 8V8.29289L4.64645 7.14645C4.84171 6.95118 5.15829 6.95118 5.35355 7.14645C5.54882 7.34171 5.54882 7.65829 5.35355 7.85355L3.35355 9.85355L3 10.2071L2.64645 9.85355L0.646447 7.85355C0.451184 7.65829 0.451184 7.34171 0.646447 7.14645C0.841709 6.95118 1.15829 6.95118 1.35355 7.14645L2.5 8.29289V8ZM9 4C9.27614 4 9.5 4.22386 9.5 4.5V7.5H11.5C11.7761 7.5 12 7.72386 12 8C12 8.27614 11.7761 8.5 11.5 8.5H9H8.5V8V4.5C8.5 4.22386 8.72386 4 9 4Z",
              stroke: "none"
            })
          ),
        kf = r.UI.Node.make(({ state: e, view: t, notify: n }) => {
          const { onMount: i } = (0, en.F)(R.b((e) => n({ kind: b.i.Kind.mount, name: ie.e.historyButton, element: e })()));
          return se.createElement(
            "div",
            { className: Cf },
            se.createElement(
              de.z,
              {
                variant: "tertiary",
                mount: i,
                onClick: n({ kind: b.i.Kind.restoreHistoryButtonClick }),
                disabled: t("state").pipe(W.U((e) => "disabled" === e || "loading" === e)),
                compact: !0,
                style: t("flatUI").pipe(W.U((e) => (e ? {} : Ef))),
                size: t("flatUI").pipe(W.U((e) => (e ? "small" : "medium"))),
                name: "restoreHistory",
                title: e.pipe(
                  W.U(({ flatUI: e, state: t }) =>
                    "disabled" === t
                      ? "No prior prompt to go back to."
                      : "enabled" === t
                      ? e
                        ? "Pick up with your last prompt."
                        : "Pick up where you left off"
                      : void 0
                  )
                )
              },
              se.createElement(bf, null)
            ),
            se.createElement(
              ue.F.Fragment,
              null,
              e.pipe(
                W.U(({ flatUI: e, state: t }) =>
                  e && "disabled" !== t ? se.createElement("div", { key: "badge", role: "presentation", className: Sf }) : null
                )
              )
            )
          );
        }),
        wf = r.UI.Union.asOption(kf),
        Cf = xe.ux.style({ position: "relative" }),
        Sf = xe.ux.style({
          width: xe.ux.rem(0.375),
          height: xe.ux.rem(0.375),
          borderRadius: xe.ux.rem(0.375),
          background: be.Z.BrandGreen60,
          position: "absolute",
          top: xe.ux.rem(ge.yC),
          right: xe.ux.rem(-ge.yC)
        }),
        Ef = {
          default: {
            boxShadow: `0px 0px 1px ${xe.ux.color(ve.BlueGray40).toRGBA().fade(0.5).toString()}, 0px 0.5px 8px -0.5px ${xe.ux
              .color(ve.BlueGray40)
              .toRGBA()
              .fade(0.5)
              .toString()}`
          }
        },
        _f = ({ icon: e, label: t, className: n, onClick: i }) =>
          se.createElement(
            de.z,
            { variant: "tertiary", onClick: i, name: "actionBrick", size: "small", style: Af, className: n },
            (0, a.zG)(
              e,
              le.fold(
                (e) => se.createElement("img", { src: e, style: { width: xe.ux.rem(1), height: xe.ux.rem(1) } }),
                () => se.createElement(fe, null)
              )
            ),
            se.createElement(ue.F.div, Object.assign({}, (0, re.E)(t), { className: Bf }))
          ),
        If = {
          gapRems: ge.F2,
          paddingLeftRems: ge.F2,
          paddingRightRems: ge.x,
          fontSizeRems: 0.75,
          fontFamily: "Inter",
          fontWeight: "normal",
          iconWidthRems: 1
        },
        Af = {
          default: {
            fontSize: xe.ux.rem(If.fontSizeRems),
            fontFamily: If.fontFamily,
            fontWeight: If.fontWeight,
            gap: xe.ux.rem(If.gapRems),
            padding: `0 ${xe.ux.rem(If.paddingRightRems)} 0 ${xe.ux.rem(If.paddingLeftRems)}`
          },
          icon: (0, ye.fx)(If.iconWidthRems)
        },
        Bf = xe.ux.style({ whiteSpace: "initial", textAlign: "left", lineHeight: xe.ux.rem(1.125) });
      let Rf = null;
      function Of(e, t) {
        Rf || (Rf = document.createElement("canvas"));
        const n = Rf.getContext("2d");
        if (n) {
          n.font = t;
          return n.measureText(e).width;
        }
        return null;
      }
      const Uf = ({ widthRems: e }) =>
          se.createElement(Qd, {
            style: { width: xe.ux.rem(e), height: xe.ux.rem(1.5), border: 0 },
            iconStyle: { width: xe.ux.rem(1), height: xe.ux.rem(1) }
          }),
        Tf = ge.mh,
        Nf = () =>
          se.createElement(
            "div",
            { role: "separator", className: xe.ux.style({ width: xe.ux.rem(Tf), height: xe.ux.rem(1.5), position: "relative" }) },
            se.createElement("div", {
              className: xe.ux.style({ position: "absolute", top: 0, bottom: 0, left: "50%", borderLeft: `0.5px solid ${ve.BlueGray20}` })
            })
          ),
        Mf = ({ loading: e, actions: t, className: n, onHasHiddenActionsChange: r, onActionClick: o }) => {
          const { onMount: s, ref: l } = Xt.P.useElWatcher(),
            c = un(l, !0),
            u = se.useContext(Qt.u.Context),
            d = se.useMemo(
              () =>
                ee.aj([c, u, t]).pipe(
                  W.U(([e, t, n]) => ({
                    width: (0, a.zG)(
                      e,
                      i.map((e) => Math.round(e.width))
                    ),
                    remSize: t,
                    actions: n
                  })),
                  yt.skipBy(
                    L.MW({ width: i.getEq(L.lr), remSize: L.lr, actions: C.Eh(L.f7((e, t) => e.action.label === t.action.label)) })
                  ),
                  W.U(({ width: e, remSize: t, actions: n }) =>
                    (0, a.zG)(
                      e,
                      i.map((e) =>
                        (function (e, t, n, i, r) {
                          const o = [];
                          let a = 0;
                          for (let s = 0; s < e.length; ++s) {
                            const l = Of(e[s].action.label, r),
                              c = (null != l ? l : 0) + n + (o.length > 0 ? i : 0);
                            null !== l && a + c <= t && ((a += c), o.push(e[s]));
                          }
                          return o;
                        })(
                          n,
                          e,
                          (function (e) {
                            return (If.paddingLeftRems + If.iconWidthRems + If.gapRems + If.paddingRightRems) * e;
                          })(t),
                          Tf * t,
                          (function (e) {
                            return `${If.fontWeight} ${If.fontSizeRems * e}px ${If.fontFamily}`;
                          })(t)
                        )
                      )
                    )
                  ),
                  yt.shareReplay({ refCount: !0, bufferSize: 1 })
                ),
              [t, c, u]
            ),
            m = se.useMemo(
              () =>
                ee.aj([d, t]).pipe(
                  W.U(([e, t]) =>
                    (0, a.zG)(
                      e,
                      i.fold(
                        () => 0,
                        (e) => e.length
                      ),
                      (e) => e < t.length
                    )
                  ),
                  O.x(),
                  R.b((e) => r(e))
                ),
              [d, t]
            );
          return (
            Xt.P.useSubscriptionTo(m),
            se.createElement(
              ue.F.div,
              { className: xe.ux.joinClasses([Ff, n]), mount: s },
              ee.aj([d, e]).pipe(
                W.U(([e, t]) =>
                  (0, a.zG)(
                    e,
                    i.filter(() => !t),
                    i.fold(
                      () =>
                        se.createElement(
                          se.Fragment,
                          null,
                          se.createElement(Uf, { widthRems: 9 }),
                          se.createElement(Nf, null),
                          se.createElement(Uf, { widthRems: 6 })
                        ),
                      (e) =>
                        se.createElement(
                          se.Fragment,
                          null,
                          e.map((e, t) =>
                            se.createElement(
                              se.Fragment,
                              { key: e.action.id },
                              t > 0 ? se.createElement(Nf, null) : null,
                              se.createElement(_f, { icon: le.left(e.action.iconUrl), label: e.action.label, onClick: () => o(e) })
                            )
                          )
                        )
                    )
                  )
                )
              )
            )
          );
        },
        Ff = xe.ux.style({ display: "flex", height: xe.ux.rem(1.5) });
      const jf = r.UI.Grid.make(({ slots: e, view: t, notify: n }) => {
          const i = se.useMemo(() => g.h.create(!1), []);
          return se.createElement(
            "section",
            { className: Gf, "data-name": "actions-bar" },
            se.createElement("div", { className: zf }, e.header),
            se.createElement(Mf, {
              className: Lf,
              loading: t("loading"),
              actions: t("actions"),
              onActionClick: (e) => n({ kind: b.i.Kind.actionBrickClick, action: e })(),
              onHasHiddenActionsChange: Q.wW(i)
            }),
            se.createElement(
              ue.F.div,
              { className: Pf },
              ee
                .aj([t("hasMore"), i])
                .pipe(
                  W.U(([t, i]) =>
                    t || i
                      ? se.createElement(
                          se.Fragment,
                          null,
                          se.createElement(_f, {
                            icon: le.right("moreIcon"),
                            label: "More",
                            onClick: n({ kind: b.i.Kind.actionBrickClick, action: { kind: "allResults", filterPredicate: a.W8 } })
                          }),
                          se.createElement(
                            ue.F.Fragment,
                            null,
                            (0, tn.D)(e.historyButton).pipe(W.U((0, U.RN)(se.createElement(Nf, null), null)))
                          )
                        )
                      : null
                  )
                ),
              e.historyButton
            )
          );
        }),
        Pf = xe.ux.style({ gridArea: "controls", display: "flex", flexDirection: "row" }),
        zf = xe.ux.style({ gridArea: "header" }),
        Gf = xe.ux.style({
          display: "grid",
          gridTemplateColumns: "1fr auto",
          gridTemplateRows: "auto auto",
          gridTemplateAreas: '"header header" "actions controls"',
          gridColumnGap: xe.ux.rem(ge.x),
          alignItems: "center",
          padding: `${xe.ux.rem(ge.F2)} ${xe.ux.rem(ge.mh)}`,
          margin: `${xe.ux.rem(ge.x)} 0`
        }),
        Lf = xe.ux.style({ gridArea: "actions", display: "flex", height: xe.ux.rem(1.5) }),
        Zf = () =>
          se.createElement(Qd, {
            style: { width: xe.ux.rem(7.75), height: xe.ux.rem(2.5), border: 0, gap: xe.ux.rem(0.875), marginLeft: xe.ux.rem(1) },
            iconStyle: { width: xe.ux.rem(1.25), height: xe.ux.rem(1.25) }
          }),
        Df = r.UI.Grid.make(({ slots: e, state: t, notify: n }) =>
          se.createElement(
            ue.F.div,
            { className: Hf, "data-name": "actions-panel" },
            e.header,
            t.pipe(
              W.U(({ loading: t, actions: i, hasMore: r, maxActionsCount: o }) =>
                t
                  ? Array.from({ length: o + 1 }).map((e, t) =>
                      se.createElement(se.Fragment, { key: t }, 0 !== t ? se.createElement(di, null) : null, se.createElement(Zf, null))
                    )
                  : se.createElement(
                      se.Fragment,
                      null,
                      i.map((e, t) =>
                        se.createElement(
                          se.Fragment,
                          { key: e.action.id },
                          0 !== t && se.createElement(di, null),
                          se.createElement(He, {
                            icon: le.right(e.action.iconUrl),
                            label: e.action.label,
                            onClick: n({ kind: b.i.Kind.actionBrickClick, action: e })
                          })
                        )
                      ),
                      r
                        ? se.createElement(
                            se.Fragment,
                            null,
                            se.createElement(di, null),
                            se.createElement(
                              "div",
                              { className: Vf },
                              se.createElement(He, {
                                icon: le.left("moreIcon"),
                                label: "More",
                                onClick: n({ kind: b.i.Kind.actionBrickClick, action: { kind: "allResults", filterPredicate: a.W8 } }),
                                style: $f
                              }),
                              se.createElement("div", { className: Kf }, e.historyButton)
                            )
                          )
                        : null
                    )
              )
            )
          )
        ),
        Hf = xe.ux.style({ display: "flex", flexDirection: "column", marginTop: xe.ux.rem(ge.x) }),
        Vf = xe.ux.style({ position: "relative" }),
        $f = { default: { width: "100%" } },
        Kf = xe.ux.style({ position: "absolute", right: xe.ux.rem(ge.mh), bottom: "50%", transform: "translateY(50%)" }),
        Wf = (e) =>
          se.createElement(
            pe.a1,
            Object.assign({ width: "20", height: "20", viewBox: "0 0 20 20", fill: "none" }, e),
            se.createElement("circle", { cx: "10", cy: "10", r: "6", stroke: "#646B81" }),
            se.createElement("path", { d: "M7.5 10H12.5", stroke: "#646B81", strokeLinecap: "round" })
          ),
        qf = r.UI.Node.make(({ view: e, notify: t }) =>
          se.createElement(
            "div",
            { className: Yf },
            se.createElement(Ri, { active: !0, style: Xf, prefix: "Work with:" }, e("selectedText")),
            se.createElement(
              de.z,
              {
                variant: "tertiary",
                onClick: t({ kind: b.i.Kind.removeSelectionContextClick }),
                compact: !0,
                size: "small",
                name: "removeContext",
                title: "Remove"
              },
              se.createElement(Wf, null)
            )
          )
        ),
        Qf = r.UI.Union.asOption(qf),
        Yf = xe.ux.style({ display: "flex", alignItems: "center", justifyContent: "space-between", gap: xe.ux.rem(ge.x) }),
        Xf = { height: xe.ux.rem(2.5) },
        Jf = r.UI.Node.make(({ view: e }) => se.createElement(ue.F.h1, { className: rg }, e("title"))),
        eg = r.UI.Union.make("kind", {
          none: r.UI.Node.empty,
          title: Jf,
          selectionContext: r.UI.Composite.make(
            r.UI.Grid.make(({ slots: e }) => se.createElement("div", { className: og }, e.header)),
            qf
          )
        }),
        tg = r.UI.Knot.make(jf, { header: Qf, historyButton: wf }),
        ng = r.UI.Knot.make(Df, { header: eg, historyButton: wf }),
        ig = r.UI.Union.make("kind", { none: r.UI.Node.empty, actionBar: tg, actionPanel: ng }),
        rg = xe.ux.style({
          padding: xe.ux.rem(ge.x),
          paddingLeft: xe.ux.rem(ge.mh),
          margin: 0,
          fontWeight: 700,
          fontSize: xe.ux.rem(1),
          lineHeight: xe.ux.rem(1.5)
        }),
        og = xe.ux.style({ padding: `0 ${xe.ux.rem(ge.qp)} 0 ${xe.ux.rem(ge.mh)}` }),
        ag = r.UI.Grid.make(({ slots: e }) => {
          const t = se.useContext(nn.N).view("flatUI");
          return se.createElement(ue.F.section, { className: t.view(lg) }, e.header, e.fieldContainer);
        }),
        sg = r.UI.Knot.make(ag, { header: ig, fieldContainer: mr }),
        lg = (e) =>
          e
            ? xe.ux.style({
                backgroundColor: be.Z.BackgroundBaseSubdued,
                borderTop: `0.5px solid ${be.Z.BorderBaseSubduedColor}`,
                height: "100%",
                borderBottomLeftRadius: "inherit",
                borderBottomRightRadius: "inherit",
                boxSizing: "border-box"
              })
            : void 0,
        cg = r.UI.Union.make("kind", { none: r.UI.Node.empty, skill: bo, promptStudio: sg }),
        ug = ({ count: e }) => {
          const t = "counterGradientColors_" + kr.fg(6);
          return se.createElement(
            "div",
            { className: dg(e) },
            se.createElement(
              "svg",
              { width: "100%", height: "100%", viewBox: "0 0 24 24", className: mg },
              se.createElement(
                "linearGradient",
                { id: t, x1: "0.5", y1: "0", x2: "0.5", y2: "1" },
                se.createElement("stop", { offset: "0%", stopColor: "#638EEB" }),
                se.createElement("stop", { offset: "100%", stopColor: "#EE445F" })
              ),
              se.createElement("circle", { r: "11", cx: "12", cy: "12", strokeWidth: "2", fill: "none", stroke: `url(#${t})` })
            ),
            e > 999 ? "1K+" : e
          );
        },
        dg = (e) =>
          xe.ux.style({
            position: "relative",
            display: "flex",
            alignItems: "center",
            justifyContent: "center",
            fontSize: e > 99 ? xe.ux.rem(0.625) : xe.ux.rem(0.75),
            fontWeight: 700,
            width: xe.ux.rem(1.5),
            height: xe.ux.rem(1.5),
            color: me.Il.Text.Base.Default
          }),
        mg = xe.ux.style({ position: "absolute", top: 0, left: 0, right: 0, bottom: 0 }),
        pg = ({ collapseAfterMs: e, animationDurationMs: t = 500, children: n }) => {
          const [r, o] = se.useState(!1),
            { onMount: s, ref: l } = Xt.P.useElWatcher();
          return se.createElement(
            ue.F.div,
            {
              mount: s,
              className: l.pipe(
                W.U((n) =>
                  xe.ux.style({
                    overflow: "hidden",
                    animationDelay: `${e}ms, ${e}ms`,
                    animationName: `${fg}, ${hg}`,
                    animationDuration: `${t}ms, ${t}ms`,
                    animationTimingFunction: "ease-in-out, ease-in-out",
                    maxWidth: (0, a.zG)(
                      n,
                      i.fold(
                        () => "auto",
                        (e) => `${e.scrollWidth + 5}px`
                      )
                    )
                  })
                )
              ),
              onAnimationEnd: () => o(!0)
            },
            r ? null : n
          );
        },
        hg = xe.ux.keyframes({ "0%": { opacity: 1 }, "50%": { opacity: 1 }, "100%": { opacity: 0 } }),
        fg = xe.ux.keyframes({ to: { maxWidth: 0 } }),
        gg = (0, Ze.Ih)(be.Z.BorderBrandDefault),
        vg = {
          default: {
            height: xe.ux.rem(2),
            boxSizing: "border-box",
            borderRadius: xe.ux.rem(1),
            border: `1px solid ${be.Z.BorderBaseSubduedColor}`,
            display: "flex",
            alignItems: "center",
            width: "fit-content",
            padding: xe.ux.rem(3 * ge.W9),
            userSelect: "none"
          },
          hovered: { boxShadow: "none", border: `1px solid ${be.Z.ButtonBorderTertiaryHover}`, $nest: (0, Ze.Rv)(gg) },
          active: { boxShadow: "none", border: `1px solid ${be.Z.ButtonBorderTertiaryActive}`, $nest: (0, Ze.Rv)(gg) }
        },
        xg = xe.ux.style({
          padding: `0 ${xe.ux.rem(ge.x)}`,
          color: be.Z.TextBaseSubduedColor,
          fontSize: xe.ux.rem(0.75),
          lineHeight: xe.ux.rem(1.125),
          height: xe.ux.rem(1.125)
        }),
        yg = (e) =>
          se.createElement(
            pe.a1,
            { className: e.className, viewBox: "0 0 22 22", width: 22, height: 22 },
            se.createElement("path", {
              fillRule: "evenodd",
              clipRule: "evenodd",
              d: "M22 11C22 17.0749 17.0753 22 11 22C4.92513 22 0 17.0749 0 11C0 4.92465 4.92513 0 11 0C17.0753 0 22 4.92465 22 11Z",
              fill: "#018374",
              stroke: "none"
            }),
            se.createElement("path", {
              fillRule: "evenodd",
              clipRule: "evenodd",
              d: "M12.4371 13.3755C12.5021 13.7356 12.8407 13.9824 13.2066 13.9824H14.3592L15.0274 13.8887C13.9584 15.4569 12.1023 16.1786 10.0731 15.8601C8.42114 15.6008 7.00214 14.4831 6.40336 12.9221C5.04414 9.37866 7.63201 5.99545 11.0042 5.99545C12.7618 5.99545 14.3037 7.05097 15.1876 8.29349C15.4224 8.63162 15.8868 8.72871 16.2254 8.49388C16.5468 8.27101 16.6405 7.84775 16.4473 7.51488C15.2249 5.60662 13.0282 4.38562 10.558 4.5511C7.34171 4.76679 4.73901 7.39866 4.55392 10.6169C4.33918 14.3617 7.30966 17.4192 11.0042 17.4192C12.945 17.4192 14.6825 16.5741 15.8662 15.2068L15.7261 15.9911V16.6999C15.7261 17.0653 15.9724 17.4044 16.3325 17.4694C16.8055 17.5545 17.2168 17.1934 17.2168 16.7362V12.4912H13.1698C12.7126 12.4912 12.3515 12.903 12.4371 13.3755Z",
              fill: "white",
              stroke: "none"
            })
          ),
        bg = ({ className: e }) => {
          const t = se.useContext(nn.N).view("flatUI");
          return se.createElement(
            ue.F.Fragment,
            null,
            t.view((t) => se.createElement(yg, { className: xe.ux.joinClasses([kg(t), e]) }))
          );
        },
        kg = (e) =>
          xe.ux.style(Object.assign({ display: "flex", alignItems: "center", justifyContent: "center" }, e ? (0, ye.fx)(1.375) : {})),
        wg = (0, ce.xb)(({ count: e, label: t, disabled: n, onClick: i, collapseLabelAfter: r }) =>
          se.createElement(
            de.z,
            { variant: "tertiary", name: "suggestions-counter-button", style: vg, disabled: n, onClick: i, title: t },
            se.createElement(ug, { count: e }),
            t && se.createElement(pg, { collapseAfterMs: null != r ? r : 0 }, se.createElement("div", { className: xg }, t))
          )
        ),
        Cg = r.UI.Node.make(({ view: e, notify: t }) =>
          se.createElement(wg, {
            count: e("count"),
            disabled: e("disabled"),
            label: "Review suggestions",
            collapseLabelAfter: 2e3,
            onClick: t({ kind: "suggestionCountButtonClick" })
          })
        ),
        Sg = r.UI.Union.make("kind", {
          withoutSuggestions: r.UI.Node.make(() => se.createElement(bg, { className: xe.ux.style({ paddingLeft: xe.ux.rem(ge.x) }) })),
          withSuggestions: Cg
        }),
        Eg = (e) =>
          se.createElement(
            pe.a1,
            Object.assign({ width: "20", height: "20", viewBox: "0 0 20 20" }, e),
            se.createElement(
              "g",
              { id: "icon" },
              se.createElement(
                "g",
                { id: "Vector" },
                se.createElement("path", {
                  d: "M14.6429 3.92857L14.607 3.96447C13.3023 5.26917 11.0714 4.34512 11.0714 2.5H8.92857C8.92857 4.34512 6.69774 5.26917 5.39304 3.96447L5.35714 3.92857L3.92857 5.35714L3.96447 5.39304C5.26917 6.69774 4.34512 8.92857 2.5 8.92857V11.0714C4.34512 11.0714 5.26917 13.3023 3.96447 14.607L3.92857 14.6429L5.35714 16.0714L5.39304 16.0355C6.69774 14.7308 8.92857 15.6549 8.92857 17.5H11.0714C11.0714 15.6549 13.3023 14.7308 14.607 16.0355L14.6429 16.0714L16.0714 14.6429L16.0355 14.607C14.7308 13.3023 15.6549 11.0714 17.5 11.0714V8.92857C15.6549 8.92857 14.7308 6.69774 16.0355 5.39304L16.0714 5.35714L14.6429 3.92857Z",
                  fill: "none",
                  strokeLinejoin: "round"
                }),
                se.createElement("path", {
                  d: "M12.5 10C12.5 11.3807 11.3807 12.5 10 12.5C8.61929 12.5 7.5 11.3807 7.5 10C7.5 8.61929 8.61929 7.5 10 7.5C11.3807 7.5 12.5 8.61929 12.5 10Z",
                  fill: "none",
                  strokeLinejoin: "round"
                })
              )
            )
          ),
        _g = r.UI.Node.make(({ view: e, notify: t }) =>
          se.createElement(
            de.z,
            {
              variant: "tertiary",
              onClick: (e) => {
                e &&
                  (0, re.Re)(e.currentTarget) &&
                  t({ kind: b.i.Kind.settingsButtonClick, buttonRect: e.currentTarget.getBoundingClientRect() })();
              },
              compact: !0,
              size: e("flatUI").pipe(W.U((e) => (e ? "small" : "medium"))),
              name: "settings",
              title: "Settings"
            },
            se.createElement(Eg, null)
          )
        ),
        Ig = r.UI.Union.asOption(_g),
        Ag = (e) =>
          se.createElement(
            pe.a1,
            Object.assign({ width: "16", height: "16", viewBox: "0 0 16 16", fill: "none" }, e),
            se.createElement("path", {
              d: "M11.1439 8.77381C8.92013 10.9976 5.96543 11.6484 5.12591 10.8089C4.2864 9.96935 4.93718 7.01465 7.16097 4.79086C9.38476 2.56707 12.3395 1.91629 13.179 2.7558C14.0185 3.59531 13.3677 6.55002 11.1439 8.77381Z",
              stroke: "#646B81"
            }),
            se.createElement("path", { d: "M10.0977 5.83569L2.09766 13.8357", stroke: "#646B81", strokeLinecap: "round" }),
            se.createElement("path", {
              d: "M7 14C8.81333 12.6019 11.768 10.8841 11 13.9999C12.0667 13.0012 13.744 10.9621 14 12.6398",
              stroke: "#646B81",
              strokeLinecap: "round",
              strokeLinejoin: "round"
            })
          ),
        Bg = r.UI.Node.make(({ view: e, notify: t }) => {
          const n = se.useContext(nn.N).view("flatUI");
          return se.createElement(
            de.z,
            {
              variant: "tertiary",
              style: n.pipe(W.U((e) => (e ? Og : Ug))),
              onClick: t({ kind: b.i.Kind.headerVoiceButtonClick }),
              name: "headerVoiceProfileButton",
              size: n.pipe(W.U((e) => (e ? "small" : "medium")))
            },
            se.createElement(Ag, null),
            se.createElement(
              ue.F.Fragment,
              null,
              ee.aj([n, e("styleLabel")]).pipe(W.U(([e, t]) => (e ? null : se.createElement("span", null, t))))
            )
          );
        }),
        Rg = r.UI.Union.asOption(Bg),
        Og = { default: { padding: 0 }, icon: (0, ye.fx)(1.5) },
        Ug = {
          default: {
            padding: 0,
            paddingRight: xe.ux.rem(ge.x),
            paddingLeft: xe.ux.rem(ge.x),
            minHeight: xe.ux.rem(1.625),
            lineHeight: xe.ux.rem(1.625),
            border: xe.ux.px(1),
            borderStyle: "solid",
            borderColor: ve.BlueGray20,
            borderRadius: xe.ux.rem(0.8125),
            gap: xe.ux.rem(ge.F2),
            flexWrap: "nowrap"
          },
          icon: (0, ye.fx)(1.5)
        },
        Tg = ({ title: e, titleId: t, desc: n, descId: i, ...r }) =>
          se.createElement(
            "svg",
            {
              width: 16,
              height: 16,
              viewBox: "0 0 16 16",
              fill: "none",
              xmlns: "http://www.w3.org/2000/svg",
              "aria-hidden": "true",
              stroke: "transparent",
              "aria-labelledby": t,
              "aria-describedby": i,
              ...r
            },
            n ? se.createElement("desc", { id: i }, n) : null,
            e ? se.createElement("title", { id: t }, e) : null,
            se.createElement("path", { d: "M2 8h12m0 0L9.448 3M14 8l-4.552 5", stroke: "#646B81", strokeLinecap: "round" })
          );
      Tg.__brand = "color";
      const Ng = (0, ce.xb)(de.z),
        Mg = r.UI.Node.make(({ notify: e, view: t }) => {
          const n = se.useContext(nn.N).view("flatUI");
          return se.createElement(
            "div",
            { className: jg },
            se.createElement(
              Ng,
              {
                variant: "tertiary",
                compact: !0,
                onClick: t("activeView").pipe(W.U((t) => e({ kind: b.i.Kind.headerGoBackButtonClick, goBackFrom: t }))),
                size: n.view((0, U.RN)("small", "large")),
                title: "Back",
                name: "goBack"
              },
              n.view(
                (0, U.RN)(
                  se.createElement(Ac, null, se.createElement(Tg, { className: Fg })),
                  se.createElement(pe.JO.Arrow, { direction: pe.n4.left })
                )
              )
            ),
            se.createElement(
              ue.F.div,
              { className: Pg },
              t("activeViewIconUrl").pipe(
                W.U(i.fold(a.gn, (e) => se.createElement("img", { src: e, style: { width: xe.ux.rem(1.25), height: xe.ux.rem(1.25) } })))
              ),
              t("activeViewLabel").pipe(W.U(i.fold(a.gn, (e) => se.createElement("span", null, e))))
            )
          );
        }),
        Fg = xe.ux.style({ $nest: { "& path": { transform: "rotate(180deg)", transformOrigin: "center" } } }),
        jg = xe.ux.style({
          display: "flex",
          alignItems: "center",
          gap: xe.ux.rem(ge.x),
          color: ve.BlueGray60,
          fontWeight: 400,
          fontSize: xe.ux.rem(0.75),
          lineHeight: xe.ux.rem(1.125)
        }),
        Pg = xe.ux.style({ display: "flex", alignItems: "center", gap: xe.ux.rem(ge.x) }),
        zg = (e) =>
          se.createElement(
            pe.a1,
            Object.assign({ width: "16", height: "16", viewBox: "0 0 16 16", fill: "none" }, e),
            se.createElement("path", { d: "M4 4L8 8M12 12L8 8M8 8L12 4M8 8L4 12", stroke: "#646B81", strokeLinecap: "round" })
          ),
        Gg = r.UI.Node.make(({ notify: e }) => {
          const t = se.useContext(nn.N).view("flatUI");
          return se.createElement(
            de.z,
            {
              variant: "tertiary",
              onClick: e({ kind: b.i.Kind.headerCloseButtonClick }),
              compact: !0,
              className: t.view((0, U.RN)(void 0, xe.ux.style({ marginLeft: xe.ux.rem(-ge.x) }))),
              size: t.view((0, U.RN)("small", "large")),
              name: "headerClose",
              "aria-label": "Close Assistant"
            },
            se.createElement(zg, null)
          );
        });
      var Lg = n(49708),
        Zg = n(598),
        Dg = n(13444),
        Hg = n(2768);
      const Vg = r.UI.Node.make(({ state: e, notify: t }) => {
          const { ref: n, onMount: i } = Xt.P.useElWatcher(),
            r = se.useMemo(
              () =>
                n.pipe(
                  J.oA,
                  E.w((e) => Lg.R(e, "mouseenter").pipe(Zg.c(B.of(null).pipe(Dg.g(500), Hg.R(Lg.R(e, "mouseleave")))))),
                  R.b(t({ kind: b.i.Kind.creditsInfoHover }))
                ),
              [n]
            );
          Xt.P.useSubscriptionTo(r);
          const { onMount: o } = (0, en.F)(R.b((e) => t({ kind: b.i.Kind.mount, name: ie.e.creditsInfoButton, element: e })())),
            a = se.useContext(nn.N).view("flatUI");
          return se.createElement(
            ue.F.Fragment,
            null,
            e.pipe(
              W.U(({ user: e, genAIAvailability: n }) => {
                const r = z._.isActive(n)
                    ? (function (e) {
                        const t = `${Number(e.promptsRemaining).toLocaleString()}/${Number(
                            e.promptsAllocated
                          ).toLocaleString()} prompts left. `,
                          n = z._.Active.daysUntilRefillDate(e.refillDate),
                          i = z._.Active.hoursUntilRefillDate(e.refillDate);
                        return n > 0
                          ? t + `Next refill in ${n} ${kr._6(n, "day", "days")}.`
                          : i > 0
                          ? t + `Next refill in ${i} ${kr._6(i, "hour", "hours")}.`
                          : t + "Next refill in less than an hour.";
                      })(n)
                    : e.isPremium
                    ? "To get more prompts, contact support."
                    : "To get more prompts, upgrade to Premium.",
                  s = z._.isActive(n)
                    ? `${Number(n.promptsRemaining).toLocaleString()} ${kr._6(n.promptsRemaining, "prompt", "prompts")}`
                    : e.isPremium
                    ? "0 prompts"
                    : se.createElement(se.Fragment, null, "0 prompts.", se.createElement("span", { className: Wg }, "Upgrade"));
                return e.isPremium && z._.isActive(n)
                  ? se.createElement(
                      se.Fragment,
                      null,
                      z._.isActiveUnlimited(n)
                        ? null
                        : se.createElement(So.u, { title: r }, se.createElement("div", { ref: i, className: Kg }, s))
                    )
                  : se.createElement(
                      de.z,
                      {
                        variant: "tertiary",
                        onClick: t({ kind: b.i.Kind.creditsInfoClick }),
                        size: a.view((0, U.RN)("small", "large")),
                        title: r,
                        name: "creditsInfo",
                        mount: o,
                        style: qg
                      },
                      se.createElement("div", { ref: i }, s)
                    );
              })
            )
          );
        }),
        $g = r.UI.Union.asOption(Vg),
        Kg = xe.ux.style({
          padding: `${xe.ux.rem(ge.x)}`,
          fontSize: xe.ux.rem(0.75),
          lineHeight: xe.ux.rem(1.125),
          color: me.Il.Text.Base.Subdued,
          cursor: "default"
        }),
        Wg = xe.ux.style({ color: ve.Blue60 }),
        qg = { default: { fontSize: xe.ux.rem(0.75) } },
        Qg = r.UI.Node.make(({ state: e }) => se.createElement(ue.F.h1, { className: Xg }, e)),
        Yg = r.UI.Union.asOption(Qg),
        Xg = xe.ux.style({ textAlign: "center", fontSize: xe.ux.rem(0.75), fontWeight: 700, lineHeight: xe.ux.rem(1.125) }),
        Jg = r.UI.Grid.make(({ slots: e }) =>
          se.createElement("div", { className: dv }, e.back, se.createElement("div", { className: pv }), e.voice)
        ),
        ev = r.UI.Knot.make(Jg, { back: Mg, voice: Bg }),
        tv = r.UI.Composite.make(
          r.UI.Grid.make(({ slots: e }) =>
            se.createElement("div", { className: hv }, se.createElement(bg, null), se.createElement("div", { className: fv }, e.content))
          ),
          Bg
        ),
        nv = r.UI.Knot.make(
          r.UI.Grid.make(({ slots: e }) => {
            const t = se.useContext(nn.N).view("flatUI");
            return se.createElement(ue.F.div, { className: t.view(vv) }, e.button);
          }),
          { button: Sg }
        ),
        iv = r.UI.Union.make("kind", {
          logoOnly: r.UI.Node.make(() => se.createElement(bg, null)),
          suggestionCount: nv,
          logoAndVoiceButton: tv,
          backButton: Mg,
          backButtonAndVoiceButton: ev
        }),
        rv = r.UI.Grid.make(({ slots: e }) => {
          const t = se.useContext(nn.N).view("flatUI");
          return se.createElement(
            ue.F.Fragment,
            null,
            t.view((t) =>
              se.createElement(
                "div",
                { className: t ? uv : cv },
                t ? e.credits : null,
                e.voiceButton,
                e.historyButton,
                t ? null : e.credits,
                e.settingsButton,
                e.closeButton
              )
            )
          );
        }),
        ov = r.UI.Knot.make(rv, { voiceButton: Rg, historyButton: wf, credits: $g, settingsButton: Ig, closeButton: Gg }),
        av = r.UI.Grid.make(({ slots: e }) =>
          se.createElement(se.Fragment, null, e.left, se.createElement("div", { className: gv }, e.pageTitle), e.right)
        ),
        sv = r.UI.Knot.make(av, { left: iv, pageTitle: Yg, right: ov }),
        lv = { display: "flex", alignItems: "center" },
        cv = xe.ux.style(Object.assign(Object.assign({}, lv), { gap: xe.ux.rem(ge.x) })),
        uv = xe.ux.style(Object.assign(Object.assign({}, lv), { gap: xe.ux.rem(ge.F2) })),
        dv = xe.ux.style({ display: "flex", flexDirection: "row", alignItems: "center", gap: xe.ux.rem(ge.x) }),
        mv = { height: xe.ux.rem(1), borderLeft: `1px solid ${ve.BlueGray20}` },
        pv = xe.ux.style(mv),
        hv = xe.ux.style({ display: "flex", flexDirection: "row", alignItems: "center", gap: xe.ux.rem(ge.F2) }),
        fv = xe.ux.style({ display: "flex", alignItems: "center" }),
        gv = xe.ux.style({ flexGrow: 1 }),
        vv = (e) => xe.ux.style({ marginLeft: e ? xe.ux.rem(-ge.x) : 0 }),
        xv = r.UI.Knot.make(br, { header: sv, content: yf, footer: cg, notifications: Wt });
      function yv(e) {
        return r.Z.composeKnot({
          content:
            ((t = e.notifications),
            r.Z.composeList(
              C.Ot,
              () => t.state.view(C.GY),
              (e) =>
                (function (e, t) {
                  return r.Z.fromSideEffect((e) => {
                    switch (e.kind) {
                      case "dismissNotification":
                        return t.dismiss(e.id);
                      case "mouseOver":
                        return t.hover(!0);
                      case "mouseOut":
                        return t.hover(!1);
                      default:
                        (0, j.L0)(e);
                    }
                  }, e);
                })(e, t)
            ))
        });
        var t;
      }
      var bv = n(38194),
        kv = n(49143),
        wv = n(40151),
        Cv = n(91224);
      function Sv(e) {
        return (0, a.ls)(bv.B(), (t) => {
          return xt.T(
            t.pipe(
              ((n = e.logger),
              (r = e.lifecycle),
              (0, a.ls)(
                I.h(xr),
                R.b((e) => {
                  r.onMount(e.element);
                }),
                W.U((e) => i.some(e.element)),
                Xt.P.FocusTrap.dynamicFocusTrap(
                  Xt.P.FocusTrap.InitialFocus.none,
                  Ev,
                  (function (e) {
                    return (t, n) =>
                      (t instanceof HTMLIFrameElement
                        ? t.contentDocument && t.contentDocument.body
                          ? Lg.R(t.contentDocument.body, n)
                          : wv.E
                        : Lg.R(t, n)
                      ).pipe(Cv.K((i) => (e.error("failed to attach event listener during focus trap", i, { el: t, eventName: n }), wv.E)));
                  })(n)
                ),
                kv.l()
              ))
            ),
            t.pipe(
              (function (e) {
                return (0, a.ls)(
                  I.h(yr),
                  A.q(1),
                  R.b((t) => {
                    e.onHeaderMount(t.element);
                  }),
                  kv.l()
                );
              })(e.lifecycle)
            ),
            t.pipe(
              (function (e) {
                return (0, a.ls)(
                  I.h(vr),
                  R.b((t) => e.onFocus(t.focused)),
                  kv.l()
                );
              })(e.lifecycle)
            ),
            g.h.combine(
              e.assistant.state.view("canScroll"),
              (function (e) {
                return g.h.combine(
                  e.assistant.state.view("session"),
                  e.assistant.state.view("contextualActions"),
                  e.userSurvey.state,
                  e.routing.activeView,
                  (e, t, n, r) =>
                    (0, a.zG)(
                      G.z.toStarted(e),
                      i.filter(() => "thread" === r.kind),
                      i.map((e) => {
                        const r = (0, a.zG)(
                            e.inProgressResult,
                            i.fold(
                              () => "",
                              (e) => e.text
                            )
                          ),
                          o = `${e.results.length}`,
                          s = i.isSome(n.activeSurvey),
                          l = (0, a.zG)(
                            t,
                            i.fold(
                              () => "",
                              (0, a.ls)(
                                C.ke(5),
                                C.UI((e) => e.id),
                                (e) => e.join("-")
                              )
                            )
                          );
                        return `${r}_${o}_${s}_${l}`;
                      })
                    )
                );
              })(e),
              e.promptMenu.state,
              e.lifecycle.heightBehavior,
              e.lifecycle.widthBehavior,
              e.lifecycle.dragBehavior,
              e.theme.theme,
              (e, t, n, r, o, s, l) => ({
                canScrollContent: e,
                menuRef: (0, a.zG)(
                  n,
                  i.chain((e) => e.promptMenuContainer)
                ),
                scrollContentToBottomToken: t,
                heightBehavior: r,
                widthBehavior: o,
                dragBehavior: s,
                theme: l
              })
            )
          );
          var n, r;
        });
      }
      function Ev(e) {
        var t;
        if (e instanceof HTMLIFrameElement) {
          const n = null === (t = e.contentWindow) || void 0 === t ? void 0 : t.document;
          if (n) {
            const e = n.body.querySelector("textarea:not([disabled]), input:not([disabled])");
            e && "focus" in e && "function" == typeof e.focus && e.focus();
          }
        } else e.focus();
      }
      function _v(e) {
        return r.Z.fromSideEffect(
          (t) => e.notify(t),
          g.h.combine(e.feedbackForm.stagingFeedbackFormData, e.feedbackForm.domain, (e, t) => {
            var n;
            return {
              formData: e,
              domain: t,
              source: null !== (n = null == e ? void 0 : e.source) && void 0 !== n ? n : wr.x.Source.resultCard
            };
          })
        );
      }
      function Iv(e) {
        return r.Z.composeOption(
          (function (e) {
            return r.Z.fromSideEffect(
              (t) => e.notify(t),
              e.assistant.state
                .view("selectedAction")
                .view(
                  i.chain((e) =>
                    (0, a.zG)(
                      e.args[0].hints,
                      i.map((t) => ({
                        header: e.label,
                        iconUrl: e.iconUrl,
                        hintsHeader: t.header,
                        hintsItems: t.items,
                        radioOptions: P.Xy.match({ string: () => i.none, radio: (e) => i.some(e.radioOptions) })(e.args[0])
                      }))
                    )
                  )
                )
                .pipe(J.oA)
            );
          })(e),
          () => e.assistant.state.view("selectedAction").view(i.chain((e) => e.args[0].hints))
        );
      }
      function Av(e) {
        return () =>
          B.of(
            (0, a.zG)(
              e.settings,
              i.chain((e) => e.getView()),
              i.fold(
                () => ({ content: null }),
                (e) => ({ content: e })
              )
            )
          );
      }
      function Bv(e, t) {
        const n = g.h.combine(e.skill.state, e.theme.theme.view("flatUI"), (e, n) =>
          (0, a.zG)(
            e,
            i.filter(() => (!t && !n) || (n && t)),
            i.map((e) => ({ displayName: e.skill.displayName, status: e.status, srcUrl: e.skill.srcUrl, size: e.size }))
          )
        );
        return r.Z.composeOption(
          (function (e, t) {
            return r.Z.fromSideEffect((t) => e.notify(t), t);
          })(e, n.pipe(J.oA)),
          () => n
        );
      }
      function Rv(e) {
        const t = (0, a.zG)(
          e.toneDetector,
          i.fold(
            () => g.h.create(i.none),
            (e) => e.state
          )
        );
        return r.Z.composeUnion(
          {
            loading: () => B.of(null),
            loadedEmpty: () => B.of(null),
            loadedNonEmpty: r.Z.fromSideEffect(
              (t) => e.notify(t),
              t.pipe(
                W.U(i.chain(({ tones: e }) => F.c2(e))),
                J.oA,
                W.U((e) => ({ tones: e }))
              )
            )
          },
          () =>
            t.view(
              i.fold(
                () => ({ kind: "loading" }),
                ({ tones: e, hidden: t }) => (0 === e.length || t ? { kind: "loadedEmpty" } : { kind: "loadedNonEmpty" })
              )
            )
        );
      }
      function Ov(e) {
        const t = g.h.create("");
        return r.Z.fromSideEffect(
          (n) => {
            "updateRoleTypeaheadText" === n.kind
              ? (t.set(n.text), "" === n.text && e.notify({ kind: b.i.Kind.roleTypeaheadSelectionChange, role: i.none }))
              : (n.kind === b.i.Kind.roleTypeaheadSelectionChange &&
                  t.set(
                    (0, a.zG)(
                      n.role,
                      i.fold(
                        () => "",
                        (e) => e.label
                      )
                    )
                  ),
                e.notify(n));
          },
          g.h.combine(e.assistant.state.view("session"), e.voiceProfile.state.view("stagingVoiceProfile"), t, (e, t, n) =>
            (0, a.zG)(
              M.Y(i.Applicative)({
                voiceProfile: (0, a.zG)(
                  G.z.toStarted(e),
                  i.map((e) => e.voiceProfile),
                  i.chain(ft.L.toLegacyVoiceProfile)
                ),
                stagingVoiceProfile: t
              }),
              i.fold(
                () => ({
                  tones: [],
                  styles: [],
                  roles: [],
                  maxSelectableTones: 0,
                  applyButtonEnabled: !1,
                  description: "",
                  roleTypeaheadText: "",
                  dialects: ft.L.Dialect.all(),
                  selectedDialect: ft.L.Dialect.american
                }),
                ({ stagingVoiceProfile: e, voiceProfile: t }) =>
                  (0, a.zG)(
                    t.styles,
                    C.Ew((t) => t.id === e.selectedStyle),
                    (r) => ({
                      styles: (0, a.zG)(
                        t.styles,
                        C.UI((t) => Object.assign(Object.assign({}, t), { kind: t.id === e.selectedStyle ? "selected" : "unselected" }))
                      ),
                      tones: (0, a.zG)(
                        r,
                        i.fold(
                          () => [],
                          (t) =>
                            (0, a.zG)(
                              t.tones,
                              C.UI((n) =>
                                Object.assign(Object.assign({}, n), {
                                  kind: (0, a.zG)(
                                    i.fromNullable(e.selectedTonesPerStyle.get(e.selectedStyle)),
                                    i.getOrElse(() => new Set()),
                                    (e) => (e.has(n.id) ? "selected" : e.size >= t.maxTones ? "disabled" : "unselected")
                                  )
                                })
                              )
                            )
                        )
                      ),
                      roles: t.roles,
                      maxSelectableTones: (0, a.zG)(
                        r,
                        i.fold(
                          () => 3,
                          (e) => e.maxTones
                        )
                      ),
                      applyButtonEnabled: !ft.L.Selections.eq.equals(e, t),
                      description: "These voice settings will apply to any text you generate.",
                      roleTypeaheadText: (0, a.zG)(
                        e.selectedRole,
                        i.filter(() => "" === n),
                        i.chain((e) => i.fromNullable(t.roles.find((t) => t.id === e))),
                        i.fold(
                          () => n,
                          (e) => e.label
                        )
                      ),
                      dialects: t.dialects,
                      selectedDialect: t.dialects.find((t) => ft.L.Dialect.Id.eq.equals(t.id, e.selectedDialect)) || ft.L.Dialect.american
                    })
                  )
              )
            )
          )
        );
      }
      function Uv(e) {
        return r.Z.fromSideEffect(
          (t) => e.notify(t),
          g.h.combine(e.assistant.state.view("session"), e.voiceProfile.state.view("stagingNewVoiceProfile"), (e, t) =>
            (0, a.zG)(
              M.Y(i.Applicative)({
                sessionVoiceProfile: (0, a.zG)(
                  G.z.toStarted(e),
                  i.map((e) => e.voiceProfile),
                  i.chain(ft.L.toNewVoiceProfile)
                ),
                stagingVoiceProfile: t
              }),
              i.fold(
                () => ({
                  userName: "",
                  title: "",
                  subTitle: "",
                  roles: [],
                  dialects: ft.L.Dialect.all(),
                  selectedDialect: ft.L.Dialect.american,
                  isEnabledByDefault: !0,
                  isEnabledByDefaultLabel: "",
                  profiles: [],
                  activeProfileName: i.none,
                  activeTagId: i.none,
                  isEditing: !1,
                  selectedRole: i.none
                }),
                ({ sessionVoiceProfile: e, stagingVoiceProfile: t }) => ({
                  userName: e.userName,
                  title: e.title,
                  subTitle: e.subTitle,
                  isEnabledByDefault: t.isEnabledByDefault,
                  isEnabledByDefaultLabel: e.isEnabledByDefaultLabel,
                  profiles: t.profiles,
                  roles: (0, a.zG)(
                    Tv(t, e),
                    i.fold(
                      () => e.roles,
                      (t) => e.roles.filter((e) => e.id !== t.id)
                    )
                  ),
                  dialects: (0, a.zG)(Nv(t, e), (t) => e.dialects.filter((e) => e.id !== t.id)),
                  selectedRole: Tv(t, e),
                  selectedDialect: Nv(t, e),
                  activeProfileName: t.activeProfileName,
                  activeTagId: t.activeTagId,
                  isEditing: i.isSome(t.stagingSelections)
                })
              )
            )
          )
        );
      }
      function Tv(e, t) {
        return (0, a.zG)(
          e.stagingSelections,
          i.chain((e) => e.selectedRole),
          i.alt(() => e.selectedRole),
          i.chain((e) => i.fromNullable(t.roles.find((t) => ft.L.Role.Id.eq.equals(t.id, e))))
        );
      }
      function Nv(e, t) {
        return (0, a.zG)(
          e.stagingSelections,
          i.fold(
            () => e.selectedDialect,
            (e) => e.selectedDialect
          ),
          (e) => t.dialects.find((t) => ft.L.Dialect.Id.eq.equals(t.id, e)) || ft.L.Dialect.american
        );
      }
      function Mv(e) {
        const t = e.assistant.state.view("session").pipe(W.U((e) => e.error));
        return r.Z.composeOption(
          (function (e, t) {
            const n = e.routing.activeView.view((e) => "error" !== e.kind);
            return r.Z.fromSideEffect(
              (t) => e.notify(t),
              t.pipe(
                q.M(n),
                W.U(([e, t]) => ({ error: e, showGotItButton: t }))
              )
            );
          })(e, t.pipe(J.oA)),
          () => t
        );
      }
      function Fv(e) {
        const t = e.assistant.state.view("session").view(
          (0, a.ls)(
            G.z.toStarted,
            i.chain((e) => e.activeContext.documentOverview)
          )
        );
        return r.Z.composeOption(
          () => (0, a.zG)(t, J.oA),
          () => t
        );
      }
      var jv = n(69693);
      function Pv(e) {
        const t = g.h.combine(e.assistant.state.view("session"), e.theme.theme.view("flatUI"), (e, t) =>
          (0, a.zG)(
            e,
            i.fromPredicate((e) => jv.w.isQuickReply(e.mode)),
            i.chain((e) =>
              (0, a.zG)(
                "started" === e.kind
                  ? (0, a.zG)(
                      e.activeContext.intent,
                      i.map((e) => ({ kind: "loaded", text: e }))
                    )
                  : i.some({ kind: "loading" }),
                i.map((e) => Object.assign(Object.assign({}, e), { header: "Senders intent", showReportMenu: t }))
              )
            )
          )
        );
        return r.Z.composeOption(
          r.Z.composeUnion(
            {
              loading: () => t.pipe(J.oA),
              loaded: r.Z.fromSideEffect(
                (t) => e.notify(t),
                t.pipe(
                  W.U(
                    i.chain((e) =>
                      "loaded" === e.kind ? i.some({ text: e.text, header: e.header, showReportMenu: e.showReportMenu }) : i.none
                    )
                  ),
                  J.oA
                )
              )
            },
            () => t.pipe(J.oA)
          ),
          () => t
        );
      }
      function zv(e) {
        const t = e.assistant.state.view("detectedReferences");
        return r.Z.composeOption(
          (function (e) {
            return () =>
              e.assistant.state.view("detectedReferences").pipe(
                W.U(i.getOrElse((0, a.a9)([]))),
                W.U((e) => ({ detectedReferences: e }))
              );
          })(e),
          () => t
        );
      }
      var Gv = n(44608),
        Lv = n(93756);
      function Zv(e) {
        return void 0 !== e.find((e) => "applyAlerts" === e.type || "removeAlerts" === e.type);
      }
      function Dv(e, t, n, o) {
        return r.Z.animatingFlow(
          (function (e, t, n, o) {
            return r.Z.fromSideEffect(
              (n) => {
                switch (n.kind) {
                  case "sduiNotify":
                    return Zv(n.actions) && t.onSuggestionAddressed(), e.processActions(n.actions, n.item, n.scope, n.sourceId, !0);
                  case "mount":
                    return n.isFocused && e.onFocusedItemMount(n.item);
                  default:
                    (0, j.L0)(n);
                }
              },
              e.state
                .view((e) =>
                  "loadedState" !== e.kind
                    ? i.none
                    : (0, a.zG)(
                        i.fromNullable(e.items[o]),
                        i.map((t) => ({ feedState: e, item: t }))
                      )
                )
                .pipe(
                  J.oA,
                  q.M(n),
                  W.U(([{ feedState: e, item: t }, n]) => ({
                    item: t,
                    prevFocusedItemPosition: (0, a.zG)(
                      n,
                      i.map((e) => (e === o ? 0 : e < o ? -1 : 1))
                    ),
                    isFirst: 0 === o,
                    isFocused: (0, a.zG)(
                      e.focused,
                      i.exists((e) => t.id === e.id)
                    )
                  })),
                  yt.skipBy(mu)
                )
            );
          })(e, t, n, o),
          (e, t) =>
            (0, a.zG)(
              e,
              i.filter((e) => !e.isFocused && t.isFocused),
              i.chain(() =>
                (0, a.zG)(
                  t.prevFocusedItemPosition,
                  i.map((e) => (e < 0 ? Lv.Hk("collapseForward", "expandForward") : Lv.Hk("collapseBackward", "expandBackward")))
                )
              )
            )
        );
      }
      function Hv(e) {
        const t = e.feed.state.view((e) =>
          (0, a.zG)(
            "loadedState" === e.kind ? i.some(e) : i.none,
            i.chain((e) =>
              (0, a.zG)(
                e.prevFocusedItem,
                i.chain((t) =>
                  (0, a.zG)(
                    e.items.findIndex((e) => e.id === t.id),
                    (e) => (e >= 0 ? i.some(e) : i.none)
                  )
                )
              )
            )
          )
        );
        return r.Z.composeList(
          C.Ot,
          () => e.feed.state.view((e) => ("loadedState" === e.kind ? e.items.map((e, t) => t) : [])).pipe(yt.skipBy(C.Eh(L.lr))),
          (n) => Dv(e.feed, e.feedNavigation, t, n)
        );
      }
      function Vv(e, t = Math.random) {
        const n = Bu(t);
        return r.Z.composeUnion(
          {
            loadingState: () => B.of(null),
            emptyState: () => B.of({ emptyContentIndex: n }),
            successState: () => B.of({ emptyContentIndex: n, goBackFrom: i.none }),
            nonEmptyState: r.Z.composeKnot({
              root: $v(e),
              lensView: r.Z.composeUnion(
                {
                  successState: r.Z.fromSideEffect(
                    (t) => e.feedNavigation.onToggleLens(t.goBackFrom),
                    e.feed.state.view((e) => ({ emptyContentIndex: n, goBackFrom: "loadedState" === e.kind ? i.some(e.feedId) : i.none }))
                  ),
                  cardList: r.Z.composeKnot({ cardList: Hv(e) })
                },
                () => e.feed.state.view((e) => ({ kind: "loadedState" === e.kind && e.items.length > 0 ? "cardList" : "successState" }))
              )
            })
          },
          () =>
            g.h.combine(e.feed.state, e.feedNavigation.state, (e, { allSuggestionsEmpty: t, someSuggestionsAddressed: n }) =>
              "loadingState" === e.kind || "emptyState" === e.kind
                ? { kind: e.kind }
                : t
                ? { kind: n ? "successState" : "emptyState" }
                : { kind: "nonEmptyState" }
            )
        );
      }
      function $v(e) {
        return r.Z.fromSideEffect(
          (t) => {
            switch (t.kind) {
              case "longFormFeedMounted":
                return e.feed.onFeedMount();
              case "toggleShortFormFeedAction":
                return e.feedNavigation.onToggleFeedForm("shortForm");
              case "lensToggleAction":
                return e.feedNavigation.onToggleLens(t.lensId);
              default:
                (0, j.L0)(t);
            }
          },
          g.h
            .combine(e.feed.state, e.suggestionCount.state, e.feedNavigation.state, (e, { suggestionCount: t }, { lenses: n }) =>
              "loadedState" === e.kind
                ? i.some({
                    suggestionCount: t,
                    canCollapseToShortForm: !0,
                    feedId: e.feedId,
                    lenses: (0, a.zG)(
                      [
                        Nc.ji.lensCorrectnessFeed,
                        Nc.ji.lensClarityFeed,
                        Nc.ji.lensEngagementFeed,
                        Nc.ji.lensDeliveryFeed,
                        Nc.ji.lensStyleGuideFeed
                      ],
                      C.UI((e) => i.fromNullable(n.get(e))),
                      C.oA
                    )
                  })
                : i.none
            )
            .pipe(J.oA)
        );
      }
      function Kv(e, t = Math.random) {
        const n = Bu(t);
        return r.Z.fromSideEffect(
          (t) => {
            const n = t.action;
            switch (n.kind) {
              case "sduiNotify":
                return (
                  Zv(n.actions) && e.feedNavigation.onSuggestionAddressed(),
                  e.feed.processActions(n.actions, n.item, n.actionScope, n.sourceId)
                );
              case "sduiFocusedItemMounted":
                return e.feed.onFocusedItemMount(n.item);
              case "shortFormFeedAnimationEnd":
                return e.feed.onAnimationEnd();
              case "shortFormFeedMounted":
                return e.feed.onFeedMount();
              case "toggleLongFormFeedAction":
                return e.feed.onToggleLongFormFeed(), e.feedNavigation.onToggleFeedForm("longForm");
              default:
                (0, j.L0)(n);
            }
          },
          g.h.combine(
            e.feed.state,
            e.suggestionCount.state,
            e.feedNavigation.state,
            (e, { suggestionCount: t }, { supportsLongForm: r, someSuggestionsAddressed: o }) =>
              "loadingState" === e.kind
                ? e
                : "loadedState" === e.kind && i.isSome(e.focused)
                ? {
                    kind: "nonEmptyState",
                    item: e.focused.value,
                    prevItem: e.prevFocusedItem,
                    transitions: e.transitions,
                    suggestionCount: t,
                    canExpandToLongForm: r
                  }
                : { kind: o ? "successState" : "emptyState", emptyContentIndex: n }
          )
        );
      }
      const Wv = () => B.of(null);
      function qv(e) {
        const t = (0, a.zG)(
          e.revision,
          i.map((e) => Gv.v.unwrap(e))
        );
        return r.Z.composeUnion(
          {
            none: Wv,
            shortFormFeed: r.Z.composeKnot({
              feed: (0, a.zG)(
                t,
                i.fold(() => Wv, Kv)
              )
            }),
            longFormFeed: r.Z.composeKnot({
              feed: (0, a.zG)(
                t,
                i.fold(() => Wv, Vv)
              )
            })
          },
          () =>
            g.h.combine(
              e.routing.activeView,
              (0, a.zG)(
                t,
                i.fold(
                  () => g.h.create(null),
                  (e) => e.feedNavigation.state.view("feedForm")
                )
              ),
              (e, t) =>
                Z(e) && null !== t
                  ? {
                      kind:
                        "home" === e.kind
                          ? "shortForm" === t
                            ? "shortFormFeed"
                            : "longForm" === t
                            ? "longFormFeed"
                            : (0, j.L0)(t)
                          : "thread" === e.kind
                          ? "none"
                          : (0, j.L0)(e)
                    }
                  : { kind: "none" }
            )
        );
      }
      function Qv(e) {
        const t = e.assistant.state.view("session").view((e) =>
          (0, a.zG)(
            e,
            G.z.toStarted,
            i.fold(a.jv, (e) => e.voiceProfile.needsSetup)
          )
        );
        return r.Z.composeOption(
          r.Z.fromSideEffect((t) => e.notify(t), null),
          () => t.view((e) => (e ? i.some(null) : i.none))
        );
      }
      function Yv(e, t, n, i) {
        return r.Z.fromSideEffect(
          (t) => e.notify(t),
          ee
            .aj([t, e.assistant.state.view("textBox")])
            .pipe(
              W.U(([e, t]) => ({
                icon: "regularAction" === e.kind ? le.right(e.action.iconUrl) : le.left(e.kind),
                label:
                  "regularAction" === e.kind
                    ? e.action.label
                    : "allResults" === e.kind
                    ? "More"
                    : "go" === e.kind
                    ? `${t.trim()}`
                    : (0, j.L0)(e),
                action: e,
                mode: n,
                customViewOpts: i
              }))
            )
        );
      }
      function Xv(e, t, n, o) {
        return r.Z.composeList(
          C.Ot,
          () => t.pipe(W.U(i.getOrElse(() => []))),
          (t) => Yv(e, B.of(t), n, o)
        );
      }
      function Jv(e, t) {
        return r.Z.composeList(
          C.Ot,
          () =>
            t.pipe(
              W.U((e) =>
                (0, a.zG)(
                  e,
                  C.Su((e, t) => ({ category: t, isFirst: 0 === e }))
                )
              )
            ),
          ({ category: t, isFirst: n }) =>
            (function (e, t, n) {
              const o = e.assistant.state.view(({ session: e, contextualActions: t }) =>
                (0, a.zG)(
                  M.g(i.option)(
                    (0, a.zG)(
                      e,
                      G.z.toStarted,
                      i.chain((e) => e.activeBoundaryContext.selection)
                    ),
                    t
                  ),
                  i.isSome
                )
              );
              return r.Z.composeKnot({
                root: () => B.of({ label: t.label, view: t.view }),
                actions: Xv(e, B.of(i.some(t.actions)), "standard", { isPinned: t.view === P.aU.Store.View.pinned }),
                header: r.Z.composeUnion(
                  {
                    default: () => B.of({ label: t.label }),
                    withSelectionContext: r.Z.fromSideEffect((t) => e.notify(t), B.of({ label: t.label }))
                  },
                  () => o.pipe(W.U((e) => ({ kind: e && n ? "withSelectionContext" : "default" })))
                )
              });
            })(e, t, n)
        );
      }
      function ex(e, t = a.W8, n = i.some(3)) {
        const r = (0, a.zG)(
          F.hX((e) => t(e.action))(e),
          i.getOrElseW(() => C.cS)
        );
        return (0, a.zG)(
          n,
          i.filter((e) => r.length > e),
          i.map((e) => F.Ss(C.ke(e)(r), { kind: "allResults", filterPredicate: t })),
          i.getOrElseW(() => r)
        );
      }
      function tx(e) {
        const t = e.assistant.state.view("session").view((e) => jv.w.isQuickReply(e.mode)),
          n = e.assistant.state.view("session").view("selectedText"),
          o = e.assistant.state
            .view("contextualActions")
            .view((e) =>
              (0, a.zG)(
                e,
                i.map(F.UI(St.RegularAction.make)),
                i.map(F.IR(St.RegularAction.ordByActionStore)),
                i.map(
                  F.UI((e) => ({
                    label: e[0].action.store.label,
                    actions: ex(
                      e,
                      (t) => P.aU.Store.Id.eq.equals(t.store.id, e[0].action.store.id),
                      e[0].action.store.maxCountBeforeClipping
                    ),
                    view: e[0].action.store.view
                  }))
                )
              )
            );
        return r.Z.composeUnion(
          {
            none: () => B.of(null),
            loading: () =>
              g.h.combine(t, n, (e, t) => ({
                header: e ? "Ways to reply" : i.isSome(t) ? `Work with: ${t.value}` : "Ideas for you",
                isQuickReply: e,
                withContext: i.isSome(t)
              })),
            loaded: nx(e, o, t)
          },
          () =>
            g.h.combine(o, e.assistant.state.view("session"), e.theme.theme.view("flatUI"), (e, t, n) =>
              n
                ? { kind: "none" }
                : i.isSome(e)
                ? "started" === t.kind && "pending" === t.activeContext.kind
                  ? { kind: "loading" }
                  : { kind: "loaded" }
                : "started" === t.kind
                ? "pending" === t.activeContext.kind
                  ? { kind: "loading" }
                  : { kind: "none" }
                : { kind: "loading" }
            )
        );
      }
      function nx(e, t, n) {
        const i = e.theme.theme.view("flatUI");
        return r.Z.composeKnot({
          root: r.Z.fromSideEffect(
            (t) => e.notify(t),
            g.h.combine(n, i, (e, t) => ({ showReportMenu: e && !t }))
          ),
          actions: Jv(e, t.pipe(J.oA))
        });
      }
      function ix(e) {
        return r.Z.composeKnot({
          suggestions: qv(e),
          voiceBanner: Qv(e),
          documentOverview: Fv(e),
          intent: Pv(e),
          defaultActions: tx(e),
          generationError: Mv(e),
          detectedReferences: zv(e)
        });
      }
      function rx(e, t, n, o) {
        const s = e.assistant.state.view("session").view(
            (0, a.ls)(
              G.z.toStarted,
              i.chain((e) => i.fromNullable(e.results[o + 1])),
              i.filter(bt.x.isComplete),
              i.chain((e) => e.boundaryContextId)
            )
          ),
          l = t.pipe(
            q.M(s),
            W.U(([e, t]) =>
              (0, a.zG)(
                e,
                i.filter((0, U.Kg)(bt.x.isComplete, bt.x.isInProgress)),
                i.chain((e) => e.boundaryContextId),
                i.filter((e) => !!i.isNone(t) || e !== t.value)
              )
            )
          ),
          c = l.pipe(W.U(i.chain((t) => e.assistant.getContextById(t)))),
          u = c.pipe(
            W.U((e) =>
              (0, a.zG)(
                e,
                i.chain((e) => e.selection)
              )
            )
          );
        return r.Z.composeOption(
          r.Z.fromSideEffect(
            (t) => e.notify(t),
            ee
              .aj([
                c,
                e.assistant.state.view("session").view(
                  (0, a.ls)(
                    G.z.toStarted,
                    i.map(({ textRevision: e }) => e)
                  )
                ),
                e.assistant.state.view("session").view(
                  (0, a.ls)(
                    G.z.toStarted,
                    i.map(({ selectionContextStatus: e }) => e)
                  )
                )
              ])
              .pipe(
                W.U(([e, t, n]) =>
                  M.Y(i.option)({
                    selection: (0, a.zG)(
                      e,
                      i.chain(({ selection: e }) => e)
                    ),
                    currentTextRevision: t,
                    contextTextRevision: (0, a.zG)(
                      e,
                      i.map(({ textRevision: e }) => e)
                    ),
                    selectionContextStatus: n
                  })
                ),
                J.oA,
                W.U(({ selection: e, currentTextRevision: t, contextTextRevision: n, selectionContextStatus: r }) => ({
                  selectedText: e.text,
                  selectedRange: r === G.z.SelectionContextStatus.dynamic && i.isSome(n) && t === n.value ? e.range : void 0
                }))
              )
          ),
          () =>
            ee.aj([u, n]).pipe(
              W.U(([e, t]) =>
                (0, a.zG)(
                  e,
                  i.filter(() => t)
                )
              )
            )
        );
      }
      var ox = n(87938),
        ax = n(77843);
      const sx = [
        { text: "Working on it...", isMyVoice: !1 },
        { text: "Applying your style...", isMyVoice: !0 },
        { text: "Using your preferred words...", isMyVoice: !0 },
        { text: "Structuring sentences your way...", isMyVoice: !0 },
        { text: "Adjusting your formality...", isMyVoice: !0 },
        { text: "Dotting the is and crossing the ts...", isMyVoice: !0 }
      ];
      function lx(e) {
        const t = e.state
            .view("session")
            .view(G.z.toStarted)
            .view(i.chain((e) => e.inProgressResult)),
          n = t.pipe(
            J.oA,
            W.U((e) => e.text),
            te.O("")
          ),
          r = t.pipe(W.U(i.map((e) => e.header.label)), J.oA, te.O("")),
          o = t.pipe(W.U(i.chain((e) => e.header.iconUrl))),
          a = Ot.D(sx).pipe(ox.j((e, t) => ax.F(3e3 * t))),
          s = a.pipe(W.U((e) => e.text)),
          l = a.pipe(W.U((e) => e.isMyVoice));
        return () =>
          ee
            .aj([n, s, l, r, o])
            .pipe(
              W.U(([e, t, n, i, r]) => ({
                resultText: e,
                statusText: t,
                sourceLabel: i,
                sourceIconUrl: r,
                isMyVoiceStatus: n || e.length > 0
              }))
            );
      }
      function cx(e) {
        return () =>
          e.assistant.state
            .view("session")
            .view(G.z.toStarted)
            .view(
              (0, a.ls)(
                i.chain((e) => e.inProgressResult),
                i.fold(
                  () => ({ text: "" }),
                  (e) => ({ text: e.text })
                )
              )
            );
      }
      function ux(e) {
        const t = e.assistant.state
          .view("session")
          .view(G.z.toStarted)
          .view(
            i.chain(
              (0, a.ls)(
                (e) => e.voiceProfile,
                ft.L.toNewVoiceProfile,
                i.map((e) => e.isEnabledByDefault)
              )
            )
          )
          .view(i.getOrElse(a.jv));
        return r.Z.composeUnion(
          {
            regularCardInProgress: r.Z.composeKnot({ root: cx(e), header: dx(e, e.theme.theme.view("flatUI")) }),
            myVoiceCardInProgress: r.Z.composeKnot({ root: lx(e.assistant), header: dx(e, e.theme.theme.view("flatUI")) })
          },
          () => t.pipe(W.U((e) => (e ? { kind: "myVoiceCardInProgress" } : { kind: "regularCardInProgress" })))
        );
      }
      function dx(e, t) {
        return rx(
          e,
          e.assistant.state
            .view("session")
            .view(G.z.toStarted)
            .view(i.chain((e) => e.inProgressResult)),
          t,
          -1
        );
      }
      function mx(e) {
        const t = g.h.combine(e.assistant.state.view("session"), e.routing.activeView, (e, t) =>
          (0, a.zG)(
            G.z.toStarted(e),
            i.chain((e) => e.inProgressResult),
            i.filter(() => "thread" === t.kind),
            i.map((e) => ({ result: e }))
          )
        );
        return r.Z.composeOption(
          (function (e) {
            return r.Z.composeKnot({
              content: ux(e),
              header: dx(
                e,
                e.theme.theme.view("flatUI").view((e) => !e)
              )
            });
          })(e),
          () => t
        );
      }
      function px(e, t) {
        return r.Z.composeOption(
          r.Z.fromSideEffect(
            (t) => e.notify(t),
            e.userSurvey.state.pipe(
              W.U((e) =>
                (0, a.zG)(
                  e.activeSurvey,
                  i.map((t) => ({ survey: t, state: e }))
                )
              ),
              J.oA,
              W.U(({ survey: e, state: t }) => ({
                survey: e,
                stage: t.stage,
                transitionStage: t.transitionStage,
                rating: t.rating,
                openAnswer: (0, a.zG)(t.openAnswer, i.getOrElse((0, a.a9)(""))),
                ratingLabels: (0, a.zG)(
                  t.activeSurvey,
                  i.fold((0, a.a9)([]), (e) => e.ratingLabels)
                ),
                errors: t.errors
              }))
            )
          ),
          () =>
            g.h.combine(e.userSurvey.state, t, e.routing.activeView, ({ activeSurvey: e, stage: t }, n, r) =>
              (0, a.zG)(
                e,
                i.filter((e) => "thread" === r.kind && (0, a.zG)(n, ne.FX(e.resultId)) && t !== ct.x.Stage.Type.Closed)
              )
            )
        );
      }
      var hx = n(27278);
      function fx(e) {
        const t = e.assistant.state.view("contextualActions").view((e) =>
          (0, a.zG)(
            e,
            i.map(F.UI(St.RegularAction.make)),
            i.map((e) => ex(e, (0, a.ff)(P.aU.isSkillAction))),
            i.chain(F.c2)
          )
        );
        return r.Z.composeUnion(
          {
            none: () => B.of(null),
            loading: () => B.of(null),
            actions: r.Z.composeKnot({ root: r.Z.fromSideEffect((t) => e.notify(t), null), actions: Xv(e, t, "compact") })
          },
          () =>
            g.h.combine(
              t,
              e.theme.theme.view("flatUI"),
              e.assistant.state.view("genAIAvailability"),
              e.assistant.state.view("session"),
              (e, t, n, r) =>
                (0, a.zG)(
                  G.z.toStarted(r),
                  i.map((e) => e.activeContext),
                  i.filter(() => !t),
                  i.fold(
                    () => "none",
                    (t) =>
                      (0, a.zG)(
                        e,
                        i.filter(() => !z._.isUnavailable(n)),
                        i.fold(
                          () => (z._.isUnavailable(n) || !hx._.isPending(t) ? "none" : "loading"),
                          () => "actions"
                        )
                      )
                  ),
                  (e) => ({ kind: e })
                )
            )
        );
      }
      function gx(e) {
        return () =>
          e.assistant.state
            .view("session")
            .view("selectedText")
            .pipe(
              W.U((e) => ({ header: i.isSome(e) ? `Work with: ${e.value}` : "Ideas for you", isQuickReply: !1, withContext: i.isSome(e) }))
            );
      }
      function vx(e) {
        const t = e.assistant.state
          .view("contextualActions")
          .view((e) =>
            (0, a.zG)(
              e,
              i.chain(F.hX((0, U.ff)(P.aU.isSkillAction))),
              i.map(F.UI(St.RegularAction.make)),
              i.map(F.IR(St.RegularAction.ordByActionStore)),
              i.map(
                F.UI((e) => ({
                  label: e[0].action.store.label,
                  actions: ex(e, (t) => P.aU.Store.Id.eq.equals(t.store.id, e[0].action.store.id)),
                  view: e[0].action.store.view
                }))
              )
            )
          );
        return r.Z.composeKnot({ actions: Jv(e, t.pipe(J.oA)) });
      }
      function xx(e) {
        return r.Z.composeOption(
          r.Z.composeKnot({
            actions: r.Z.composeUnion({ loading: gx(e), loaded: vx(e) }, () =>
              e.assistant.state
                .view("session")
                .view(G.z.toStarted)
                .pipe(W.U(i.map((e) => ("pending" === e.activeContext.kind ? { kind: "loading" } : { kind: "loaded" }))), J.oA)
            )
          }),
          () => e.assistant.state.view("session").view(G.z.toStarted)
        );
      }
      function yx(e) {
        const t = g.h.combine(e.assistant.state.view("session"), e.routing.activeView, e.theme.theme.view("flatUI"), (e, t, n) =>
          (0, a.zG)(
            e,
            G.z.toStarted,
            i.filter((e) => "thread" === t.kind && i.isNone(e.inProgressResult) && i.isNone(e.error) && !n),
            i.map((e) => e.results),
            i.chain(F.c2)
          )
        );
        return r.Z.composeOption(
          (function (e) {
            return r.Z.composeUnion({ followUp: r.Z.composeKnot({ actions: fx(e) }), newContext: xx(e) }, () =>
              e.assistant.state
                .view("session")
                .view(G.z.toStarted)
                .pipe(
                  W.U((e) =>
                    (0, a.zG)(
                      e,
                      i.map((e) =>
                        e.activeContext.isBoundary &&
                        i.isSome(e.activeContext.textRevision) &&
                        (hx._.isPending(e.activeContext) ||
                          i.isSome(
                            (0, a.zG)(
                              i.fromNullable(e.results[0]),
                              i.filter((e) => !bt.x.isHistory(e)),
                              i.chain(({ boundaryContextId: e }) => e),
                              i.filter((t) => t !== e.activeContext.id)
                            )
                          ))
                          ? "newContext"
                          : "followUp"
                      )
                    )
                  ),
                  J.oA,
                  W.U((e) => ({ kind: "followUp" === e ? "followUp" : "newContext" }))
                )
            );
          })(e),
          () => t
        );
      }
      var bx = n(24713),
        kx = n(26328);
      function wx(e, t) {
        return r.Z.fromSideEffect((t) => e.notify(t), t);
      }
      function Cx(e, t) {
        const n = (function (e, t) {
            return e.assistant.state
              .view(({ genAIAvailability: e, session: n }) =>
                (0, a.zG)(
                  G.z.toStarted(n),
                  i.map((n) => {
                    const r = z._.isPassive(e) || z._.isUnavailable(e),
                      o = (0, a.zG)(
                        n.activeContext.userPromptAction,
                        i.chain((e) =>
                          (0, a.zG)(
                            t.header.copiablePrompt,
                            i.map((t) => P.aU.UserPromptActionValue.fromInput(e, t, i.none, i.none))
                          )
                        )
                      );
                    return {
                      actions: (0, a.zG)(
                        kx.nI(
                          n.activeContext.availableActions.filter((0, U.Kg)(P.aU.isFollowUpQuestionActionInput, P.aU.isQuickActionInput))
                        ),
                        i.filter(() => !r),
                        i.map(kx.UI(St.RegularAction.make))
                      ),
                      originalAction: o,
                      disabled: r,
                      result: t
                    };
                  })
                )
              )
              .pipe(J.oA);
          })(e, t),
          o = n.pipe(bx.j("actions"));
        return r.Z.composeKnot({ root: wx(e, n), actions: Xv(e, o, "standard") });
      }
      var Sx = n(17343);
      function Ex(e, t) {
        return r.Z.composeKnot({
          root: _x(e, t),
          voiceButton: r.Z.composeOption(
            r.Z.fromSideEffect(
              (t) => e.notify(t),
              e.assistant.state.pipe(
                W.U((e) => {
                  var n;
                  return {
                    selectedVoice:
                      null !== (n = e.overrideCardVoice.get(t.id)) && void 0 !== n
                        ? n
                        : (0, a.zG)(
                            t.replacementDelta,
                            le.fold(
                              () => bt.x.GeneratedTextVoice.generic,
                              (e) => e.preferVoice
                            )
                          ),
                    resultId: t.id
                  };
                })
              )
            ),
            () => B.of(i.fromEither(t.replacementDelta))
          )
        });
      }
      function _x(e, t) {
        return r.Z.fromSideEffect(
          (t) => e.notify(t),
          e.assistant.state.pipe(
            E.w((e) => {
              const n = (0, a.zG)(
                t.header.copiablePrompt,
                i.fold(
                  () => ({ kind: tf.searchLabel, label: t.header.label, iconUrl: t.header.iconUrl }),
                  (n) => ({
                    kind: tf.clickableSearchLabel,
                    label: t.header.label,
                    disabled: z._.isUnavailable(e.genAIAvailability),
                    copiablePrompt: n
                  })
                )
              );
              return bt.x.isComplete(t) &&
                (function (e) {
                  return (0, a.zG)(
                    e.replacementDelta,
                    le.fold(a.yR, (e) => e.generic),
                    (e) =>
                      e.ops.some((e) => {
                        var t;
                        return Rh.s.isInsert(e) && !!(null === (t = e.attributes) || void 0 === t ? void 0 : t[Hh.knowledgeHubTerm]);
                      })
                  );
                })(t) &&
                t.timestamp + 3e3 > Date.now()
                ? S.H(t.timestamp + 3e3 - Date.now()).pipe(Sx.h(n), te.O({ kind: tf.knowledgeHub }))
                : B.of(n);
            })
          )
        );
      }
      function Ix(e, t, n, o) {
        return r.Z.composeKnot({
          root: r.Z.fromSideEffect(
            (t) => e.notify(t),
            e.assistant.state.view(
              ({ genAIAvailability: e, activeCards: i, session: r, referencesVisibility: o, overrideCardVoice: s }) => {
                var l, c;
                return {
                  disabled: z._.isUnavailable(e),
                  result: t,
                  isActive: (0, a.zG)(!!i.has(t.id) || (0 === i.size && n && !Ax(G.z.toStarted(r)))),
                  isReferencesOpen: null !== (l = o.get(t.id)) && void 0 !== l && l,
                  isMyVoice:
                    (null !== (c = s.get(t.id)) && void 0 !== c
                      ? c
                      : (0, a.zG)(
                          t.replacementDelta,
                          le.fold(
                            () => bt.x.GeneratedTextVoice.generic,
                            (e) => e.preferVoice
                          )
                        )) === bt.x.GeneratedTextVoice.user
                };
              }
            )
          ),
          header: Ex(e, t),
          contextHeader: rx(e, B.of(i.some(t)), B.of(!0), o)
        });
      }
      function Ax(e) {
        return (0, a.zG)(
          e,
          i.fold(a.jv, (e) => i.isSome(e.inProgressResult) || i.isSome(e.error))
        );
      }
      function Bx(e, t) {
        return r.Z.composeList(
          C.Ot,
          () =>
            t.pipe(
              W.U(
                (0, a.ls)(
                  C.ke(50),
                  C.Su((e, t) => ({ result: t, isLast: 0 === e, index: e })),
                  C.GY
                )
              )
            ),
          ({ result: t, isLast: n, index: i }) =>
            (function (e, t, n, i) {
              return r.Z.composeUnion({ promptResultComplete: Ix(e, t, n, i), aiUsageNotification: Cx(e, t) }, () =>
                B.of(bt.x.isAIUsageNotification(t) ? { kind: "aiUsageNotification" } : { kind: "promptResultComplete" })
              );
            })(e, t, n, i)
        );
      }
      function Rx(e, t) {
        return r.Z.composeUnion(
          {
            none: () => B.of(null),
            loading: () => B.of({ root: { text: "" } }),
            loaded: r.Z.composeKnot({ results: Bx(e, t.view(i.getOrElse(() => []))) })
          },
          () =>
            g.h.combine(t, e.assistant.state.view("session").view("kind"), e.routing.activeView, (e, t, n) =>
              "thread" === n.kind ? { kind: "starting" === t ? "loading" : i.isSome(e) ? "loaded" : "none" } : { kind: "none" }
            )
        );
      }
      function Ox(e) {
        const t = e.assistant.state.view("session").view(
          (0, a.ls)(
            G.z.toStarted,
            i.map((e) => e.results),
            i.chain(F.c2)
          )
        );
        return r.Z.composeKnot({
          documentOverview: Fv(e),
          intent: Pv(e),
          resultList: Rx(e, t),
          lastResultSurvey: px(e, t.view(i.map((0, a.ls)(F.YM, (e) => e.id)))),
          lastResultActions: yx(e),
          inProgressResult: mx(e),
          generationError: Mv(e),
          detectedReferences: zv(e)
        });
      }
      function Ux(e) {
        return r.Z.composeUnion(
          {
            home: ix(e),
            thread: Ox(e),
            error: Mv(e),
            followUpPrompt: Iv(e),
            legacyVoiceProfile: Ov(e),
            voiceProfile: Uv(e),
            feedbackForm: _v(e),
            skill: Bv(e, !1),
            toneReport: r.Z.composeKnot({ toneReport: Rv(e) }),
            settings: Av(e)
          },
          () => e.routing.activeView
        );
      }
      var Tx = n(67434);
      const Nx = new Aa(999999);
      var Mx;
      function Fx(e) {
        const t = e.promptMenu.state.pipe(
          Tx.R(
            (e, t) =>
              (0, a.zG)(
                t,
                i.fold(
                  () => e,
                  () => e + 1
                )
              ),
            0
          )
        );
        return r.Z.fromSideEffect(
          (t) => e.notify(t),
          ee.aj([e.assistant.state, t, e.routing.activeView]).pipe(
            W.U(([e, t, n]) => {
              return {
                kind: (0, a.zG)(
                  G.z.toStarted(e.session),
                  i.fold(
                    () => "loading",
                    (e) =>
                      (0, a.zG)(
                        e.inProgressResult,
                        i.fold(
                          () => "ready",
                          () => "waitingForResult"
                        )
                      )
                  )
                ),
                genAIAvailability: e.genAIAvailability,
                placeholder:
                  ((r = e),
                  (0, a.zG)(
                    r.selectedAction,
                    i.chain((e) => ("" !== e.args[0].label.trim() ? i.some([e.args[0].label]) : i.none)),
                    i.alt(() =>
                      (0, a.zG)(
                        r.userPromptAction,
                        i.map((e) => [e.arg.label])
                      )
                    )
                  )),
                text: e.textBox,
                autofocusToken: Mx.create(
                  `${n.kind}_${(0, a.zG)(
                    G.z.toStarted(e.session),
                    i.chain((e) => e.inProgressResult),
                    i.fold(
                      () => "done",
                      () => "inProgress"
                    )
                  )}_${(0, a.zG)(
                    e.selectedAction,
                    i.fold(
                      () => "no-selected-action",
                      () => "selected-action"
                    )
                  )}_${e.promptAutofocusToken}_promptMenuOpen:${t}`
                )
              };
              var r;
            }),
            O.x()
          )
        );
      }
      function jx(e) {
        return r.Z.fromSideEffect(
          (t) => e.notify(t),
          e.promptMenu.state.view(
            (0, a.ls)(
              i.map((e) => e.actions),
              zx
            )
          )
        );
      }
      function Px(e) {
        var t, n;
        return Object.assign(Object.assign({}, e), {
          group: Object.assign(Object.assign({}, e.group), {
            rank: null !== (t = P.aU.knownGroupRank[e.group.id]) && void 0 !== t ? t : e.group.rank,
            label: null !== (n = P.aU.knowGroupLabels[e.group.id]) && void 0 !== n ? n : e.group.label
          })
        });
      }
      function zx(e) {
        return (0, a.zG)(
          e,
          i.map(F.UI(Px)),
          i.chain(F.hX((e) => e.group.label.trim().length > 0)),
          i.map(F.IR(P.aU.ListableActionInput.ordByGroup)),
          i.fold(
            () => ({ actionGroups: [] }),
            (e) => ({
              actionGroups: e.map((e) => ({
                label: e[0].group.label,
                actions: (0, a.zG)(
                  e,
                  F.UI((e) => ({ action: St.RegularAction.make(e), label: e.label, icon: e.iconUrl }))
                )
              }))
            })
          )
        );
      }
      function Gx(e) {
        return (0, a.zG)(
          e,
          C.pO((e) => {
            const { init: t, rest: n } = C.zT((t) => P.aU.Group.Id.eq.equals(t.group.id, e[0].group.id))(e);
            return [t, n];
          }),
          C.UI((e) =>
            M.Y(i.Applicative)({
              label: (0, a.zG)(
                e,
                C.YM,
                i.map((e) => e.group.label)
              ),
              view: i.some(P.aU.Store.View.normal),
              actions: (0, a.zG)(e, C.UI(St.RegularAction.make), F.c2),
              withContext: i.some(!1)
            })
          ),
          C.oA,
          F.c2,
          i.getOrElse(() => [
            { label: e[0].group.label, view: P.aU.Store.View.normal, actions: [St.RegularAction.make(e[0])], withContext: !1 }
          ])
        );
      }
      function Lx(e) {
        const t = e.promptMenu.state.view(
          (0, a.ls)(
            i.map((e) => e.actions),
            i.map(F.DY(P.aU.ListableActionInput.ordByGroup)),
            i.map(Gx)
          )
        );
        return r.Z.composeOption(Jv(e, t.pipe(J.oA)), () => t);
      }
      function Zx(e) {
        return r.Z.composeKnot({
          searchResults: Xv(
            e,
            e.promptMenu.state.view(
              (0, a.ls)(
                i.map((e) => e.actions),
                i.map(F.UI(St.RegularAction.make))
              )
            ),
            "standard"
          ),
          customPromptGo: Yv(e, B.of({ kind: "go" }), "standard")
        });
      }
      function Dx(e) {
        return r.Z.composeKnot({
          root: r.Z.fromSideEffect(
            (t) => e.notify(t),
            e.promptMenu.state.view(
              (0, a.ls)(
                i.map((e) => e.actions),
                Hx
              )
            )
          ),
          goAction: Yv(e, B.of({ kind: "go" }), "standard")
        });
      }
      function Hx(e) {
        return (0, a.zG)(
          e,
          i.fold(
            () => ({ actions: [] }),
            (e) => ({ actions: e.map((e) => ({ action: St.RegularAction.make(e), label: e.label, icon: e.iconUrl })) })
          )
        );
      }
      function Vx(e) {
        return r.Z.composeOption(
          r.Z.composeKnot({
            root: r.Z.fromSideEffect((t) => e.notify(t), B.of(null)),
            content: r.Z.composeUnion(
              { legacySearchResults: Zx(e), legacyActionStore: Lx(e), searchResults: Dx(e), actionStore: jx(e), none: () => B.of(null) },
              () =>
                g.h.combine(e.theme.theme.view("flatUI"), e.promptMenu.state, (e, t) =>
                  (0, a.zG)(
                    t,
                    i.map(({ kind: t }) => (e ? { kind: t } : { kind: "actionStore" === t ? "legacyActionStore" : "legacySearchResults" })),
                    i.getOrElse(() => ({ kind: "none" }))
                  )
                )
            )
          }),
          () => e.promptMenu.state
        );
      }
      function $x(e) {
        const t = g.h.combine(
          e.theme.theme.view("flatUI"),
          e.assistant.state.view("genAIAvailability"),
          e.promptMenu.state,
          (e, t, n) => e && z._.isUnavailable(t) && i.isNone(n)
        );
        return r.Z.composeOption(
          (function (e) {
            return r.Z.composeKnot({
              root: r.Z.fromSideEffect((t) => e.notify(t), e.promptMenu.state.pipe(W.U((e) => ({ menuExpanded: i.isSome(e) })))),
              promptField: Fx(e),
              promptStudioMenu: Vx(e)
            });
          })(e),
          () => t.view((0, U.RN)(i.none, i.some(null)))
        );
      }
      function Kx(e, t = g.h.create(!1)) {
        return r.Z.fromSideEffect(
          (t) => e.notify(t.action.action),
          g.h.combine(e.assistant.state.view("session"), e.routing.activeView, e.theme.theme.view("flatUI"), t, (e, t, n, r) => {
            const o =
                "started" !== e.kind || (e.historyStatus !== G.z.HistoryStatus.hasHistory && 0 === e.results.length)
                  ? "disabled"
                  : e.historyStatus === G.z.HistoryStatus.historyRequested
                  ? "loading"
                  : "enabled",
              a = "home" === t.kind;
            return n
              ? a && !r
                ? i.some({ state: o, flatUI: !0 })
                : i.none
              : "started" === e.kind &&
                a &&
                (e.historyStatus === G.z.HistoryStatus.hasHistory ||
                  e.historyStatus === G.z.HistoryStatus.historyRequested ||
                  e.results.length > 0)
              ? i.some({ state: o, flatUI: !1 })
              : i.none;
          })
        );
      }
      !(function (e) {
        e.create = function (e) {
          return null != e ? e : Nx.newId();
        };
      })(Mx || (Mx = {}));
      const Wx = {
          quickAction: new Set(["toneAction", "skillAction", "followUpQuestion"]),
          toneAction: new Set(["skillAction", "followUpQuestion"]),
          skillAction: new Set(["followUpQuestion"]),
          followUpQuestion: new Set()
        },
        qx = oe.fromCompare((e, t) => (e.kind === t.kind ? 0 : Wx[e.kind].has(t.kind) ? -1 : 1));
      function Qx(e) {
        return r.Z.fromSideEffect(
          (t) => e.notify(t),
          g.h.combine(e.promptActions.contextualActions, e.promptActions.toneAction, e.promptActions.skillActions, (e, t, n) => {
            const i = (0, a.zG)(
              e.actions
                .concat((0, a.zG)([t], C.oA))
                .concat(n)
                .map(St.RegularAction.make),
              C.DY(oe.contramap((e) => e.action)(qx))
            );
            return { loading: e.loading, actions: i, hasMore: e.actions.length > i.length };
          })
        );
      }
      function Yx(e) {
        return r.Z.fromSideEffect(
          (t) => e.notify(t),
          g.h.combine(
            e.promptActions.contextualActions,
            e.promptActions.toneAction,
            e.promptActions.skillActions,
            e.routing.activeView,
            ({ actions: e, loading: t }, n, i, r) => {
              const o = "home" === r.kind ? 3 : 2,
                s = (0, a.zG)(
                  e
                    .concat((0, a.zG)([n], C.oA))
                    .concat(i)
                    .map(St.RegularAction.make),
                  C.DY(oe.contramap((e) => e.action)(qx)),
                  C.ke(o)
                );
              return { loading: t, maxActionsCount: o, actions: s, hasMore: e.length > s.length };
            }
          )
        );
      }
      function Xx(e) {
        return r.Z.composeUnion({ none: () => B.of(null), actionBar: Jx(e), actionPanel: ey(e) }, () =>
          g.h.combine(e.routing.activeView, e.assistant.state.view("session"), e.theme.theme.view("flatUI"), (t, n, r) => {
            if (!Z(t) || !r || ("thread" === t.kind && "starting" === n.kind)) return { kind: "none" };
            if (i.isSome(e.revision) && "home" === t.kind) return { kind: "quickReply" !== n.mode ? "actionBar" : "actionPanel" };
            return {
              kind: (0, a.zG)(
                G.z.toStarted(n),
                i.chain((e) => e.inProgressResult),
                i.isSome
              )
                ? "none"
                : "actionPanel"
            };
          })
        );
      }
      function Jx(e) {
        return r.Z.composeKnot({
          root: Qx(e),
          header: r.Z.fromSideEffect(
            (t) => e.notify(t.action.action),
            g.h.combine(e.assistant.state.view("session").view("selectedText"), e.promptActions.contextualActions, (e, t) =>
              (0, a.zG)(
                e,
                i.filter(() => "pending" === t.context.kind),
                i.alt(() =>
                  (0, a.zG)(
                    t.context.selection,
                    i.map((e) => e.text)
                  )
                ),
                i.map((e) => ({ selectedText: e }))
              )
            )
          ),
          historyButton: Kx(e)
        });
      }
      function ey(e) {
        return r.Z.composeKnot({ root: Yx(e), header: ty(e), historyButton: Kx(e) });
      }
      function ty(e) {
        return r.Z.fromSideEffect(
          (t) => e.notify(t.action),
          g.h.combine(e.routing.activeView, e.promptActions.contextualActions, e.assistant.state.view("session").view("mode"), (e, t, n) =>
            Z(e)
              ? (0, a.zG)(
                  t.context.selection,
                  i.map((e) => e.text),
                  i.filter(() => t.context.isBoundary && i.isSome(t.context.textRevision)),
                  i.fold(
                    () =>
                      "home" === e.kind
                        ? { kind: "title", title: "quickReply" === n ? "How do you want to reply?" : "How do you want to get started?" }
                        : { kind: "none" },
                    (e) => ({ kind: "selectionContext", selectedText: e })
                  )
                )
              : { kind: "none" }
          )
        );
      }
      function ny(e) {
        return r.Z.composeKnot({ header: Xx(e), fieldContainer: $x(e) });
      }
      function iy(e) {
        return r.Z.composeUnion({ none: () => B.of(null), skill: Bv(e, !0), promptStudio: ny(e) }, () =>
          e.routing.activeView.view((e) =>
            "skill" === e.kind
              ? { kind: "skill" }
              : Z(e) || ("followUpPrompt" === e.kind && "string" === e.inputType)
              ? { kind: "promptStudio" }
              : { kind: "none" }
          )
        );
      }
      function ry(e) {
        return (0, a.zG)(
          e.revision,
          i.map((e) => Gv.v.unwrap(e).suggestionCount),
          i.fold(
            () => g.h.create(i.none),
            (e) => e.state.view(i.some)
          )
        );
      }
      function oy(e) {
        return r.Z.fromSideEffect(
          (t) => {
            if ("suggestionCountButtonClick" === t.kind) return e.routing.pop();
            (0, j.L0)(t.kind);
          },
          g.h.combine(
            e.assistant.state.view("session").view(
              (0, a.ls)(
                G.z.toStarted,
                i.chain((e) => e.inProgressResult),
                i.isSome
              )
            ),
            ry(e),
            (e, t) =>
              (0, a.zG)(
                t,
                i.fold(
                  () => 0,
                  (e) => e.suggestionCount
                ),
                (t) => ({ count: t, disabled: e })
              )
          )
        );
      }
      function ay(e) {
        return r.Z.composeUnion({ withoutSuggestions: () => B.of(null), withSuggestions: oy(e) }, () =>
          ry(e).view(
            (0, a.ls)(
              i.filter((e) => e.suggestionCount > 0),
              i.fold(
                () => ({ kind: "withoutSuggestions" }),
                () => ({ kind: "withSuggestions" })
              )
            )
          )
        );
      }
      function sy(e) {
        return r.Z.fromSideEffect(
          (t) => e.notify(t.action.action),
          g.h.combine(e.routing.activeView.view("kind"), e.theme.theme.view("flatUI"), (t, n) =>
            i.isSome(e.settings) && "settings" !== t ? i.some({ flatUI: n }) : i.none
          )
        );
      }
      function ly(e) {
        return (0, a.zG)(
          e,
          i.fold(
            () => "",
            (e) =>
              (0, a.zG)(
                ft.L.toLegacyVoiceProfile(e),
                i.fold(
                  () => "Style",
                  (e) =>
                    (0, a.zG)(
                      i.fromNullable(e.styles.find((t) => ft.L.Style.Id.eq.equals(t.id, e.selectedStyle))),
                      i.fold(
                        () => "",
                        (e) => e.label
                      )
                    )
                )
              )
          )
        );
      }
      function cy(e) {
        return e.assistant.state.view("session").view((e) => ({
          styleLabel: ly(
            (0, a.zG)(
              G.z.toStarted(e),
              i.map((e) => e.voiceProfile)
            )
          )
        }));
      }
      function uy(e) {
        return r.Z.fromSideEffect((t) => e.notify(t), B.of(null));
      }
      function dy(e) {
        const t = e.assistant.state.view((e) =>
          (0, a.zG)(
            e.genAIAvailability,
            i.fromPredicate(z._.isActiveOrPassive),
            i.filter(() => i.isSome(G.z.toStarted(e.session)))
          )
        );
        return r.Z.composeOption(
          (function (e, t, n) {
            return r.Z.fromSideEffect(
              (t) => e.notify(t),
              (0, a.zG)(
                ee.aj([t, n]),
                W.U(([e, t]) => ({ user: e, genAIAvailability: t }))
              )
            );
          })(e, e.assistant.state.view("user"), t.pipe(J.oA)),
          () =>
            g.h.combine(t, e.routing.activeView.view("kind"), (e, t) =>
              (0, a.zG)(
                e,
                i.filter(
                  () =>
                    "voiceProfile" !== t &&
                    "legacyVoiceProfile" !== t &&
                    "feedbackForm" !== t &&
                    "skill" !== t &&
                    "settings" !== t &&
                    "toneReport" !== t
                )
              )
            )
        );
      }
      function my(e) {
        return () =>
          g.h.combine(
            e.routing.activeView,
            e.skill.state,
            (0, a.zG)(
              e.toneDetector,
              i.fold(
                () => g.h.create(i.none),
                (e) => e.state
              )
            ),
            e.theme.theme.view("flatUI"),
            (e, t, n, r) => (r ? py(e, t, n).label : i.none)
          );
      }
      function py(e, t, n) {
        switch (e.kind) {
          case "home":
          case "thread":
          case "error":
          case "followUpPrompt":
            return { label: i.none, iconUrl: i.none };
          case "legacyVoiceProfile":
          case "voiceProfile":
            return { label: i.some("Style"), iconUrl: i.none };
          case "feedbackForm":
            return { label: i.some("Share your thoughts"), iconUrl: i.none };
          case "skill":
            return {
              label: (0, a.zG)(
                t,
                i.map((e) => e.skill.displayName)
              ),
              iconUrl: (0, a.zG)(
                t,
                i.map((e) => e.skill.iconUrl)
              )
            };
          case "toneReport":
            return {
              label: (0, a.zG)(
                n,
                i.filter((e) => e.brandTonesEnabled),
                i.chain((e) => e.institutionName),
                i.map((e) => `${e} Tone Detector`),
                i.alt(() => i.some("Tone insights"))
              ),
              iconUrl: (0, a.zG)(
                n,
                i.filter((e) => e.brandTonesEnabled),
                i.chain((e) => e.institutionLogo)
              )
            };
          case "settings":
            return { label: i.some("Settings"), iconUrl: i.none };
        }
      }
      function hy(e) {
        return r.Z.composeKnot({
          left: fy(e),
          right: r.Z.composeKnot({
            historyButton: Kx(e, e.theme.theme.view("flatUI")),
            credits: dy(e),
            voiceButton: yy(e),
            settingsButton: sy(e),
            closeButton: uy(e)
          }),
          pageTitle: my(e)
        });
      }
      function fy(e) {
        const t = g.h.combine(e.assistant.state, e.routing.activeView, e.theme.theme.view("flatUI"), ({ session: t }, n, r) =>
          (0, a.zG)(
            G.z.toStarted(t),
            i.fold(
              () => (H(n) ? "backButton" : "logoOnly"),
              () => {
                if ("error" === n.kind) return "logoOnly";
                if ("home" === n.kind || "thread" === n.kind) {
                  if ("home" === n.kind) return i.isSome(e.revision) || r ? "logoOnly" : "logoAndVoiceButton";
                  if ("thread" === n.kind) return i.isSome(e.revision) ? "suggestionCount" : r ? "logoOnly" : "logoAndVoiceButton";
                  (0, j.L0)(n);
                } else {
                  if ("followUpPrompt" === n.kind) return r ? "backButton" : "backButtonAndVoiceButton";
                  if (H(n)) return "backButton";
                  (0, j.L0)(n);
                }
              }
            )
          )
        );
        return r.Z.composeUnion(
          {
            logoOnly: () => B.of(null),
            suggestionCount: r.Z.composeKnot({ button: ay(e) }),
            logoAndVoiceButton: xy(e),
            backButton: gy(e),
            backButtonAndVoiceButton: vy(e)
          },
          () =>
            t.pipe(
              te.O("logoOnly"),
              W.U((e) => ({ kind: e }))
            )
        );
      }
      function gy(e) {
        return r.Z.fromSideEffect(
          (t) => e.notify(t),
          g.h.combine(
            e.routing.activeView,
            e.skill.state,
            (0, a.zG)(
              e.toneDetector,
              i.fold(
                () => g.h.create(i.none),
                (e) => e.state
              )
            ),
            e.theme.theme.view("flatUI"),
            (e, t, n, r) =>
              (0, a.zG)(py(e, t, n), ({ label: t, iconUrl: n }) => ({
                activeViewLabel: r ? i.none : t,
                activeViewIconUrl: n,
                activeView: e
              }))
          )
        );
      }
      function vy(e) {
        return r.Z.fromSideEffect(
          (t) => e.notify(t.action),
          g.h.combine(cy(e), e.routing.activeView, (e, t) => ({
            back: { activeViewIconUrl: i.none, activeViewLabel: i.none, activeView: t },
            voice: e
          }))
        );
      }
      function xy(e) {
        return r.Z.fromSideEffect(
          (t) => e.notify(t),
          cy(e).view((e) => Object.assign(Object.assign({}, e), { kind: "logoAndVoiceButton" }))
        );
      }
      function yy(e) {
        return r.Z.fromSideEffect(
          (t) => e.notify(t.action.action),
          g.h.combine(e.assistant.state.view("session"), e.routing.activeView, e.theme.theme.view("flatUI"), (t, n, r) =>
            (0, a.zG)(
              G.z.toStarted(t),
              i.map((e) => e.voiceProfile),
              i.filter(() => (r || i.isSome(e.revision)) && Z(n)),
              i.map((e) => ({ styleLabel: ly(i.some(e)), flatUI: r }))
            )
          )
        );
      }
      function by(e) {
        return r.Z.composeKnot({
          assistant: r.Z.composeKnot({ root: Sv(e), content: Ux(e), header: hy(e), footer: iy(e), notifications: yv(e) })
        });
      }
      function ky(e) {
        var t;
        const n = null !== (t = e.logger) && void 0 !== t ? t : new o.W("Assistant"),
          a = new h({
            lifecycleService: e.lifecycleService,
            monitoringService: e.monitoringService,
            revisionEngine: i.fromNullable(e.revisionEngine),
            logger: n
          });
        a.mark("assistant_lifecycle_visually_ready");
        const s = Ft(e, { metricsService: a, logger: n });
        return {
          assistantUI: r.UI.mount(
            ((l = s),
            r.UI.Knot.make(
              r.UI.Grid.make(({ slots: e }) =>
                se.createElement(Ln.Provider, { value: { notifyUnmount: (e) => l.notify(e) } }, e.assistant)
              ),
              { assistant: xv }
            )),
            by(s)
          ),
          dispose() {
            s.dispose();
          }
        };
        var l;
      }
    },
    45174: (e, t, n) => {
      n.d(t, { N: () => a });
      var i = n(27378),
        r = n(23239),
        o = n(12968);
      const a = i.createContext(r.h.create(o.u));
    },
    52528: (e, t, n) => {
      n.d(t, { e: () => i });
      class i {
        constructor(e) {
          (this._theme = e), (this.theme = this._theme);
        }
      }
    },
    72004: (e, t, n) => {
      var i;
      n.d(t, { x: () => i }),
        (function (e) {
          let t, n;
          !(function (e) {
            (e.ok = "ok"), (e.satisfied = "satisfied"), (e.dissatisfied = "dissatisfied");
          })((t = e.Mood || (e.Mood = {}))),
            (function (e) {
              (e.resultCard = "resultCard"), (e.quickReplyInitialActions = "quickReplyInitialActions"), (e.intentCard = "intentCard");
            })((n = e.Source || (e.Source = {})));
        })(i || (i = {}));
    },
    63817: (e, t, n) => {
      var i, r;
      n.d(t, { C: () => r }),
        (function (e) {
          function t() {
            return ((65536 * (1 + Math.random())) | 0).toString(16).substring(1);
          }
          e.create = function () {
            return t() + t() + "-" + t() + "-" + t() + "-" + t() + "-" + t() + t() + t();
          };
        })(i || (i = {})),
        (function (e) {
          e.create = function (e, t, n, r, o) {
            return "information" === e
              ? { kind: "information", persistent: !!r, customTimeout: o, text: t, id: n || i.create() }
              : { kind: e, persistent: !!n, customTimeout: "number" == typeof r ? r : void 0, id: t || i.create() };
          };
        })(r || (r = {}));
    },
    50901: (e, t, n) => {
      n.d(t, { T: () => i });
      var i,
        r = n(22232);
      !(function (e) {
        let t;
        !(function (e) {
          (e.initial = "initial"),
            (e.initialBTS = "initialBTS"),
            (e.history = "history"),
            (e.prompts = "prompts"),
            (e.review = "review"),
            (e.rewrite = "rewrite"),
            (e.knowledgeHub = "knowledgeHub"),
            (e.references = "references");
        })((t = e.StepName || (e.StepName = {}))),
          (function (e) {
            (e.isAssistantOnboardingStep = function (t) {
              switch (t) {
                case e.prompts:
                case e.review:
                case e.knowledgeHub:
                case e.references:
                case e.history:
                  return !0;
                case e.initial:
                case e.initialBTS:
                case e.rewrite:
                  return !1;
                default:
                  return (0, r.L0)(t);
              }
            }),
              (e.isTooltipOnboardingStep = function (t) {
                switch (t) {
                  case e.prompts:
                  case e.review:
                  case e.rewrite:
                  case e.knowledgeHub:
                  case e.references:
                  case e.history:
                    return !0;
                  case e.initial:
                  case e.initialBTS:
                    return !1;
                  default:
                    return (0, r.L0)(t);
                }
              });
          })((t = e.StepName || (e.StepName = {})));
      })(i || (i = {}));
    },
    51478: (e, t, n) => {
      n.d(t, { l: () => i });
      var i,
        r = n(22232);
      !(function (e) {
        let t;
        !(function (e) {
          (e.close = "close"), (e.tryItOut = "tryItOut"), (e.mount = "mount");
        })((t = e.Kind || (e.Kind = {}))),
          (e.is = function (e) {
            return (t) => t.kind === e;
          });
      })(i || (i = {})),
        (0, r.L0)(void 0);
    },
    12422: (e, t, n) => {
      n.d(t, { Z: () => l });
      var i = n(95195),
        r = n(5114),
        o = n(64015),
        a = n(57050),
        s = n(69243);
      var l;
      !(function (e) {
        const t = ["initial", "initialBTS", "prompts", "review", "rewrite", "knowledgeHub", "references", "history"],
          n = ["extension", "editor", "llamaMac", "llamaWin"];
        function l(e, t) {
          return `${e}|${t}`;
        }
        function c(e, t, n) {
          return `${e}|${t}|${n}`;
        }
        function u(e) {
          return r.isSome(x(e));
        }
        function d(e) {
          return r.isSome(y(e));
        }
        const m = new s.Dy(
            "CompletedStepName",
            (e) => "string" == typeof e && u(e),
            (e, t) => ("string" == typeof e && u(e) ? s.Vp(e) : s.Rn(e, t)),
            s.yR
          ),
          p = new s.Dy(
            "LastSeenStepName",
            (e) => "string" == typeof e && d(e),
            (e, t) => ("string" == typeof e && d(e) ? s.Vp(e) : s.Rn(e, t)),
            s.yR
          ),
          h = s.OT(s.r$({ completed: s.Bk(m), lastSeen: s.Bk(p) }));
        let f, g, v;
        function x(e) {
          return (0, a.zG)(
            r.some(e.split("|")),
            r.filter((e) => 2 === e.length),
            r.filter((e) => t.includes(e[0]) && n.includes(e[1]))
          );
        }
        function y(e) {
          return (0, a.zG)(
            r.some(e.split("|")),
            r.filter((e) => 3 === e.length),
            r.filter((e) => t.includes(e[0]) && n.includes(e[1])),
            r.filterMap((e) => (0, a.zG)(parseInt(e[2], 10), (t) => (Number.isNaN(t) ? r.none : r.some([e[0], e[1], t]))))
          );
        }
        function b(e, t, n) {
          var i, r, o, a;
          return {
            extension: {
              completed: t.some((t) => t[0] === e && "extension" === t[1]),
              lastSeen: null === (i = n.find((t) => t[0] === e && "extension" === t[1])) || void 0 === i ? void 0 : i[2]
            },
            editor: {
              completed: t.some((t) => t[0] === e && "editor" === t[1]),
              lastSeen: null === (r = n.find((t) => t[0] === e && "editor" === t[1])) || void 0 === r ? void 0 : r[2]
            },
            llamaMac: {
              completed: t.some((t) => t[0] === e && "llamaMac" === t[1]),
              lastSeen: null === (o = n.find((t) => t[0] === e && "llamaMac" === t[1])) || void 0 === o ? void 0 : o[2]
            },
            llamaWin: {
              completed: t.some((t) => t[0] === e && "llamaWin" === t[1]),
              lastSeen: null === (a = n.find((t) => t[0] === e && "llamaWin" === t[1])) || void 0 === a ? void 0 : a[2]
            }
          };
        }
        (e.emptyClientStep = { completed: !1, lastSeen: void 0 }),
          (function (e) {
            function t(e) {
              return (t) => e(t.extension) || e(t.editor) || e(t.llamaMac) || e(t.llamaWin);
            }
            (e.anyClient = t), (e.anyClientCompleted = t((e) => e.completed));
          })((f = e.Step || (e.Step = {}))),
          (e.emptyStep = {
            extension: e.emptyClientStep,
            llamaMac: e.emptyClientStep,
            llamaWin: e.emptyClientStep,
            editor: e.emptyClientStep
          }),
          (e.codec = new s.Dy(
            "UpstreamOnboarding",
            (e) => h.is(e),
            (e, t) =>
              (0, a.zG)(
                h.validate(e, t),
                i.map((e) => {
                  const t = (0, a.zG)(e.completed || [], o.UI(x), o.oA),
                    n = (0, a.zG)(e.lastSeen || [], o.UI(y), o.oA);
                  return {
                    initial: b("initial", t, n),
                    initialBTS: b("initialBTS", t, n),
                    prompts: b("prompts", t, n),
                    review: b("review", t, n),
                    rewrite: b("rewrite", t, n),
                    knowledgeHub: b("knowledgeHub", t, n),
                    references: b("references", t, n),
                    history: b("history", t, n)
                  };
                })
              ),
            (e) => ({
              completed: (0, a.zG)(
                Object.entries(e),
                o.tS(([e, t]) =>
                  (function (e, t) {
                    return (0, a.zG)(
                      Object.entries(t),
                      o.tS(([t, n]) => (n.completed ? [l(e, t)] : []))
                    );
                  })(e, t)
                )
              ),
              lastSeen: (0, a.zG)(
                Object.entries(e),
                o.tS(([e, t]) =>
                  (function (e, t) {
                    return (0, a.zG)(
                      Object.entries(t),
                      o.tS(([t, n]) => (n.lastSeen ? [c(e, t, n.lastSeen)] : []))
                    );
                  })(e, t)
                )
              )
            })
          )),
          (e.decode = function (t) {
            return (0, a.zG)(
              decodeURIComponent(t),
              (n) => {
                try {
                  const t = JSON.parse(n);
                  return e.codec.decode(t);
                } catch (e) {
                  return i.left(`Cannot decode raw onboarding state: ${t}.`);
                }
              },
              i.getOrElse(() => e.State.empty)
            );
          }),
          (e.encode = function (t) {
            return encodeURIComponent(JSON.stringify(e.codec.encode(t)));
          }),
          (function (t) {
            (t.empty = {
              initial: e.emptyStep,
              initialBTS: e.emptyStep,
              prompts: e.emptyStep,
              review: e.emptyStep,
              rewrite: e.emptyStep,
              knowledgeHub: e.emptyStep,
              references: e.emptyStep,
              history: e.emptyStep
            }),
              (t.toClientState = function (e, t) {
                return {
                  initial: e.initial[t],
                  initialBTS: e.initialBTS[t],
                  prompts: e.prompts[t],
                  review: e.review[t],
                  rewrite: e.rewrite[t],
                  knowledgeHub: e.knowledgeHub[t],
                  references: e.references[t],
                  history: e.history[t]
                };
              }),
              (t.patch = function (e, t) {
                return (n) => ({
                  initial: Object.assign(Object.assign({}, n.initial), { [t]: e.initial }),
                  initialBTS: Object.assign(Object.assign({}, n.initialBTS), { [t]: e.initialBTS }),
                  prompts: Object.assign(Object.assign({}, n.prompts), { [t]: e.prompts }),
                  review: Object.assign(Object.assign({}, n.review), { [t]: e.review }),
                  rewrite: Object.assign(Object.assign({}, n.rewrite), { [t]: e.rewrite }),
                  knowledgeHub: Object.assign(Object.assign({}, n.knowledgeHub), { [t]: e.knowledgeHub }),
                  references: Object.assign(Object.assign({}, n.references), { [t]: e.references }),
                  history: Object.assign(Object.assign({}, n.history), { [t]: e.history })
                });
              });
          })((g = e.State || (e.State = {}))),
          (function (t) {
            t.empty = {
              initial: e.emptyClientStep,
              initialBTS: e.emptyClientStep,
              prompts: e.emptyClientStep,
              review: e.emptyClientStep,
              rewrite: e.emptyClientStep,
              knowledgeHub: e.emptyClientStep,
              references: e.emptyClientStep,
              history: e.emptyClientStep
            };
          })((v = e.ClientState || (e.ClientState = {})));
      })(l || (l = {}));
    },
    66768: (e, t, n) => {
      n.d(t, { T: () => Se });
      var i = n(27378),
        r = n(90845),
        o = n(2834),
        a = n(98403),
        s = n(23239),
        l = n(34217),
        c = n(12968),
        u = n(45174),
        d = n(13578),
        m = n(9546),
        p = n(89894),
        h = n(93986),
        f = n(31956),
        g = n(31278),
        v = n(94689);
      const x = ({ name: e, style: t, onClick: n }) =>
          i.createElement(
            h.z,
            { variant: "tertiary", style: [y, t], onClick: n, compact: !0, size: "medium", theme: "light", name: e },
            i.createElement(g.JO.Close, null)
          ),
        y = { icon: Object.assign(Object.assign({}, (0, v.fx)(1.5)), { stroke: d.Il.Background.Neutral.Default }) };
      var b = n(24435),
        k = n(50901),
        w = n(51478),
        C = n(88392),
        S = n(54001);
      const E = ({ className: e }) => i.createElement("span", Object.assign({}, (0, S.Sh)(_, e)), "New"),
        _ = p.ux.style({
          color: d.S5.Content.OnPrimary.Default,
          fontWeight: 700,
          fontSize: p.ux.rem(0.75),
          lineHeight: p.ux.rem(1),
          justifyContent: "center",
          alignItems: "center",
          background: "linear-gradient(226.37deg, #BBD86D 0%, #41D9B5 100%)",
          borderRadius: p.ux.rem(C.HP),
          padding: `${p.ux.rem(m.yC)} ${p.ux.rem(m.x)}`,
          textTransform: "uppercase",
          width: "fit-content",
          cursor: "default"
        });
      var I = n(37869),
        A = n(62172),
        B = n(40);
      const R = i.forwardRef(function ({ placement: e, style: t, arrowColor: n }, r) {
        return i.createElement(
          "div",
          { ref: r, style: { width: 33 } },
          i.createElement(
            "svg",
            {
              width: 33,
              height: 12,
              viewBox: "0 0 33 12.5",
              fill: "none",
              xmlns: "http://www.w3.org/2000/svg",
              style: Object.assign(
                Object.assign(Object.assign({ position: "absolute" }, t), {
                  transform: `${(null == t ? void 0 : t.transform) || ""} rotate(${O(e)}deg)`.trimStart()
                }),
                U(e)
              )
            },
            i.createElement("path", {
              d: "M0.5 3.41877e-07C3.5 3.41877e-07 29.5 3.41877e-07 32.5 3.41877e-07C28.5 3.41877e-07 26.4111 0.903505 24.1814 3.69994L17.5562 11.4728C16.957 12.1757 15.8652 12.1757 15.2661 11.4728L8.64084 3.69994C6.41113 0.903505 4.5 3.41877e-07 0.5 3.41877e-07Z",
              fill: n || "white"
            })
          )
        );
      });
      function O(e) {
        return (null == e ? void 0 : e.startsWith("right"))
          ? 90
          : (null == e ? void 0 : e.startsWith("bottom"))
          ? 180
          : (null == e ? void 0 : e.startsWith("left"))
          ? 270
          : 0;
      }
      function U(e) {
        return (null == e ? void 0 : e.startsWith("bottom"))
          ? { top: -12 }
          : (null == e ? void 0 : e.startsWith("top"))
          ? { bottom: -12 }
          : (null == e ? void 0 : e.startsWith("right"))
          ? { transformOrigin: "top left", top: -16.5, left: 0 }
          : (null == e ? void 0 : e.startsWith("left"))
          ? { transformOrigin: "top right", top: -16.5, right: 0 }
          : {};
      }
      const T = (0, S.xb)(({ reference: e, placement: t, offset: n, boundaryAreaPadding: r, className: o, arrowColor: a, children: s }) => {
          const [l, c] = i.useState(null),
            [u, d] = i.useState(null),
            m = (0, B.s)(),
            {
              styles: p,
              attributes: h,
              state: f
            } = (0, I.D)(e, l, {
              placement: t,
              modifiers: [
                { name: "offset", options: { offset: [0, 12 + (null != n ? n : 0)] } },
                { name: "arrow", options: { element: u, padding: 12 } },
                { name: "preventOverflow", options: { padding: null != r ? r : 5 } },
                m
              ]
            });
          return i.createElement(
            "div",
            Object.assign({ dir: "ltr", ref: c, style: p.popper }, h.popper, (0, S.Sh)(M, o)),
            i.createElement(R, { ref: d, style: p.arrow, placement: null == f ? void 0 : f.placement, arrowColor: a }),
            s
          );
        }),
        N = (e) => p.ux.color(A.BlueGray40).toRGBA().fade(e).toString(),
        M = p.ux.style({
          filter: `drop-shadow(0px 0px 0.5px ${A.BlueGray40}) drop-shadow(0px 0px 2px ${N(0.5)}) drop-shadow(0px 1px 6px ${N(0.25)})`,
          borderRadius: p.ux.rem(C.xB + C.fe)
        }),
        F = p.ux.rem(C.xB + C.fe),
        j = { width: p.ux.rem(25.875), background: d.Il.Background.Base.Default },
        P = {
          display: "flex",
          flexDirection: "column",
          gap: p.ux.rem(m.F2),
          padding: `${p.ux.rem(m.mh)} ${p.ux.rem(m.x0)} ${p.ux.rem(m.sD)} ${p.ux.rem(m.sD)}`,
          color: d.Il.Text.Base.Default
        },
        z = {
          display: "flex",
          flexDirection: "row",
          alignItems: "center",
          gap: p.ux.rem(m.x),
          fontWeight: "bold",
          fontSize: p.ux.rem(1),
          lineHeight: p.ux.rem(1.5)
        },
        G = { fontSize: p.ux.rem(0.875), lineHeight: p.ux.rem(1.375) },
        L = {
          display: "flex",
          flexDirection: "row",
          alignItems: "center",
          justifyContent: "space-between",
          borderBottomLeftRadius: F,
          borderBottomRightRadius: F,
          padding: `${p.ux.rem(m.qp)} ${p.ux.rem(m.sD)} ${p.ux.rem(m.qp)} ${p.ux.rem(m.sD)}`,
          backgroundColor: d.Il.Background.Base.Subdued,
          color: d.Il.Text.Base.Subdued,
          fontSize: p.ux.rem(0.875),
          lineHeight: p.ux.rem(1.3125),
          $nest: { a: { color: "inherit" } }
        },
        Z = { width: p.ux.rem(14), lineHeight: p.ux.rem(1), fontSize: p.ux.rem(0.75) },
        D = p.ux.style(j),
        H = p.ux.style(P),
        V = p.ux.style(z),
        $ = p.ux.style(G),
        K = p.ux.style(L),
        W = p.ux.style(Z),
        q = p.ux.style({ display: "flex", flexDirection: "row", alignItems: "flex-end" }),
        Q = p.ux.style({ display: "inline", fontWeight: 600 }),
        Y = (e = k.T.StepName.initial) =>
          l.UI.Grid.make(({ slots: t, view: n, notify: r }) => {
            const { onMount: a } = (0, b.F)(o.b((t) => r({ kind: w.l.Kind.mount, step: e, element: t })()));
            return i.createElement(
              T,
              {
                className: D,
                reference: n("reference"),
                placement: n("placement"),
                offset: n("offset"),
                boundaryAreaPadding: n("boundaryAreaPadding"),
                arrowColor: d.Il.Background.Base.Subdued
              },
              i.createElement("div", { ref: a }, t.content),
              i.createElement(
                "div",
                { className: K },
                i.createElement("div", { className: W }, t.footerText),
                i.createElement(
                  "div",
                  { className: q },
                  i.createElement(
                    h.z,
                    { variant: "tertiary", onClick: r({ kind: w.l.Kind.close, step: e }), style: te, name: "skip" },
                    "Skip"
                  ),
                  i.createElement(h.z, { onClick: r({ kind: w.l.Kind.tryItOut, step: e }), style: ne, name: "tryItOut" }, "Try it out")
                )
              )
            );
          }),
        X = l.UI.Node.make(({ notify: e }) =>
          i.createElement(
            i.Fragment,
            null,
            i.createElement(x, { style: ie, onClick: e({ kind: w.l.Kind.close, step: k.T.StepName.initial }), name: "onboardingClose" }),
            i.createElement(
              "div",
              { className: H },
              i.createElement(E, null),
              i.createElement("div", { className: V }, i.createElement("div", null, "Write faster with generative AI")),
              i.createElement("div", { className: $ }, "Brainstorm, write, and rewrite with generative AI assistance at your fingertips.")
            )
          )
        ),
        J = l.UI.Node.make(() =>
          i.createElement(
            i.Fragment,
            null,
            "If you use Grammarly's generative AI services,",
            " ",
            i.createElement(f.d, { href: "https://grammarly.com/terms", className: Q }, "additional terms"),
            " ",
            "apply."
          )
        ),
        ee = l.UI.Knot.make(Y(), { content: X, footerText: J }),
        te = { default: { marginRight: p.ux.rem(0.5), fontSize: p.ux.rem(0.875) } },
        ne = { default: { fontSize: p.ux.rem(0.875), fontWeight: "bold" } },
        ie = { default: { position: "absolute", top: p.ux.rem(m.x), right: p.ux.rem(m.x) } },
        re = l.UI.Node.make(({ notify: e }) =>
          i.createElement(
            i.Fragment,
            null,
            i.createElement(x, { style: ae, onClick: e({ kind: w.l.Kind.close, step: k.T.StepName.initialBTS }), name: "onboardingClose" }),
            i.createElement(
              "div",
              { className: H },
              i.createElement(E, null),
              i.createElement("div", { className: V }, i.createElement("div", null, "Write better papers faster (for free!)")),
              i.createElement(
                "div",
                { className: $ },
                "Start with a brainstorm, then get instant feedback, revisions, and citations to ace your assignment."
              )
            )
          )
        ),
        oe = l.UI.Knot.make(Y(k.T.StepName.initialBTS), { content: re, footerText: l.UI.Node.empty }),
        ae = { default: { position: "absolute", top: p.ux.rem(m.x), right: p.ux.rem(m.x) } };
      var se = n(57050),
        le = n(41398),
        ce = n(77176),
        ue = n(2844),
        de = n(45578),
        me = n(27995),
        pe = n(79378);
      function he(e) {
        switch (e) {
          case k.T.StepName.knowledgeHub:
            return p.ux.rem(16);
          case k.T.StepName.references:
            return p.ux.rem(17.8);
          default:
            return p.ux.rem(13.75);
        }
      }
      const fe = (0, S.xb)(({ reference: e, placement: t, offset: n, boundaryAreaPadding: r, children: o, name: a }) => {
          const s = i.useContext(u.N).view("flatUI");
          return i.createElement(
            me.J,
            {
              reference: e,
              placement: t,
              offset: n,
              boundaryAreaPadding: r,
              theme: s.view((e) => ({
                bgColor: e ? pe.Z.PopoverBackgroundBaseSubdued : A.Green80,
                fgColor: d.Il.Text.Base.Inverse,
                padding: p.ux.rem(m.mh),
                width: he(a)
              }))
            },
            o
          );
        }),
        ge = {
          [k.T.StepName.prompts]: {
            title: "Start with a prompt",
            description: (e) =>
              e
                ? `Choose a suggested prompt, or type your own to get started. Youll get ${Number(e).toLocaleString()} each month.`
                : "Choose a suggested prompt, or type your own to get started."
          },
          [k.T.StepName.review]: {
            title: "How does this sound?",
            description: "Adjust it to your liking with additional prompts. Dont forget to check for any inaccuracies. "
          },
          [k.T.StepName.rewrite]: { title: "Want help rewriting?", description: "Select your text to rewrite it with GrammarlyGO." },
          [k.T.StepName.knowledgeHub]: {
            title: "Using organizational language?",
            description:
              "Prompt GrammarlyGO using terms and project names from Knowledge Share to automatically insert organizational context."
          },
          [k.T.StepName.references]: {
            title: "GrammarlyGO now incorporates your organizational knowledge",
            description:
              "Review the references for accuracy and relevance and regenerate the response without any references that seem irrelevant or outdated."
          },
          [k.T.StepName.history]: { title: "Return to recent history", description: "Pick up where you left off with your latest prompts." }
        },
        ve = l.UI.Node.make(({ state: e, view: t, notify: n }) => {
          const { onMount: r } = (0, b.F)(
              (0, se.ls)(
                le.M(t("name")),
                ce.U(([e, t]) => ({ element: e, stepName: t })),
                o.b(({ element: e, stepName: t }) => n({ kind: w.l.Kind.mount, step: t, element: e })())
              )
            ),
            a = i.useContext(u.N).view("flatUI");
          return i.createElement(
            fe,
            {
              name: t("name"),
              reference: t("reference"),
              placement: t("placement"),
              offset: t("offset"),
              boundaryAreaPadding: t("boundaryAreaPadding")
            },
            ue
              .aj([e, a])
              .pipe(
                ce.U(([e, t]) =>
                  i.createElement(
                    i.Fragment,
                    null,
                    i.createElement(de.x, { style: ke, onClick: n({ kind: w.l.Kind.close, step: e.name }), name: "tooltipClose" }),
                    i.createElement("div", { className: ye(t) }, ge[e.name].title),
                    i.createElement(
                      "div",
                      { ref: r, className: be(t) },
                      e.name === k.T.StepName.prompts ? ge[e.name].description(e.promptsAllocated) : ge[e.name].description
                    )
                  )
                )
              )
          );
        }),
        xe = l.UI.Union.asOption(ve),
        ye = (e) => p.ux.style({ fontWeight: 700, color: e ? d.Il.Text.Base.Inverse : void 0 }),
        be = (e) => p.ux.style({ color: e ? d.Il.Border.Base.Subdued : void 0 }),
        ke = { default: { position: "absolute", top: p.ux.rem(m.x), right: p.ux.rem(m.x) } },
        we = l.UI.Union.make("kind", { none: l.UI.Node.empty, initial: ee, initialBTS: oe, tooltip: xe }),
        Ce = l.UI.Grid.make(({ slots: e, view: t }) => {
          const n = i.useMemo(() => s.h.create(c.u), []);
          return r.P.useSubscriptionTo(t("theme").pipe(o.b(a.wW(n)))), i.createElement(u.N.Provider, { value: n }, e.onboarding);
        }),
        Se = l.UI.Knot.make(Ce, { onboarding: we });
    },
    82471: (e, t, n) => {
      n.d(t, { A: () => x });
      var i = n(5114),
        r = n(57050),
        o = n(76974),
        a = n(22232),
        s = n(34217),
        l = n(50901),
        c = n(60797);
      const u = (e) => s.Z.fromSideEffect((t) => e.notify(t), e.activeStep.pipe(c.oA)),
        d = (e) => {
          const t = u(e);
          return s.Z.composeKnot({ root: t, content: t, footerText: t });
        },
        m = (e) => {
          const t = u(e);
          return s.Z.composeKnot({ root: t, content: t, footerText: t });
        };
      var p = n(77176),
        h = n(85985),
        f = n(41398),
        g = n(71660);
      function v(e) {
        return s.Z.composeOption(
          (function (e) {
            return s.Z.fromSideEffect(
              (t) => e.notify(t),
              e.activeStep.pipe(
                c.oA,
                h.h(g.X.isTooltipOnboardingStep),
                f.M(e.promptsAllocated.pipe(p.U(i.toUndefined))),
                p.U(([e, t]) => Object.assign(Object.assign({}, e), { promptsAllocated: t }))
              )
            );
          })(e),
          () => e.activeStep.pipe(p.U(i.filter(g.X.isTooltipOnboardingStep)))
        );
      }
      function x(e) {
        return s.Z.composeKnot({
          root: () => e.theme.theme.view((e) => ({ theme: e })),
          onboarding: s.Z.composeUnion(
            { none: () => o.of(null), initial: d(e.onboarding), initialBTS: m(e.onboarding), tooltip: v(e.onboarding) },
            () => e.onboarding.activeStep.view(y).view((e) => ({ kind: e }))
          )
        });
      }
      function y(e) {
        return (0, r.zG)(
          e,
          i.filter((e) => e.show),
          i.fold(
            () => "none",
            (e) => {
              switch (e.name) {
                case l.T.StepName.initial:
                  return "initial";
                case l.T.StepName.initialBTS:
                  return "initialBTS";
                case l.T.StepName.prompts:
                case l.T.StepName.review:
                case l.T.StepName.rewrite:
                case l.T.StepName.knowledgeHub:
                case l.T.StepName.references:
                case l.T.StepName.history:
                  return "tooltip";
                default:
                  return (0, a.L0)(e.name);
              }
            }
          )
        );
      }
    },
    44848: (e, t, n) => {
      n.d(t, { Q: () => P });
      var i,
        r = n(5114),
        o = n(14601),
        a = n(85985),
        s = n(23239),
        l = n(83289),
        c = n(12968),
        u = n(52528),
        d = n(64015),
        m = n(57050),
        p = n(93508),
        h = n(16118),
        f = n(77176),
        g = n(60797),
        v = n(41398),
        x = n(66310),
        y = n(80544),
        b = n(79692),
        k = n(2834),
        w = n(24209),
        C = n(67434),
        S = n(17343),
        E = n(40151),
        _ = n(8125),
        I = n(22232),
        A = n(83078),
        B = n(14047),
        R = n(7903),
        O = n(69693),
        U = n(50901),
        T = n(51478);
      function N(e, t, n, i, r = 1e3) {
        return e.pipe(
          a.h(T.l.is(T.l.Kind.mount)),
          a.h((e) => n(e.step)),
          x.w(({ step: e }) =>
            t.pipe(
              f.U(A.FX(e)),
              x.w((e) => (e ? i.pipe(S.h(Date.now())) : E.E)),
              a.h((e) => Date.now() - e >= r),
              S.h(e)
            )
          )
        );
      }
      !(function (e) {
        (e.completeInitialOrRewriteStepOnSessionInit = ({ session: e, stepsSeenOnThisSession: t }) =>
          e.pipe(
            p.O(r.none),
            h.G(),
            f.U(([e, t]) => (r.isNone(e) && r.isSome(t) ? r.some(t) : r.none)),
            g.oA,
            v.M(t),
            x.w(([e, t]) =>
              (0, m.zG)(
                [
                  t.has(U.T.StepName.initial) ? r.some(U.T.StepName.initial) : r.none,
                  t.has(U.T.StepName.initialBTS) ? r.some(U.T.StepName.initialBTS) : r.none,
                  O.w.isRewriteOrQuickRewrite(e.value.mode) ? r.some(U.T.StepName.rewrite) : r.none
                ],
                d.oA
              )
            )
          )),
          (e.completeReviewStepOnSecondResultReceived = ({ session: e, activeStep: t }) =>
            e.pipe(
              f.U(
                (0, m.ls)(
                  r.chain(R.z.toStarted),
                  r.fold(
                    () => 0,
                    (e) => e.results.length
                  )
                )
              ),
              h.G(),
              a.h(([e, t]) => 1 === e && 2 === t),
              v.M(t),
              f.U(([e, t]) =>
                (0, m.zG)(
                  t,
                  r.filter((e) => e === U.T.StepName.review)
                )
              ),
              g.oA
            )),
          (e.completeActiveAssistantStepOnSessionEnd = ({ session: e, activeStep: t, visibleForMs: n, onboardingUIActions: i }) =>
            N(
              i,
              t.pipe(y.QV(b.E)),
              U.T.StepName.isAssistantOnboardingStep,
              e.pipe(
                h.G(),
                a.h(([e, t]) => r.isSome(e) && r.isNone(t))
              ),
              n
            )),
          (e.completeStepOnCloseClick = ({ onboardingUIActions: e, trackingService: t }) =>
            e.pipe(
              a.h(T.l.is(T.l.Kind.close)),
              f.U(
                (e) => (
                  e.step === U.T.StepName.initial && t.trackOnboardingPopupSkip(),
                  e.step === U.T.StepName.initialBTS && t.trackBTSOnboardingPopupSkip(),
                  e.step
                )
              )
            )),
          (e.completeInitialStepOnTryItOutClick = ({ onboardingUIActions: e, trackingService: t }) =>
            e.pipe(
              a.h(T.l.is(T.l.Kind.tryItOut)),
              f.U(
                (e) => (
                  e.step === U.T.StepName.initial && t.trackOnboardingPopupNext(),
                  e.step === U.T.StepName.initialBTS && t.trackBTSOnboardingPopupNext(),
                  e.step
                )
              )
            )),
          (e.completeReviewStepOnResultInteraction = ({ assistantUIActions: e }) =>
            e.pipe(
              a.h(l.i.isResultAction),
              a.h((e) => B.x.isStandardCompletedResult(e.result)),
              f.U(() => U.T.StepName.review)
            )),
          (e.completeHistoryStepOnHistoryRestore = ({ assistantUIActions: e }) =>
            e.pipe(
              a.h(l.i.is(l.i.Kind.restoreHistoryButtonClick)),
              f.U(() => U.T.StepName.history)
            )),
          (e.completeAssistantStepsOnUserActions = ({ assistantUIActions: e, activeStep: t }) =>
            e.pipe(
              a.h(
                (0, _.Kg)(
                  l.i.is(l.i.Kind.actionBrickClick),
                  l.i.is(l.i.Kind.promptSubmitButtonClick),
                  l.i.is(l.i.Kind.promptFieldKeyPressEnter),
                  l.i.is(l.i.Kind.headerVoiceButtonClick),
                  l.i.is(l.i.Kind.setVoiceButtonClick),
                  l.i.is(l.i.Kind.openFeedbackFormButtonClick)
                )
              ),
              v.M(t),
              f.U(([e, t]) => (0, m.zG)(t, r.filter(U.T.StepName.isAssistantOnboardingStep))),
              g.oA
            )),
          (e.completeInitialStepOnDispose = ({ onboardingUIActions: e, activeStep: t, disposed: n, visibleForMs: i }) =>
            N(e, t, (e) => e === U.T.StepName.initial || e === U.T.StepName.initialBTS, n, i));
        const t = (e) => (t) => (n) =>
          t(n).pipe(
            k.b((t) => {
              var i;
              return null === (i = n.logger) || void 0 === i ? void 0 : i.debug(`${e} - step to complete: ${t}`);
            })
          );
        function n(e) {
          return e.pipe(
            C.R((e, t) => ({ seen: new Set(e.seen).add(t), step: e.seen.has(t) ? r.none : r.some(t) }), { seen: new Set(), step: r.none }),
            f.U((e) => e.step),
            g.oA
          );
        }
        (e.defaultCompletionSources = [
          t("session init")(e.completeInitialOrRewriteStepOnSessionInit),
          t("second result received")(e.completeReviewStepOnSecondResultReceived),
          t("session end")(e.completeActiveAssistantStepOnSessionEnd),
          t("user closed step")(e.completeStepOnCloseClick),
          t("user clicked try-it-out")(e.completeInitialStepOnTryItOutClick),
          t("user interacted with results")(e.completeReviewStepOnResultInteraction),
          t("user interacted with assistant")(e.completeAssistantStepsOnUserActions),
          t("user restored history")(e.completeHistoryStepOnHistoryRestore),
          t("feature disposed")(e.completeInitialStepOnDispose)
        ]),
          (e.extractStepsToComplete = function (e, t) {
            return w.T(...e.map((e) => e(t))).pipe(n);
          });
      })(i || (i = {}));
      var M = n(71660),
        F = function (e, t) {
          var n = {};
          for (var i in e) Object.prototype.hasOwnProperty.call(e, i) && t.indexOf(i) < 0 && (n[i] = e[i]);
          if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
            var r = 0;
            for (i = Object.getOwnPropertySymbols(e); r < i.length; r++)
              t.indexOf(i[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, i[r]) && (n[i[r]] = e[i[r]]);
          }
          return n;
        };
      class j extends M.o {
        constructor(e, t) {
          super(e), (this._onDispose = t);
        }
        dispose() {
          super.dispose(), this._onDispose();
        }
      }
      function P(e) {
        var {
            assistantUIActions: t,
            trackingService: n,
            completeOnboardingStep: d,
            stepCompletionSources: m,
            disposed: p,
            theme: h,
            logger: f
          } = e,
          g = F(e, [
            "assistantUIActions",
            "trackingService",
            "completeOnboardingStep",
            "stepCompletionSources",
            "disposed",
            "theme",
            "logger"
          ]);
        const v = new o.w(),
          x = new j(
            Object.assign(Object.assign({}, g), {
              assistantMountActions: t.pipe(a.h(l.i.is(l.i.Kind.mount))),
              assistantUnmountActions: t.pipe(a.h(l.i.is(l.i.Kind.unmount)))
            }),
            () => v.unsubscribe()
          );
        return (
          v.add(
            i
              .extractStepsToComplete(null != m ? m : i.defaultCompletionSources, {
                onboardingUIActions: x.uiActions,
                assistantUIActions: t,
                activeStep: x.activeStep.view(r.map((e) => e.name)),
                stepsSeenOnThisSession: x.stepsSeenOnThisSession,
                session: g.session,
                trackingService: n,
                disposed: p,
                logger: f
              })
              .subscribe((e) => {
                d(e);
              })
          ),
          v.add(
            (function (e, t) {
              return e.pipe(
                a.h(T.l.is(T.l.Kind.mount)),
                k.b((e) => {
                  switch (e.step) {
                    case U.T.StepName.initial:
                      return t.trackOnboardingPopupView();
                    case U.T.StepName.initialBTS:
                      return t.trackBTSOnboardingPopupView();
                    case U.T.StepName.prompts:
                      return t.trackOnboardingPromptsTooltipView();
                    case U.T.StepName.review:
                      return t.trackOnboardingReviewTooltipView();
                    case U.T.StepName.rewrite:
                      return t.trackOnboardingRewriteTooltipView();
                    case U.T.StepName.knowledgeHub:
                      return t.trackOnboardingKnowledgeHubTooltipView();
                    case U.T.StepName.references:
                      return t.trackOnboardingReferencesTooltipView();
                    case U.T.StepName.history:
                      return t.trackOnboardingHistoryTooltipView();
                    default:
                      return (0, I.L0)(e.step);
                  }
                })
              );
            })(x.uiActions, n).subscribe()
          ),
          { onboarding: x, theme: new u.e(null != h ? h : s.h.create(c.u)) }
        );
      }
    },
    71660: (e, t, n) => {
      n.d(t, { X: () => i, o: () => C });
      var i,
        r = n(5114),
        o = n(57050),
        a = n(14601),
        s = n(32952),
        l = n(98403),
        c = n(60797),
        u = n(77176),
        d = n(93508),
        m = n(16118),
        p = n(85985),
        h = n(2844),
        f = n(28043),
        g = n(41398),
        v = n(67434),
        x = n(22232),
        y = n(23239),
        b = n(99877),
        k = n(50901),
        w = n(12422);
      !(function (e) {
        e.isTooltipOnboardingStep = function (e) {
          return k.T.StepName.isTooltipOnboardingStep(e.name);
        };
      })(i || (i = {}));
      class C {
        constructor(e) {
          var t, n, i, v, C, _;
          (this._params = e),
            (this._subs = new a.w()),
            (this._assistantElements = y.h.create({})),
            (this._externalElements = y.h.create({})),
            (this._hideAssistantTooltips = y.h.create(!1)),
            (this._nextCandidateStep = y.h.create(r.none)),
            (this.stepsSeenOnThisSession = y.h.create(new Set())),
            (this._uiActions = new s.xQ()),
            (this.uiActions = this._uiActions.asObservable()),
            (this.activeStep = y.h.combine(
              this._nextCandidateStep,
              this._assistantElements,
              this._externalElements,
              this._hideAssistantTooltips,
              (e, t, n, i) =>
                (0, o.zG)(
                  e,
                  r.chain((e) =>
                    (function (e, t, n, i) {
                      switch (e) {
                        case k.T.StepName.initial:
                          return (0, o.zG)(
                            r.fromNullable(n[b.n.initialPopupAnchor]),
                            r.map((e) => ({
                              name: k.T.StepName.initial,
                              reference: e.reference,
                              placement: e.placement,
                              offset: e.offset,
                              boundaryAreaPadding: e.boundaryAreaPadding,
                              show: !0
                            }))
                          );
                        case k.T.StepName.initialBTS:
                          return (0, o.zG)(
                            r.fromNullable(n[b.n.initialBTSPopupAnchor]),
                            r.map((e) => ({
                              name: k.T.StepName.initialBTS,
                              reference: e.reference,
                              placement: e.placement,
                              offset: e.offset,
                              boundaryAreaPadding: e.boundaryAreaPadding,
                              show: !0
                            }))
                          );
                        case k.T.StepName.rewrite:
                          return (0, o.zG)(
                            r.fromNullable(n[b.n.rewriteTooltipAnchor]),
                            r.map((e) => ({
                              name: k.T.StepName.rewrite,
                              reference: e.reference,
                              placement: e.placement,
                              offset: e.offset,
                              boundaryAreaPadding: e.boundaryAreaPadding,
                              show: !0
                            }))
                          );
                        case k.T.StepName.prompts:
                          return (0, o.zG)(
                            r.fromNullable(t[b.e.initialActionsList]),
                            r.map((e) => ({
                              name: k.T.StepName.prompts,
                              reference: e.reference,
                              placement: e.placement,
                              offset: e.offset,
                              boundaryAreaPadding: e.boundaryAreaPadding,
                              show: !i
                            }))
                          );
                        case k.T.StepName.review:
                          return (0, o.zG)(
                            r.fromNullable(t[b.e.followUpActionsList]),
                            r.map((e) => ({
                              name: k.T.StepName.review,
                              reference: e.reference,
                              placement: e.placement,
                              offset: e.offset,
                              boundaryAreaPadding: e.boundaryAreaPadding,
                              show: !i
                            }))
                          );
                        case k.T.StepName.knowledgeHub:
                          return (0, o.zG)(
                            r.fromNullable(t[b.e.promptInput]),
                            r.map((e) => ({
                              name: k.T.StepName.knowledgeHub,
                              reference: e.reference,
                              placement: e.placement,
                              offset: e.offset,
                              boundaryAreaPadding: e.boundaryAreaPadding,
                              show: !i
                            }))
                          );
                        case k.T.StepName.references:
                          return (0, o.zG)(
                            r.fromNullable(t[b.e.referencesList]),
                            r.map((e) => ({
                              name: k.T.StepName.references,
                              reference: e.reference,
                              placement: e.placement,
                              offset: e.offset,
                              boundaryAreaPadding: e.boundaryAreaPadding,
                              show: !i
                            }))
                          );
                        case k.T.StepName.history:
                          return (0, o.zG)(
                            r.fromNullable(t[b.e.historyButton]),
                            r.map((e) => ({
                              name: k.T.StepName.history,
                              reference: e.reference,
                              placement: e.placement,
                              offset: e.offset,
                              boundaryAreaPadding: e.boundaryAreaPadding,
                              show: !i
                            }))
                          );
                        default:
                          return (0, x.L0)(e);
                      }
                    })(e, t, n, i)
                  )
                )
            )),
            (this.promptsAllocated = this._params.promptsAllocated),
            this._subs.add(
              ((t = this.activeStep),
              (n = this._params.upstreamOnboardingState),
              (i = this._params.session),
              (v = this._params.textStats),
              (C = this._params.forceDisabledOnboardingSteps),
              (_ = this._params.client),
              h
                .aj([
                  i,
                  n,
                  v.pipe(E()),
                  i.pipe(
                    u.U(r.isSome),
                    f.x(),
                    g.M(n),
                    u.U(([e, t]) => (e ? r.some(t) : r.none))
                  )
                ])
                .pipe(
                  u.U(([e, n, i, a]) => {
                    if (r.isNone(e)) {
                      const e =
                          !(0, o.zG)(
                            t.get(),
                            r.map((e) => e.name === k.T.StepName.initial),
                            r.getOrElse(o.jv)
                          ) &&
                          !C.has(k.T.StepName.initialBTS) &&
                          !n.initialBTS[_].completed &&
                          void 0 === n.initialBTS[_].lastSeen,
                        a =
                          !C.has(k.T.StepName.initial) &&
                          !n.initial[_].completed &&
                          void 0 === n.initial[_].lastSeen &&
                          !n.initialBTS[_].completed &&
                          void 0 === n.initialBTS[_].lastSeen,
                        s =
                          !C.has(k.T.StepName.rewrite) &&
                          !n.rewrite[_].completed &&
                          (n.initial[_].completed || n.initialBTS[_].completed) &&
                          i >= 30;
                      return e
                        ? r.some(k.T.StepName.initialBTS)
                        : a
                        ? r.some(k.T.StepName.initial)
                        : s
                        ? r.some(k.T.StepName.rewrite)
                        : r.none;
                    }
                    return w.Z.Step.anyClientCompleted(n.prompts) || C.has(k.T.StepName.prompts)
                      ? w.Z.Step.anyClientCompleted(n.review) || C.has(k.T.StepName.review)
                        ? w.Z.Step.anyClientCompleted(n.history) || C.has(k.T.StepName.history) || !S(a)
                          ? w.Z.Step.anyClientCompleted(n.knowledgeHub) || C.has(k.T.StepName.knowledgeHub) || !S(a)
                            ? w.Z.Step.anyClientCompleted(n.references) || C.has(k.T.StepName.references) || !S(a)
                              ? r.none
                              : r.some(k.T.StepName.references)
                            : r.some(k.T.StepName.knowledgeHub)
                          : r.some(k.T.StepName.history)
                        : r.some(k.T.StepName.review)
                      : r.some(k.T.StepName.prompts);
                  })
                )).subscribe(l.wW(this._nextCandidateStep))
            ),
            this._subs.add(
              this._params.assistantMountActions.subscribe(({ name: e, element: t }) =>
                this._assistantElements.modify((n) =>
                  Object.assign(Object.assign({}, n), { [e]: { reference: t, placement: e === b.e.historyButton ? "bottom" : "left" } })
                )
              )
            ),
            this._subs.add(
              this._params.assistantUnmountActions.subscribe(({ name: e }) =>
                this._assistantElements.modify((t) => Object.assign(Object.assign({}, t), { [e]: void 0 }))
              )
            ),
            this._subs.add(this._params.externalElements.subscribe(l.wW(this._externalElements))),
            this._subs.add(this._params.hideAssistantOnboardingTooltips.subscribe(l.wW(this._hideAssistantTooltips))),
            this._subs.add(this.activeStep.pipe(c.oA).subscribe((e) => this.stepsSeenOnThisSession.modify((t) => new Set([...t, e.name])))),
            this._subs.add(
              this._params.session
                .pipe(
                  u.U(r.isSome),
                  d.O(!1),
                  m.G(),
                  p.h(([e, t]) => e && !t)
                )
                .subscribe(() => this._assistantElements.set({}))
            );
        }
        notify(e) {
          this._uiActions.next(e);
        }
        dispose() {
          this._subs.unsubscribe();
        }
      }
      function S(e) {
        return (0, o.zG)(
          e,
          r.fold(o.jv, ({ prompts: e, review: t }) => {
            const n = { prompts: w.Z.Step.anyClientCompleted(e), review: w.Z.Step.anyClientCompleted(t) };
            return Object.values(n).every(o.yR);
          })
        );
      }
      function E() {
        return (0, o.ls)(
          c.oA,
          u.U((e) => e.wordCount),
          d.O(0),
          m.G(),
          v.R((e, [t, n]) => (0, o.zG)(Math.abs(n - t), (t) => (t <= 2 ? e + t : e)), 0),
          d.O(0),
          f.x()
        );
      }
    },
    3299: (e, t, n) => {
      n.d(t, { s: () => i });
      var i,
        r = n(5114);
      !(function (e) {
        let t;
        !(function (e) {
          e.create = (e) => e;
        })((t = e.Id || (e.Id = {}))),
          (e.create = function (t) {
            return Object.assign(Object.assign({}, t), { id: e.Id.create(t.id), url: r.fromNullable(t.url), contextText: r.none });
          });
      })(i || (i = {}));
    },
    44608: (e, t, n) => {
      n.d(t, { v: () => be, h: () => Se });
      var i = n(64681),
        r = n(14601),
        o = n(32952),
        a = n(60797),
        s = n(85985),
        l = n(23063),
        c = n(33148),
        u = n(5114),
        d = n(13853),
        m = n(57050),
        p = n(2844),
        h = n(77176),
        f = n(2834),
        g = n(85321),
        v = n(12126),
        x = n(49143),
        y = n(91224),
        b = n(76974),
        k = n(38194),
        w = n(19751),
        C = n(66310),
        S = n(93508),
        E = n(16118),
        _ = n(24209),
        I = n(73975),
        A = n(23239),
        B = n(98370),
        R = n(2735);
      const O = I.MW({ visibleAlerts: d.Eh(I.yv), emphasizedAlerts: d.Eh(I.yv) });
      class U {
        constructor(e) {
          (this._params = e),
            (this._subs = new r.w()),
            (this._feedMounted = A.h.create(!1)),
            this._subs.add(
              (0, m.zG)(
                (function (e, t) {
                  const n = e.pipe(k.B()),
                    i = n.pipe(h.U(u.chain((e) => e.focusedItemId)), w.skipBy(u.getEq(I.yv))).pipe(C.w(() => t.pipe(S.O(null))));
                  return p.aj([n, i]).pipe(
                    h.U(([e, t]) =>
                      (0, m.zG)(
                        e,
                        u.map(({ items: e, focusedItemId: n }) => ({
                          visibleAlerts: new Set(Array.from(e.values()).flatMap((e) => e.alertIds)),
                          emphasizedAlerts: new Set(
                            null != t
                              ? t
                              : (0, m.zG)(
                                  n,
                                  u.chain((t) => {
                                    var n;
                                    return u.fromNullable(null === (n = e.get(t)) || void 0 === n ? void 0 : n.alertIds);
                                  }),
                                  u.getOrElse(() => [])
                                )
                          )
                        }))
                      )
                    ),
                    w.skipBy(u.getEq(O))
                  );
                })(
                  p.aj([this._params.feedState, this._feedMounted]).pipe(h.U(([e, t]) => (t ? e : u.none))),
                  this._params.resetEmphasizedAlerts
                ),
                T,
                f.b((e) => {
                  var t;
                  return null === (t = this._params.logger) || void 0 === t ? void 0 : t.debug("AlertVisibilityChanges", e);
                }),
                g.zg(({ changes: e, isReset: t }) =>
                  t
                    ? v.D(this._params.alertService.setAlertsVisibility(e)).pipe(
                        l.q(1),
                        x.l(),
                        y.K((t) =>
                          b.of({
                            kind: "error",
                            source: "revision",
                            name: "setAlertsVisibilityFailed",
                            data: { alertsVisibilityInfo: e, rawError: (0, R.N)(t) }
                          })
                        )
                      )
                    : v.D(this._params.alertService.updateAlertsVisibility(e)).pipe(
                        l.q(1),
                        x.l(),
                        y.K((t) =>
                          b.of({
                            kind: "error",
                            source: "revision",
                            name: "updateAlertsVisibilityFailed",
                            data: { alertsVisibilityInfo: e, rawError: (0, R.N)(t) }
                          })
                        )
                      )
                )
              ).subscribe((e) => this._params.monitoringService.notify((0, B.L)(e)))
            );
        }
        notifyFeedMount() {
          this._feedMounted.set(!0);
        }
        notifyFeedUnmount() {
          this._feedMounted.set(!1);
        }
        dispose() {
          this._subs.unsubscribe();
        }
      }
      function T(e) {
        return e.pipe(w.skipBy(u.getEq(O)), k.B(), (e) => {
          const t = e.pipe(
              s.h(u.isNone),
              h.U(() => ({ isReset: !0, changes: [] }))
            ),
            n = e.pipe(
              S.O(u.none),
              E.G(),
              s.h(([e, t]) => u.isNone(e) && u.isSome(t)),
              h.U(([e, t]) => t),
              a.oA,
              h.U((e) => ({
                isReset: !0,
                changes: (0, m.zG)(
                  Array.from(e.visibleAlerts)
                    .filter((t) => !e.emphasizedAlerts.has(t))
                    .map((e) => ({ alertId: e, visibility: "visible" }))
                    .concat(Array.from(e.emphasizedAlerts).map((e) => ({ alertId: e, visibility: "emphasized" })))
                )
              }))
            ),
            i = e.pipe(
              S.O(u.none),
              E.G(),
              s.h(([e, t]) => u.isNone(e) && u.isSome(t)),
              C.w(([t, n]) =>
                e.pipe(
                  S.O(n),
                  a.oA,
                  E.G(),
                  h.U(([e, t]) => {
                    const n = d.e5(I.yv)(d.Lf(I.yv).concat(t.visibleAlerts, t.emphasizedAlerts))(
                        d.Lf(I.yv).concat(e.visibleAlerts, e.emphasizedAlerts)
                      ),
                      i = d.e5(I.yv)(e.emphasizedAlerts)(t.emphasizedAlerts),
                      r = d.e5(I.yv)(t.emphasizedAlerts)(e.emphasizedAlerts),
                      o = d.Lf(I.yv).concat(
                        d.e5(I.yv)(e.visibleAlerts)(t.visibleAlerts),
                        (0, m.zG)(
                          r,
                          d.hX((e) => t.visibleAlerts.has(e))
                        )
                      );
                    return {
                      isReset: !1,
                      changes: [
                        ...Array.from(n).map((e) => ({ alertId: e, visibility: "hidden" })),
                        ...Array.from(o).map((e) => ({ alertId: e, visibility: "visible" })),
                        ...Array.from(i).map((e) => ({ alertId: e, visibility: "emphasized" }))
                      ]
                    };
                  })
                )
              )
            );
          return _.T(t, n, i);
        });
      }
      var N = n(98403),
        M = n(28811),
        F = n(4191),
        j = n(79880),
        P = n(26393);
      function z(e) {
        return (t) => {
          const n = (function (e) {
            for (const t of P.ab.traverse(e)) {
              if ("longFormCard" === t.type) return u.some(t.feedProperties);
              if ("assistantCard" === t.type && t.properties) return u.some(t.properties);
            }
            return u.none;
          })(t.content);
          return (
            !u.isNone(n) &&
            e.reduce(
              (e, t) =>
                !1 === e
                  ? e
                  : (0, m.zG)(
                      n,
                      u.chain((e) => u.fromNullable(e[t.property])),
                      u.fold(
                        () => t.condition === j.j2.NotEqualTo,
                        (e) => (t.condition === j.j2.EqualTo ? e === t.value : e !== t.value)
                      )
                    ),
              !0
            )
          );
        };
      }
      const G = I.f7((e, t) => e.id === t.id);
      class L {
        constructor(e) {
          (this._params = e),
            (this._subs = new r.w()),
            (this._availableFeeds = A.h.create(new Set())),
            (this.availableFeeds = this._availableFeeds.view()),
            (this.defaultFeed = this._availableFeeds
              .view((e) =>
                (0, m.zG)(
                  e,
                  d.hX((e) => e.id === F.ji.lensAllSuggestionFeed || e.id === F.ji.defaultFeed),
                  (e) => Array.from(e),
                  (e) =>
                    (0, m.zG)(
                      u.fromNullable(e.find((e) => e.id === F.ji.lensAllSuggestionFeed)),
                      u.alt(() => u.fromNullable(e.find((e) => e.id === F.ji.defaultFeed)))
                    )
                )
              )
              .pipe(
                C.w(
                  u.fold(
                    () => b.of(u.none),
                    (e) =>
                      this._params.sduiItemsCollection.view(
                        (0, m.ls)(M.a.find(z(e.content.filtering)), u.isNone, (t) => u.some({ feed: e, isEmpty: t }))
                      )
                  )
                ),
                w.shareReplay({ bufferSize: 1, refCount: !0 })
              )),
            this._subs.add(
              this._params.sduiItemsCollection
                .pipe(
                  h.U(
                    M.a.reduce(new Set(), (e, t) =>
                      (function (e) {
                        return "assistantFeed" === e.content.type;
                      })(t)
                        ? (0, m.zG)(e, d.$T(G)(t))
                        : e
                    )
                  ),
                  w.skipBy(d.Eh(G))
                )
                .subscribe(N.wW(this._availableFeeds))
            );
        }
        dispose() {
          this._subs.unsubscribe();
        }
      }
      var Z = n(95195),
        D = n(45701),
        H = n(64015),
        V = n(48044),
        $ = n(41398),
        K = n(67434),
        W = n(2768),
        q = n(83078),
        Q = n(92843),
        Y = n(22232),
        X = n(31442),
        J = n(21038),
        ee = n(63346);
      function te(e) {
        return null != e;
      }
      class ne {
        constructor(e) {
          var t;
          (this._params = e),
            (this._subs = new r.w()),
            (this._disposed = new o.xQ()),
            (this._logger = null !== (t = this._params.logger) && void 0 !== t ? t : new ee.W(ne.name)),
            (this._sduiFeedManager = new X._(this._params.sduiManagerProxy.state)),
            (this._selectedAlertId = A.h.create(null)),
            (this.feedState = this._getFeedState()),
            this._sduiFeedManagerLifecycleOnSelectedAlertIdChanged(),
            this._sduiFeedManagerLifecycleOnFeedEmpty(),
            this._sduiFeedManagerLifecycleOnFeedRemoved(),
            this._sduiFeedManagerLifecycleOnAlertsRefEmpty(),
            this._subs.add(this._params.alertService.selectedAlertId.subscribe(N.wW(this._selectedAlertId))),
            this._subs.add(this.feedState.subscribe((e) => this._logger.debug("feed state updated", e)));
        }
        _sduiFeedManagerLifecycleOnAlertsRefEmpty() {
          this._subs.add(
            this._params.sduiManagerProxy.onAlertsRefEmpty.subscribe((e) =>
              (0, m.zG)(
                this.feedState.get(),
                u.chain((e) => e.focusedItemId),
                u.filter((t) => t === e.sduiRootId),
                q.bw(() => this._processActions(e.emptyStrongAlertRef.onEmpty, e.sduiId, e.emptyStrongAlertRef.alertIds, e.sduiId))
              )
            )
          );
        }
        _sduiFeedManagerLifecycleOnSelectedAlertIdChanged() {
          this._subs.add(
            this._selectedAlertId
              .pipe(
                s.h(te),
                h.U((e) =>
                  (0, m.zG)(
                    this.feedState.get(),
                    u.chain((t) => {
                      var n;
                      return u.fromNullable(
                        null === (n = Array.from(t.items.values()).find((t) => t.alertIds.includes(J.j.AlertId.from(e)))) || void 0 === n
                          ? void 0
                          : n.id
                      );
                    })
                  )
                ),
                a.oA,
                $.M(this.feedState.view(u.chain((e) => e.focusedItemId))),
                s.h(([e, t]) => e !== u.toNullable(t))
              )
              .subscribe(([e]) => this._sduiFeedManager.focusCard(e))
          );
        }
        _sduiFeedManagerLifecycleOnFeedEmpty() {
          this._subs.add(
            this._sduiFeedManager.onFeedEmpty.subscribe((e) => {
              var t;
              "assistantFeed" === e.content.type
                ? this._processActions(null !== (t = e.content.onEmpty) && void 0 !== t ? t : [], e.id, [], e.id)
                : this._params.monitoringService.notify(
                    (0, B.L)({ kind: "warn", source: "revision", name: "sduiFeedOnEmptyDSLActionsSkipped", data: null })
                  );
            })
          );
        }
        _sduiFeedManagerLifecycleOnFeedRemoved() {
          this._subs.add(
            this._sduiFeedManager.onFeedRemove.subscribe((e) => {
              "assistantFeed" === e.content.type
                ? this._processActions(e.content.onRemove, e.id, [], e.id)
                : this._params.monitoringService.notify(
                    (0, B.L)({ kind: "warn", source: "revision", name: "sduiFeedOnRemoveDSLActionsSkipped", data: null })
                  );
            })
          );
        }
        _getFeedState() {
          const e = A.h.create(u.none);
          return (
            this._subs.add(
              this._sduiFeedManager.feed
                .pipe(
                  K.R(
                    (e, { feedId: t, feedOrd: n, cards: i, itemIdToSelect: r }) => {
                      const o = new Set(),
                        a = (0, m.zG)(
                          i,
                          Q.v.reduce(
                            e.items,
                            (e, t, n) => (o.add(n), e),
                            (e, t, n) => (0, m.zG)(e, V.ZQ(J.j.Item.Id.eq)(n.id, n)),
                            (e, t, n) => (0, m.zG)(e, V.ZQ(J.j.Item.Id.eq)(n, t))
                          )
                        ),
                        s = (0, m.zG)(
                          Array.from(a.values()),
                          H.DY(D.contramap((e) => e.content)(n)),
                          H.UI((e) => e.id)
                        ),
                        l = Array.from(o.keys()).reduce((e, t) => (0, m.zG)(e, V.EG(J.j.Item.Id.eq)(t)), a),
                        c = s.filter((e) => !o.has(e));
                      return {
                        feedId: t,
                        items: l,
                        orderedItemIds: c,
                        focusedItemId: (0, m.zG)(
                          r,
                          u.fold(
                            () =>
                              (0, m.zG)(
                                e.focusedItemId,
                                u.fold(
                                  () => (c.length > 0 && 0 === e.orderedItemIds.length ? u.some(c[0]) : u.none),
                                  (e) =>
                                    o.has(e)
                                      ? (function (e, t, n) {
                                          const i = t.findIndex((t) => t === e);
                                          if (i < 0) return u.none;
                                          for (let e = i + 1; e < t.length; ++e) if (!n.has(t[e])) return u.some(t[e]);
                                          for (let e = i - 1; e >= 0; --e) if (!n.has(t[e])) return u.some(t[e]);
                                          return u.none;
                                        })(e, s, o)
                                      : u.some(e)
                                )
                              ),
                            (0, m.ls)(
                              u.fromNullable,
                              u.fold(
                                () => u.fromNullable(c[0]),
                                (e) => (c.includes(J.j.Item.Id.from(e)) ? u.some(J.j.Item.Id.from(e)) : u.fromNullable(c[0]))
                              )
                            )
                          )
                        )
                      };
                    },
                    { feedId: J.j.Item.Id.from(""), items: new Map(), orderedItemIds: [], focusedItemId: u.none }
                  ),
                  h.U(u.some)
                )
                .subscribe(N.wW(e))
            ),
            e.view()
          );
        }
        _switchViewWithinFocusedItem(e) {
          (0, m.zG)(
            this.feedState.get(),
            u.chain((e) => e.focusedItemId),
            u.filter((t) => e.sduiRootId !== t),
            q.bw((t) => this._params.sduiManagerProxy.pushSwitchView(Object.assign(Object.assign({}, e), { sduiRootId: t })))
          );
        }
        _switchViewWithinCurrentFeed(e) {
          (0, m.zG)(
            this._sduiFeedManager.currentFeed,
            u.filter(({ feedId: t }) => e.sduiRootId !== t),
            q.bw(({ feedId: t }) => this._params.sduiManagerProxy.pushSwitchView(Object.assign(Object.assign({}, e), { sduiRootId: t })))
          );
        }
        popFeed() {
          this._sduiFeedManager.popFeed();
        }
        pushFeed(e) {
          var t;
          const n = this._selectedAlertId.get(),
            i =
              null !== (t = e.cardId) && void 0 !== t
                ? t
                : null !== n
                ? u.toUndefined(
                    (function (e, t, n) {
                      const i = (0, m.zG)(
                        e,
                        M.a.find((e) => e.id === t),
                        u.map((e) => e.content),
                        u.filter((e) => "assistantFeed" === e.type),
                        u.map((e) => e.filtering),
                        u.fold(
                          () => m.jv,
                          (e) => z(e)
                        )
                      );
                      return (0, m.zG)(
                        e,
                        M.a.find((e) => i(e) && e.alertIds.includes(J.j.AlertId.from(n))),
                        u.map((e) => e.id)
                      );
                    })(this._params.sduiManagerProxy.state.get(), e.feedId, n)
                  )
                : void 0;
          (0, m.zG)(
            this._sduiFeedManager.pushFeed(J.j.Item.Id.from(e.feedId), i),
            Z.mapLeft((t) =>
              this._params.monitoringService.notify(
                (0, B.L)({
                  kind: "error",
                  source: "revision",
                  name: "sduiPushAssistantFeedFailed",
                  data: { reason: t, feedId: e.feedId, cardId: i }
                })
              )
            )
          );
        }
        _processActions(e, t, n, i) {
          this._logger.debug("_processActions()", { actions: e, itemId: t, alertIdsInScope: n, sourceId: i }),
            e.forEach((r) => {
              var o;
              switch (r.type) {
                case "notify": {
                  const e = null !== (o = r.sourceId) && void 0 !== o ? o : i;
                  v.D(this._params.capiService.user_action({ userAction: r.userAction, componentId: e })())
                    .pipe(l.q(1), W.R(this._disposed))
                    .subscribe(m.Q1, (t) =>
                      this._params.monitoringService.notify(
                        (0, B.L)({
                          kind: "error",
                          source: "revision",
                          name: "sduiUserActionFailed",
                          data: { componentId: e, userAction: r.userAction, rawError: (0, R.N)(t) }
                        })
                      )
                    );
                  break;
                }
                case "applyAlerts": {
                  const e = n.map((e) => ({ alertId: e, alternativeIndex: r.alternativeIndex }));
                  v.D(this._params.alertService.applyAlerts(e))
                    .pipe(l.q(1), W.R(this._disposed))
                    .subscribe(m.Q1, (t) =>
                      this._params.monitoringService.notify(
                        (0, B.L)({
                          kind: "error",
                          source: "revision",
                          name: "applyAlertsFailed",
                          data: { applyAlertsInfo: e, rawError: (0, R.N)(t) }
                        })
                      )
                    );
                  break;
                }
                case "removeAlerts": {
                  const t = e.some((e) => "applyAlerts" === e.type),
                    i = n.map((e) => ({ alertId: e, removalReason: t ? "alertApplied" : "other" }));
                  v.D(this._params.alertService.removeAlerts(i))
                    .pipe(l.q(1), W.R(this._disposed))
                    .subscribe(
                      () => this._params.sduiManagerProxy.pushRemovedAlerts([n.map(J.j.AlertId.from), "removeAlerts"]),
                      (e) =>
                        this._params.monitoringService.notify(
                          (0, B.L)({
                            kind: "error",
                            source: "revision",
                            name: "removeAlertsFailed",
                            data: { removeAlertsInfo: i, rawError: (0, R.N)(e) }
                          })
                        )
                    );
                  break;
                }
                case "removeRoot":
                  this._params.sduiManagerProxy.pushRemovedRoot([t, "removeRoot"]);
                  break;
                case "pushAssistantFeed":
                  this.pushFeed({ feedId: r.feedId, cardId: r.cardId });
                  break;
                case "popAssistantFeed":
                  this._sduiFeedManager.popFeed(u.fromNullable(r.fallbackFeed));
                  break;
                case "positionedClick":
                case "focusAssistantCard":
                  this._sduiFeedManager.focusCard("focusAssistantCard" === r.type ? r.cardId : t);
                  break;
                case "prevCard":
                  (0, m.zG)(
                    this.feedState.get(),
                    u.chain((e) =>
                      (0, m.zG)(
                        e.focusedItemId,
                        u.map((t) => e.orderedItemIds.findIndex((e) => e === t)),
                        u.chain((t) => u.fromNullable(e.orderedItemIds[t - 1]))
                      )
                    ),
                    q.bw((e) => this._sduiFeedManager.focusCard(e))
                  );
                  break;
                case "nextCard":
                  (0, m.zG)(
                    this.feedState.get(),
                    u.chain((e) =>
                      (0, m.zG)(
                        e.focusedItemId,
                        u.map((t) => e.orderedItemIds.findIndex((e) => e === t)),
                        u.chain((t) => u.fromNullable(e.orderedItemIds[t + 1]))
                      )
                    ),
                    q.bw((e) => this._sduiFeedManager.focusCard(e))
                  );
                  break;
                case "switchView": {
                  const e = { where: r.where, selected: r.selected, sduiRootId: t };
                  this._params.sduiManagerProxy.pushSwitchView(e),
                    this._switchViewWithinFocusedItem(e),
                    this._switchViewWithinCurrentFeed(e);
                  break;
                }
                case "highlightAlert":
                  return this._params.setEmphasizedAlerts([n[0]]);
                case "hoverStateChanged":
                  return;
                case "hideHighlights":
                case "showHighlights":
                case "openLink":
                case "upgradeToPremium":
                case "copyToClipboard":
                case "enablePlagiarismCheck":
                case "disablePlagiarismCheck":
                case "selectAlternative":
                case "transition":
                  break;
                case "nativeOpenAssistant":
                case "openCreateSnippetModal":
                case "newRevision":
                case "interactPopover":
                case "closePopover":
                case "closeCard":
                case "openGrammarlyGo":
                case "openToneDetector":
                case "stopApplyingAlerts":
                case "openSettings":
                case "openFeedback":
                case "openLearnMore":
                  this._logger.warn("Unsupported SDUI action", r);
                  break;
                default:
                  this._logger.warn("Unsupported SDUI action", r), (0, Y.L0)(r);
              }
            });
        }
        processActions(e, t, n, i) {
          this._processActions(e, t, null != n ? n : [], null != i ? i : t);
        }
        onItemFocused(e, t) {
          this._sduiFeedManager.notifyCardFocused(e.id), t && this.processActions(t, e.id);
        }
        dispose() {
          this._disposed.next(void 0), this._subs.unsubscribe(), this._sduiFeedManager.dispose();
        }
      }
      var ie = n(44212),
        re = n(17160),
        oe = n(78929),
        ae = n(24055),
        se = n(71078),
        le = n(19125);
      class ce {
        constructor(e = new ee.W(ce.name)) {
          (this._logger = e), (this._alertIds = new Set());
        }
        hasAlert(e) {
          return this._alertIds.has(e);
        }
        processChanges(e) {
          for (const t of e)
            (0, se.BG)(t)
              ? this._alertIds.add(t.alertId)
              : (0, se.nq)(t)
              ? this._alertIds.delete(t.alertId)
              : (0, se.Jg)(t) && this._alertIds.clear();
          e.length > 0 && this._logger.debug("Alert collection change", new Set(this._alertIds));
        }
      }
      class ue {
        constructor(e) {
          var t;
          (this._params = e),
            (this._subs = new r.w()),
            (this._logger = null !== (t = this._params.logger) && void 0 !== t ? t : new ee.W(ue.name)),
            (this._sduiEvents = new o.xQ()),
            (this._alertCollection = new ce(this._params.logger)),
            (this._sduiManager = new oe.G(
              this._sduiEvents.asObservable(),
              u.fromPredicate((e) => this._alertCollection.hasAlert(e))
            )),
            (this.state = this._sduiManager.state),
            (this.onAlertsRefEmpty = this._sduiManager.onAlertsRefEmpty),
            this._subs.add(this._processAlertChanges()),
            this._subs.add(this._processInboundSDUIMessages()),
            this._subs.add(this._sduiEvents.subscribe((e) => this._logger.debug("sdui event", e)));
        }
        pushRemovedRoot(e) {
          this._sduiManager.pushRemovedRoot(e), this._sduiManager.flush();
        }
        pushRemovedAlerts([e, t]) {
          this._sduiManager.pushRemovedAlerts([e, t]);
        }
        pushSwitchView(e) {
          this._sduiManager.pushSwitchView(e);
        }
        dispose() {
          this._subs.unsubscribe(), this._sduiManager.dispose();
        }
        _processInboundSDUIMessages() {
          const e = (e) =>
            (0, m.zG)(
              e.sdui,
              P.ab.dslRootParser,
              Z.bimap(
                (t) => (
                  this._params.monitoringService.notify(
                    (0, B.L)({
                      kind: "error",
                      source: "revision",
                      name: "sduiDSLParseFailed",
                      data: { sduiRootId: e.sduiRootId, rawError: (0, R.N)(t) }
                    })
                  ),
                  t
                ),
                m.yR
              ),
              u.fromEither
            );
          return v
            .D(this._params.sduiService.sduiItemCollectionChanges)
            .pipe(
              ie.u(),
              h.U((t) =>
                (0, le.tC)(t)
                  ? (0, m.zG)(
                      t,
                      e,
                      u.map((e) => ({
                        kind: ae.e.SduiEventKind.Add,
                        sdui: e,
                        sduiRootId: ae.e.RawSduiItem.Id.create(t.sduiRootId),
                        rev: 0
                      }))
                    )
                  : (0, le.Y9)(t)
                  ? (0, m.zG)(
                      t,
                      e,
                      u.map((e) => ({
                        kind: ae.e.SduiEventKind.Update,
                        sdui: e,
                        sduiRootId: ae.e.RawSduiItem.Id.create(t.sduiRootId),
                        rev: 0
                      }))
                    )
                  : (0, le.zi)(t)
                  ? u.some({ kind: ae.e.SduiEventKind.Remove, sduiRootId: ae.e.RawSduiItem.Id.create(t.sduiRootId), rev: 0 })
                  : (0, le.H$)(t)
                  ? u.none
                  : (0, m.Rz)(t)
              ),
              a.oA
            )
            .subscribe(this._sduiEvents);
        }
        _processAlertChanges() {
          return v
            .D(this._params.alertService.alertCollectionChanges)
            .pipe(re.e(0), ie.u())
            .subscribe((e) => {
              this._alertCollection.processChanges(e);
              const t = e.reduce((e, t) => {
                var n;
                return (
                  (0, se.nq)(t) &&
                    "textChange" === t.reason &&
                    e.set("textChange", (null !== (n = e.get("textChange")) && void 0 !== n ? n : []).concat(J.j.AlertId.from(t.alertId))),
                  e
                );
              }, new Map());
              e.length > 0 &&
                (this._sduiManager.notifyAlertsChanged(),
                t.size > 0 && this._logger.debug("optimistically removing alerts", t),
                t.forEach((e, t) => this.pushRemovedAlerts([e, t])));
            });
        }
      }
      class de {
        constructor(e) {
          var t;
          (this._params = e),
            (this._subs = new r.w()),
            (this._feedForm = A.h.create(null !== (t = this._params.sduiService.initialForm) && void 0 !== t ? t : "shortForm")),
            (this._allSuggestionsEmpty = A.h.create(!0)),
            (this._someSuggestionsAddressed = A.h.create(!1)),
            (this.state = A.h.combine(
              this._feedForm,
              this._params.outcomeScores,
              this._params.feedAvailabilityService.availableFeeds,
              this._allSuggestionsEmpty,
              this._someSuggestionsAddressed,
              (e, t, n, i, r) => {
                const o = (0, m.zG)(
                  n,
                  d.UI(J.j.Item.Id.eq)((e) => e.id)
                );
                return {
                  feedForm: e,
                  supportsLongForm: o.has(J.j.Item.Id.from(F.ji.lensAllSuggestionFeed)),
                  allSuggestionsEmpty: i,
                  someSuggestionsAddressed: r,
                  lenses: (0, m.zG)(
                    [
                      F.ji.lensAllSuggestionFeed,
                      F.ji.lensCorrectnessFeed,
                      F.ji.lensClarityFeed,
                      F.ji.lensEngagementFeed,
                      F.ji.lensDeliveryFeed,
                      F.ji.lensStyleGuideFeed
                    ],
                    H.hX((e) => o.has(J.j.Item.Id.from(e))),
                    H.UI((e) => ({
                      lensId: e,
                      label: F.uM[e],
                      percent: (0, m.zG)(
                        t,
                        u.fold(
                          () => 0,
                          (t) => t[e]
                        )
                      )
                    })),
                    (e) => new Map(e.map((e) => [e.lensId, e]))
                  )
                };
              }
            )),
            this._subs.add(
              this._params.feedAvailabilityService.defaultFeed.pipe(h.U(u.fold(m.W8, (e) => e.isEmpty))).subscribe((e) => {
                this._allSuggestionsEmpty.set(e), e || this._someSuggestionsAddressed.set(!1);
              })
            );
        }
        onSuggestionAddressed() {
          this._someSuggestionsAddressed.set(!0);
        }
        onToggleLens(e) {
          (0, m.zG)(
            this._params.feedService.feedState.get(),
            u.map((e) => e.feedId),
            u.exists((t) => t === e)
          )
            ? (this._params.feedService.popFeed(), this._params.feedService.pushFeed({ feedId: F.ji.lensAllSuggestionFeed }))
            : (this._params.feedService.popFeed(), this._params.feedService.pushFeed({ feedId: e }));
        }
        onToggleFeedForm(e) {
          this._feedForm.set(e);
          const t = (0, m.zG)(
            this._params.feedAvailabilityService.availableFeeds.get(),
            d.UI(J.j.Item.Id.eq)((e) => e.id),
            (e) => e.has(J.j.Item.Id.from(F.ji.lensAllSuggestionFeed))
          );
          this._params.feedService.popFeed(),
            this._params.feedService.pushFeed({ feedId: t ? F.ji.lensAllSuggestionFeed : F.ji.defaultFeed });
        }
        dispose() {
          this._subs.unsubscribe();
        }
      }
      var me = n(17771),
        pe = n(13444),
        he = n(97425),
        fe = n(40330),
        ge = n(85682);
      function ve(e, t, n) {
        return P.ab.map(e, (e) => {
          if ("button" === e.type && e.name.value === String(j.MU.ButtonPrev)) {
            const n = t ? j.BN.Disabled : j.BN.Enabled;
            return Object.assign(Object.assign({}, e), { state: n });
          }
          if ("button" === e.type && e.name.value === String(j.MU.ButtonNext)) {
            const t = n ? j.BN.Disabled : j.BN.Enabled;
            return Object.assign(Object.assign({}, e), { state: t });
          }
          return e;
        });
      }
      function xe(e) {
        return P.ab.map(e, (e) =>
          "button" === e.type && "learn-more" === e.name.value ? Object.assign(Object.assign({}, e), { state: j.BN.Hidden }) : e
        );
      }
      class ye {
        constructor(e) {
          (this._params = e),
            (this._subs = new r.w()),
            (this._transitions = A.h.create([])),
            (this._state = A.h.create({ kind: "loadingState" })),
            (this.state = this._state.view()),
            this._subs.add(this._handleLoadedState()),
            this._subs.add(this._resetLoadingStateAfterCheckingComplete());
        }
        processActions(e, t, n, i, r) {
          !r &&
            e.find((e) => "prevCard" === e.type || "nextCard" === e.type) &&
            this._transitions.set(e.filter(fe.zx.Action.isTransitionAction)),
            this._params.feedService.processActions(e, t.id, n.alertRefs, i);
        }
        onToggleLongFormFeed() {
          this._transitions.set([]);
        }
        onFocusedItemMount(e) {
          var t;
          this._params.feedService.onItemFocused(
            e,
            null ===
              (t = u.toUndefined(
                (function (e) {
                  if ("assistantCard" === e.content.type) return u.some(e.content);
                  if ("strongAlertRef" === e.content.type && "assistantCard" === e.content.child.type) return u.some(e.content.child);
                  if ("longFormCard" === e.content.type && "assistantCard" === e.content.fullContent.type)
                    return u.some(e.content.fullContent);
                  return u.none;
                })(e)
              )) || void 0 === t
              ? void 0
              : t.onFocus
          );
        }
        onFeedMount() {
          const e = ge.q.registerFeedUnmountHandler(() => {
            ge.q.unregisterFeedUnmountHandler(e), this._params.alertVisibilityManager.notifyFeedUnmount();
          });
          this._params.alertVisibilityManager.notifyFeedMount();
        }
        onAnimationEnd() {
          this._transitions.set([]);
        }
        dispose() {
          this._subs.unsubscribe();
        }
        _handleLoadedState() {
          return A.h
            .combine(this._params.feedService.feedState, this._transitions, (e, t) =>
              (0, m.zG)(
                e,
                u.chain((e) =>
                  (0, m.zG)(
                    (0, F.PJ)(e.feedId),
                    u.map((t) => ({ state: e, feedId: t }))
                  )
                ),
                u.map(({ state: n, feedId: i }) => {
                  const r = i === F.ji.defaultFeed,
                    o = (0, m.zG)(
                      n.focusedItemId,
                      u.chain((e) => u.fromNullable(n.items.get(e))),
                      u.map((e) => ({ item: e, index: n.orderedItemIds.findIndex((t) => t === e.id) })),
                      u.map(({ item: e, index: t }) =>
                        Object.assign(Object.assign({}, e), {
                          content: (0, m.zG)(
                            ve(e.content, 0 === t, t === n.orderedItemIds.length - 1),
                            u.getOrElse(() => e.content),
                            r ? xe : u.some,
                            u.getOrElse(() => e.content)
                          )
                        })
                      )
                    );
                  return {
                    items: (0, m.zG)(
                      e,
                      u.fold(
                        () => [],
                        (e) =>
                          (0, m.zG)(
                            e.orderedItemIds,
                            H.UI((t) => u.fromNullable(e.items.get(t))),
                            H.UI((e) =>
                              (0, m.zG)(
                                me.g(u.option)(e, o),
                                u.exists(([e, t]) => e.id === t.id)
                              )
                                ? o
                                : e
                            ),
                            H.oA
                          )
                      )
                    ),
                    focused: o,
                    transitions: t,
                    feedId: i
                  };
                })
              )
            )
            .pipe(
              S.O(u.none),
              E.G(),
              h.U(([e, t]) =>
                (0, m.zG)(
                  t,
                  u.map((t) =>
                    Object.assign(Object.assign({}, t), {
                      kind: "loadedState",
                      prevFocusedItem: (0, m.zG)(
                        e,
                        u.chain((e) => e.focused)
                      )
                    })
                  )
                )
              ),
              a.oA
            )
            .subscribe(N.wW(this._state));
        }
        _resetLoadingStateAfterCheckingComplete() {
          return this._params.checkingFinished
            .pipe(
              pe.g(100),
              he.L(5e3, b.of(null)),
              $.M(this._state.view("kind")),
              s.h(([e, t]) => "loadingState" === t),
              h.U(() => ({ kind: "emptyState" }))
            )
            .subscribe(N.wW(this._state));
        }
      }
      var be,
        ke = n(8125);
      class we {
        constructor(e) {
          (this._params = e),
            (this._subs = new r.w()),
            (this._outcomeScores = A.h.create(u.none)),
            (this.outcomeScores = this._outcomeScores.view()),
            this._subs.add(
              this._params.capiService.relevantInboundCAPIMessages
                .pipe(s.h((0, ke.Kg)(c.JS.Finished.is, c.JS.AsyncCheckFinished.is)))
                .subscribe(({ outcomeScores: e }) =>
                  this._outcomeScores.modify((t) => {
                    var n, i, r, o, a, s, l, c, d, p, h, f, g, v, x, y;
                    const b = (0, m.zG)(
                      t,
                      u.getOrElse(() => ({}))
                    );
                    return u.some({
                      [F.ji.defaultFeed]:
                        null !== (i = null !== (n = null == e ? void 0 : e.GeneralScore) && void 0 !== n ? n : b[F.ji.defaultFeed]) &&
                        void 0 !== i
                          ? i
                          : 0,
                      [F.ji.lensAllSuggestionFeed]:
                        null !==
                          (o = null !== (r = null == e ? void 0 : e.GeneralScore) && void 0 !== r ? r : b[F.ji.lensAllSuggestionFeed]) &&
                        void 0 !== o
                          ? o
                          : 0,
                      [F.ji.lensClarityFeed]:
                        null !== (s = null !== (a = null == e ? void 0 : e.Clarity) && void 0 !== a ? a : b[F.ji.lensClarityFeed]) &&
                        void 0 !== s
                          ? s
                          : 0,
                      [F.ji.lensCorrectnessFeed]:
                        null !==
                          (c = null !== (l = null == e ? void 0 : e.Correctness) && void 0 !== l ? l : b[F.ji.lensCorrectnessFeed]) &&
                        void 0 !== c
                          ? c
                          : 0,
                      [F.ji.lensEngagementFeed]:
                        null !== (p = null !== (d = null == e ? void 0 : e.Engagement) && void 0 !== d ? d : b[F.ji.lensEngagementFeed]) &&
                        void 0 !== p
                          ? p
                          : 0,
                      [F.ji.lensDeliveryFeed]:
                        null !== (f = null !== (h = null == e ? void 0 : e.Tone) && void 0 !== h ? h : b[F.ji.lensDeliveryFeed]) &&
                        void 0 !== f
                          ? f
                          : 0,
                      [F.ji.lensStyleGuideFeed]:
                        null !==
                          (v = null !== (g = null == e ? void 0 : e["Style guide"]) && void 0 !== g ? g : b[F.ji.lensStyleGuideFeed]) &&
                        void 0 !== v
                          ? v
                          : 0,
                      [F.ji.plagiarismFeed]:
                        null !==
                          (y =
                            null !== (x = e && "Originality" in e ? e.Originality : void 0) && void 0 !== x ? x : b[F.ji.plagiarismFeed]) &&
                        void 0 !== y
                          ? y
                          : 0
                    });
                  })
                )
            );
        }
        dispose() {
          this._subs.unsubscribe();
        }
      }
      class Ce {
        constructor(e) {
          (this._feedService = e),
            (this.state = this._feedService.feedState.view(
              (0, m.ls)(
                u.fold(
                  () => 0,
                  (e) => e.items.size
                ),
                (e) => ({ suggestionCount: e })
              )
            ));
        }
      }
      function Se(e) {
        const t = new r.w(),
          n = new o.xQ(),
          i = new ue({
            capiService: e.capiService,
            sduiService: e.sduiService,
            alertService: e.alertService,
            monitoringService: e.monitoringService
          }),
          u = new ne({
            sduiManagerProxy: i,
            capiService: e.capiService,
            alertService: e.alertService,
            monitoringService: e.monitoringService,
            setEmphasizedAlerts: (e) => n.next(new Set(e)),
            logger: e.logger
          }),
          d = new L({ sduiItemsCollection: i.state, sduiService: e.sduiService });
        t.add(
          d.defaultFeed
            .pipe(
              a.oA,
              s.h((e) => !e.isEmpty),
              l.q(1)
            )
            .subscribe(({ feed: t }) => {
              var n;
              null === (n = null == e ? void 0 : e.logger) || void 0 === n || n.info("Pushing feed", t.id), u.pushFeed({ feedId: t.id });
            })
        );
        const m = new U({
            feedState: u.feedState,
            resetEmphasizedAlerts: n,
            alertService: e.alertService,
            monitoringService: e.monitoringService,
            logger: e.logger
          }),
          p = new ye({
            feedService: u,
            alertVisibilityManager: m,
            checkingFinished: e.capiService.relevantInboundCAPIMessages.pipe(s.h(c.JS.Finished.is))
          }),
          h = new we({ capiService: e.capiService }),
          f = new de({ sduiService: e.sduiService, feedService: u, feedAvailabilityService: d, outcomeScores: h.outcomeScores }),
          g = new Ce(u);
        return {
          revisionEngine: be.wrap({ feed: p, feedNavigation: f, suggestionCount: g }),
          dispose: () => {
            t.unsubscribe(), f.dispose(), d.dispose(), h.dispose(), p.dispose(), m.dispose(), u.dispose(), i.dispose();
          }
        };
      }
      !(function (e) {
        const t = i.k4();
        (e.wrap = function (e) {
          return t.wrap(e);
        }),
          (e.unwrap = function (e) {
            return t.unwrap(e);
          });
      })(be || (be = {}));
    },
    71078: (e, t, n) => {
      function i(e) {
        return "alertAdded" === e.kind;
      }
      function r(e) {
        return { kind: "alertAdded", alertId: e };
      }
      function o(e) {
        return "alertRemoved" === e.kind;
      }
      function a(e, t) {
        return { kind: "alertRemoved", alertId: e, reason: t };
      }
      function s(e) {
        return "alertCollectionReset" === e.kind;
      }
      function l() {
        return { kind: "alertCollectionReset" };
      }
      n.d(t, { BG: () => i, Jg: () => s, Tm: () => r, cT: () => l, nq: () => o, qQ: () => a });
    },
    4191: (e, t, n) => {
      n.d(t, { PJ: () => a, ji: () => i, uM: () => o });
      var i,
        r = n(5114);
      !(function (e) {
        (e.defaultFeed = "default-feed"),
          (e.lensAllSuggestionFeed = "lens-all-suggestions-feed"),
          (e.lensCorrectnessFeed = "lens-correctness-feed"),
          (e.lensClarityFeed = "lens-clarity-feed"),
          (e.lensDeliveryFeed = "lens-delivery-feed"),
          (e.lensEngagementFeed = "lens-engagement-feed"),
          (e.lensStyleGuideFeed = "lens-style-guide-feed"),
          (e.plagiarismFeed = "plagiarism-feed");
      })(i || (i = {}));
      const o = {
        [i.defaultFeed]: "All suggestions",
        [i.lensAllSuggestionFeed]: "All suggestions",
        [i.lensCorrectnessFeed]: "Correctness",
        [i.lensClarityFeed]: "Clarity",
        [i.lensDeliveryFeed]: "Delivery",
        [i.lensEngagementFeed]: "Engagement",
        [i.lensStyleGuideFeed]: "Style guide",
        [i.plagiarismFeed]: "Plagiarism"
      };
      function a(e) {
        return Object.values(i).includes(e) ? r.some(e) : r.none;
      }
    },
    19125: (e, t, n) => {
      function i(e) {
        return "sduiItemAdd" === e.kind;
      }
      function r(e, t) {
        return { kind: "sduiItemAdd", sduiRootId: e, sdui: t };
      }
      function o(e) {
        return "sduiItemUpdate" === e.kind;
      }
      function a(e, t) {
        return { kind: "sduiItemUpdate", sduiRootId: e, sdui: t };
      }
      function s(e) {
        return "sduiItemRemove" === e.kind;
      }
      function l(e) {
        return { kind: "sduiItemRemove", sduiRootId: e };
      }
      function c(e) {
        return "sduiItemCollectionReset" === e.kind;
      }
      function u() {
        return { kind: "sduiItemCollectionReset" };
      }
      n.d(t, { FE: () => a, H$: () => c, K5: () => r, Ul: () => l, Y9: () => o, Zw: () => d, ex: () => u, tC: () => i, zi: () => s });
      const d = (0, n(8125).Kg)(i, o, s, c);
    },
    85682: (e, t, n) => {
      var i;
      n.d(t, { q: () => i }),
        (function (e) {
          const t = [];
          (e.notifyFeedUnmount = function () {
            t.forEach((e) => e());
          }),
            (e.registerFeedUnmountHandler = function (e) {
              return t.push(e), e;
            }),
            (e.unregisterFeedUnmountHandler = function (e) {
              const n = t.findIndex((t) => t === e);
              n >= 0 && t.splice(n, 1);
            });
        })(i || (i = {}));
    },
    41866: (e, t, n) => {
      function i(e) {
        return { kind: "error", source: "skill", name: "getSkillsFailed", data: e };
      }
      function r(e) {
        return { kind: "error", source: "skill", name: "initSkillFailed", data: e };
      }
      function o(e) {
        return { kind: "error", source: "skill", name: "terminateSkillFailed", data: e };
      }
      n.d(t, { YC: () => i, go: () => o, iJ: () => r });
    },
    90488: (e, t, n) => {
      n.d(t, { Fl: () => a, RO: () => r, _q: () => i });
      var i,
        r,
        o = n(45701);
      !(function (e) {
        (e.Slight = "Slight"), (e.Moderate = "Moderate"), (e.Strong = "Strong"), (e.VeryStrong = "Very strong");
      })(i || (i = {})),
        (function (e) {
          (e.positive = "positive"), (e.negative = "negative");
        })(r || (r = {}));
      const a = o.contramap((e) => e.confidence)(o.ordNumber);
    },
    29972: (e, t, n) => {
      n.d(t, { w: () => v });
      var i = n(71249),
        r = n(5114),
        o = n(45701),
        a = n(64015),
        s = n(57050),
        l = n(84966),
        c = n(9922),
        u = n(85985),
        d = n(22232),
        m = n(23239),
        p = n(33148),
        h = n(63346),
        f = n(26320),
        g = n(90488);
      class v {
        constructor(e) {
          var t;
          (this._params = e),
            (this._subscriptions = new c.w.Keeper()),
            (this._logger = null !== (t = this._params.logger) && void 0 !== t ? t : new h.W(v.name)),
            (this._state = m.h.create(r.none)),
            (this.state = this._state.view()),
            this._subscriptions.push(
              this._params.capiService.relevantInboundCAPIMessages
                .pipe(u.h(p.JS.TonesResult.is))
                .subscribe((e) => this._handleTonesResultMessage(e))
            );
        }
        submitToneFeedback(e, t) {
          const n = t === g.RO.positive ? l.y_.EMOTION_LIKE : t === g.RO.negative ? l.y_.EMOTION_DISLIKE : (0, d.L0)(t);
          (0, f.t)("submitToneFeedback", this._params.capiService.feedback({ emotion: e, type: n, subtype: l.e3.Inline }), this._logger);
        }
        _handleTonesResultMessage(e) {
          this._state.set(
            r.some({
              tones: (0, s.zG)(
                e.emotions,
                (0, i.UI)(({ name: e, emojiId: t, confidence: n }) => ({ name: e, emojiId: t, confidence: n })),
                x,
                a.DY((0, o.getDualOrd)(g.Fl))
              ),
              hidden: !0 === e.hidden,
              brandTonesEnabled: !0 === e.brandTonesEnabled,
              institutionLogo: r.fromNullable(e.institutionLogo)
            })
          );
        }
        dispose() {
          this._subscriptions.dispose();
        }
      }
      function x(e) {
        const t = e.reduce((e, t) => e + t.confidence, 0);
        return e.map((e) => {
          let n;
          return (
            (n =
              e.confidence < 0.25
                ? g._q.Slight
                : e.confidence < 0.5
                ? g._q.Moderate
                : e.confidence / t > 0.5
                ? g._q.VeryStrong
                : g._q.Strong),
            Object.assign(Object.assign({}, e), { prevalence: n })
          );
        });
      }
    },
    31705: (e, t, n) => {
      n.d(t, { x: () => i });
      var i,
        r = n(80800),
        o = n(22232);
      !(function (e) {
        let t;
        !(function (e) {
          let t;
          !(function (e) {
            (e.Rating = "rating"), (e.Feedback = "feedback"), (e.Completed = "completed"), (e.Closed = "closed");
          })((t = e.Type || (e.Type = {}))),
            (e.isOpen = (e) => e !== t.Closed),
            (e.toCAPIStage = (e) => {
              switch (e) {
                case t.Rating:
                  return r.v0.Survey.Data.OpenAnswerScoreSurvey.scoreStage;
                case t.Feedback:
                case t.Closed:
                case t.Completed:
                  return r.v0.Survey.Data.OpenAnswerScoreSurvey.submitStage;
                default:
                  (0, o.L0)(e);
              }
            });
        })((t = e.Stage || (e.Stage = {})));
      })(i || (i = {}));
    },
    36847: (e, t, n) => {
      n.d(t, { p: () => f });
      var i = n(5114),
        r = n(57050),
        o = n(80800),
        a = n(9922),
        s = n(85985),
        l = n(23239),
        c = n(33148),
        u = n(98370),
        d = n(14047),
        m = n(26320);
      function p(e) {
        return { source: "userSurvey", kind: "error", name: "submitSurveyFailed", data: e };
      }
      var h = n(31705);
      class f {
        constructor(e) {
          (this._params = e),
            (this._subs = new a.w.Keeper()),
            (this._activeSurvey = l.h.create(i.none)),
            (this.activeSurvey = this._activeSurvey.view()),
            this._init();
        }
        dispose() {
          this._subs.dispose();
        }
        submitSurveyResult(e) {
          (0, m.t)(
            "submitSurveyResult",
            this._params.capiService.submit_survey_result({
              placement: e.placement,
              score: e.rating,
              stage: h.x.Stage.toCAPIStage(e.stage),
              open_answer: i.getOrElse(() => "")(e.openAnswer),
              detailed_placement: e.detailedPlacement,
              type: e.type
            }),
            void 0,
            void 0,
            () =>
              this._params.monitoringService.notify(
                (0, u.L)(p({ surveyType: e.type, surveyPlacement: e.placement, surveyDetailedPlacement: e.detailedPlacement }))
              )
          );
        }
        dismissSurvey(e) {
          (0, m.t)(
            "submitSurveyResult",
            this._params.capiService.submit_survey_result({
              placement: e.placement,
              score: "declined",
              stage: h.x.Stage.toCAPIStage(e.stage),
              detailed_placement: e.detailedPlacement,
              type: e.type
            }),
            void 0,
            void 0,
            () =>
              this._params.monitoringService.notify(
                (0, u.L)(p({ surveyType: e.type, surveyPlacement: e.placement, surveyDetailedPlacement: e.detailedPlacement }))
              )
          );
        }
        _init() {
          this._subs.push(
            this._params.capiService.relevantInboundCAPIMessages.pipe(s.h(c.JS.ShowSurvey.is)).subscribe((e) => this._handleShowSurvey(e))
          );
        }
        _handleShowSurvey(e) {
          (0, r.zG)(
            e.survey,
            i.fromPredicate((e) => e.placement === o.v0.Survey.Data.BaseSurvey.Placement.ggo),
            i.chain((e) => ("open_answer_score" === e.type ? i.some(e) : i.none)),
            i.chain((e) => {
              var t;
              return "string" == typeof e.detailed_placement &&
                2 === (null === (t = e.detailed_placement) || void 0 === t ? void 0 : t.split(":").length)
                ? i.some({ survey: e, detailedPlacement: e.detailed_placement })
                : i.none;
            }),
            i.chain(({ survey: e, detailedPlacement: t }) => {
              const [n, r] = t.split(":"),
                o = Math.abs(Number.parseInt(r, 10));
              return Number.isNaN(o) ? i.none : i.some({ survey: e, detailedPlacement: t, sessionId: n, resultId: d.x.Id.create(o) });
            }),
            i.fold(
              () =>
                this._params.monitoringService.notify(
                  (0, u.L)({
                    source: "userSurvey",
                    kind: "warn",
                    name: "unexpectedSurveyFormatReceived",
                    data: {
                      surveyType: e.survey.type,
                      surveyPlacement: e.survey.placement,
                      surveyDetailedPlacement: e.survey.detailed_placement
                    }
                  })
                ),
              ({ survey: e, detailedPlacement: t, resultId: n }) => {
                this._activeSurvey.modify(() =>
                  i.some({
                    placement: e.placement,
                    title: e.title,
                    detailedPlacement: t,
                    type: o.v0.Survey.Data.OpenAnswerScoreSurvey.type,
                    resultId: n,
                    maxScore: e.max_score,
                    boxText: i.fromNullable(e.box_text),
                    ratingLabels: e.score_labels,
                    acknowledgmentTitle: i.fromNullable(e.acknowledgment_title),
                    acknowledgment: i.fromNullable(e.acknowledgment),
                    skipOpenAnswerFrom: e.skip_open_answer_from,
                    openAnswer: i.fromNullable({
                      placeholder: e.open_answer.placeholder,
                      maxLen: e.open_answer.max_len,
                      minLen: i.fromNullable(e.open_answer.min_len)
                    })
                  })
                );
              }
            )
          );
        }
      }
    },
    33305: (e, t, n) => {
      n.d(t, { L: () => i, b: () => r });
      var i,
        r,
        o = n(73975),
        a = n(5114),
        s = n(64015),
        l = n(48044),
        c = n(13853),
        u = n(22232);
      !(function (e) {
        let t, n, i, r, d, m;
        !(function (e) {
          let t;
          !(function (e) {
            (e.create = function (e) {
              return e;
            }),
              (e.eq = o.yv);
          })((t = e.Id || (e.Id = {})));
        })((t = e.Tone || (e.Tone = {}))),
          (function (e) {
            let t;
            !(function (e) {
              (e.create = function (e) {
                return e;
              }),
                (e.eq = o.yv);
            })((t = e.Id || (e.Id = {})));
          })((n = e.Style || (e.Style = {}))),
          (function (e) {
            let t;
            !(function (e) {
              (e.create = function (e) {
                return e;
              }),
                (e.eq = o.yv);
            })((t = e.Id || (e.Id = {})));
          })((i = e.Role || (e.Role = {}))),
          (function (e) {
            function t(e) {
              switch (e) {
                case "american":
                  return "American English";
                case "australian":
                  return "Australian English";
                case "british":
                  return "British English";
                case "canadian":
                  return "Canadian English";
                case "indian":
                  return "Indian English";
                default:
                  return (0, u.L0)(e);
              }
            }
            function n(e) {
              switch (e) {
                case "american":
                  return "https://assets.grammarly.com/emoji/v1/1f1fa-1f1f8.svg";
                case "australian":
                  return "https://assets.grammarly.com/emoji/v1/1f1e6-1f1fa.svg";
                case "british":
                  return "https://assets.grammarly.com/emoji/v1/1f1ec-1f1e7.svg";
                case "canadian":
                  return "https://assets.grammarly.com/emoji/v1/1f1e8-1f1e6.svg";
                case "indian":
                  return "https://assets.grammarly.com/emoji/v1/1f1ee-1f1f3.svg";
                default:
                  return (0, u.L0)(e);
              }
            }
            let i;
            !(function (e) {
              (e.create = function (e) {
                return e;
              }),
                (e.eq = o.yv);
            })((i = e.Id || (e.Id = {}))),
              (e.american = { id: i.create("american"), label: t("american"), iconUrl: n("american") }),
              (e.australian = { id: i.create("australian"), label: t("australian"), iconUrl: n("australian") }),
              (e.british = { id: i.create("british"), label: t("british"), iconUrl: n("british") }),
              (e.canadian = { id: i.create("canadian"), label: t("canadian"), iconUrl: n("canadian") }),
              (e.indian = { id: i.create("indian"), label: t("indian"), iconUrl: n("indian") }),
              (e.all = function () {
                return [e.american, e.australian, e.british, e.canadian, e.indian];
              });
          })((r = e.Dialect || (e.Dialect = {}))),
          (function (e) {
            e.eq = o.MW({
              selectedStyle: n.Id.eq,
              selectedTonesPerStyle: l.Eh(n.Id.eq, c.Eh(t.Id.eq)),
              selectedRole: a.getEq(i.Id.eq),
              selectedDialect: r.Id.eq
            });
          })((d = e.Selections || (e.Selections = {}))),
          (e.toLegacyVoiceProfile = function (e) {
            return "legacyVoiceProfile" === e.kind ? a.some(e) : a.none;
          }),
          (function (e) {
            const t = o.MW({ name: o.yv, state: o.yv }),
              n = o.MW({ name: o.yv, tags: s.Eh(t) }),
              l = o.MW({ name: o.yv, summary: o.yv, selected: o.vD, sections: s.Eh(n) }),
              c = s.Eh(l);
            e.eqByRoleDialectProfileAndIsEnabledByDefault = o.MW({
              profiles: c,
              selectedRole: a.getEq(i.Id.eq),
              selectedDialect: r.Id.eq,
              isEnabledByDefault: o.vD
            });
          })((m = e.NewSelections || (e.NewSelections = {}))),
          (e.toNewVoiceProfile = function (e) {
            return "newVoiceProfile" === e.kind ? a.some(e) : a.none;
          });
      })(i || (i = {})),
        (function (e) {
          e.createId = ({ tagName: e, sectionName: t, profileName: n }) => `${t}-${e}-${n}`;
        })(r || (r = {}));
    },
    71761: (e, t, n) => {
      n.r(t),
        n.d(t, {
          ActionArg: () => g,
          ActionArgDef: () => v,
          ActionArgDefRadioButtonGroup: () => k,
          ActionArgDefRadioButtonGroupHint: () => b,
          ActionArgDefString: () => y,
          ActionArgDefStringHint: () => x,
          ActionDef: () => S,
          ActionDefDisabled: () => C,
          ActionDefGeneratesTextType: () => w,
          ActionInfo: () => E,
          AvailableVoiceProfile: () => B,
          AvailableVoiceProfileSection: () => A,
          AvailableVoiceProfileSectionTag: () => I,
          AvailableVoiceProfileSectionTagState: () => _,
          AvailableVoiceProfiles: () => R,
          ClientMessage: () => c,
          ClientMessageImplementations: () => Ue,
          Context: () => O,
          DocumentOverview: () => U,
          Error: () => N,
          ErrorKind: () => T,
          GeneratedText: () => M,
          GenerationMode: () => F,
          Message: () => j,
          MessageAction: () => G,
          MessageChunk: () => Q,
          MessageError: () => K,
          MessageGetContext: () => P,
          MessageGetHistory: () => $,
          MessageGetUserState: () => H,
          MessageInterrupt: () => D,
          MessageInvalidateContext: () => z,
          MessageResult: () => X,
          MessageResultChangesSummary: () => Y,
          MessageSearchReferences: () => V,
          MessageSearchReferencesResult: () => q,
          MessageSetContext: () => W,
          MessageSetHistory: () => re,
          MessageSetHistoryCard: () => ie,
          MessageSetHistoryCardTitle: () => ee,
          MessageSetHistoryCardTitleAction: () => ne,
          MessageSetHistoryCardTitleUserPrompt: () => te,
          MessageSetUserState: () => J,
          MessageSetVoice: () => L,
          MessageSetVoiceProfile: () => Z,
          Metadata: () => oe,
          Notification: () => se,
          NotificationKind: () => ae,
          OuterContext: () => ce,
          OuterContextItem: () => le,
          PreviousText: () => ue,
          PreviousTextHistory: () => me,
          PreviousTextRegular: () => de,
          PreviousTextWriterExpert: () => pe,
          ProtocolMessage: () => u,
          Reference: () => he,
          ReferencePrivacyLevel: () => fe,
          ReferencePrivacyLevelPublic: () => ge,
          ReferencePrivacyLevelRestricted: () => ve,
          Root: () => f,
          ServerMessage: () => d,
          ServerMessageImplementations: () => Te,
          SpecialView: () => xe,
          SpecialViewAiUsageAlert: () => ye,
          StartMessage: () => m,
          StartedMessage: () => p,
          Style: () => be,
          Text: () => ke,
          TextLike: () => h,
          TextRange: () => we,
          Toggle: () => Ce,
          UrlReference: () => Se,
          Usage: () => Ee,
          UserState: () => Ie,
          UserStateSettings: () => _e,
          Voice: () => Ae,
          VoiceProfileSettings: () => Oe,
          VoiceProfileSettingsMyVoiceIsEnabledByDefault: () => Be,
          VoiceProfileSettingsStatus: () => Re,
          encoderSchemable: () => ze,
          extend: () => Pe,
          interpreter: () => je,
          make: () => Fe
        });
      var i = n(59312),
        r = n(50687),
        o = n(83257),
        a = n(18164),
        s = n(73915),
        l = n(57050),
        c = Fe(function (e) {
          return Me(u(e), e.struct({}))(e);
        }),
        u = Fe(function (e) {
          return e.struct({ id: e.number });
        }),
        d = Fe(function (e) {
          return Me(u(e), e.struct({}))(e);
        }),
        m = Fe(function (e) {
          return e.intersect(e.partial({ docIdIsTransient: e.boolean }))(e.struct({}));
        }),
        p = Fe(function (e) {
          return e.struct({ cheetahState: Ie(e) });
        }),
        h = Fe(function (e) {
          return e.struct({ plain: e.sensitiveString, delta: e.sensitiveDelta });
        }),
        f = Fe(function (e) {
          return j(e);
        }),
        g = Fe(function (e) {
          return e.struct({ name: e.string, value: e.sensitiveString });
        }),
        v = Fe(function (e) {
          var t;
          return e.sum("valueType")((((t = {}).string = y(e)), (t.radioButtonGroup = k(e)), t));
        }),
        x = Fe(function (e) {
          return e.struct({ header: e.string, text: e.readonly(e.array(e.string)) });
        }),
        y = Fe(function (e) {
          return e.intersect(e.partial({ hint: x(e) }))(e.struct({ valueType: e.literal("string"), label: e.string, name: e.string }));
        }),
        b = Fe(function (e) {
          return e.struct({ header: e.string, text: e.readonly(e.array(e.string)) });
        }),
        k = Fe(function (e) {
          return e.intersect(e.partial({ hint: b(e) }))(
            e.struct({
              valueType: e.literal("radioButtonGroup"),
              label: e.string,
              name: e.string,
              radioButtonGroupValues: e.readonly(e.array(e.string))
            })
          );
        }),
        w = Ne(r.cX),
        C = Fe(function (e) {
          return e.intersect(e.partial({ onActionNotification: se(e) }))(e.struct({}));
        }),
        S = Fe(function (e) {
          return e.intersect(e.partial({ generatesTextType: w(e) }))(
            e.intersect(e.partial({ disabled: C(e) }))(
              e.struct({
                id: e.string,
                iconUrl: e.string,
                group: e.string,
                label: e.string,
                searchTags: e.readonly(e.array(e.string)),
                args: e.readonly(e.array(v(e)))
              })
            )
          );
        }),
        E = Fe(function (e) {
          return e.intersect(e.partial({ useReferences: e.readonly(e.array(Se(e))) }))(
            e.intersect(e.partial({ omitReferenceIds: e.readonly(e.array(e.string)) }))(
              e.struct({ contextId: e.string, triggerContextId: e.string, actionId: e.string, args: e.readonly(e.array(g(e))) })
            )
          );
        }),
        _ = Ne(r.ES),
        I = Fe(function (e) {
          return e.struct({ name: e.string, state: _(e) });
        }),
        A = Fe(function (e) {
          return e.struct({ name: e.string, tags: e.readonly(e.array(I(e))) });
        }),
        B = Fe(function (e) {
          return e.struct({ name: e.string, summary: e.string, selected: e.boolean, sections: e.readonly(e.array(A(e))) });
        }),
        R = Fe(function (e) {
          return e.readonly(e.array(B(e)));
        }),
        O = Fe(function (e) {
          return e.intersect(e.partial({ voiceProfileSettings: Oe(e) }))(
            e.intersect(e.partial({ intent: e.sensitiveString }))(
              e.intersect(e.partial({ documentOverview: U(e) }))(
                e.intersect(e.partial({ specialView: xe(e) }))(
                  e.intersect(e.partial({ textScope: we(e) }))(
                    e.intersect(e.partial({ contextNotification: se(e) }))(
                      e.intersect(e.partial({ metadata: oe(e) }))(
                        e.struct({
                          id: e.string,
                          voice: Ae(e),
                          availableActions: e.readonly(e.array(S(e))),
                          parentAction: E(e),
                          stateBlob: e.string,
                          promptAction: S(e),
                          quickRewriteAction: S(e)
                        })
                      )
                    )
                  )
                )
              )
            )
          );
        }),
        U = Fe(function (e) {
          return e.struct({ title: e.string, summary: e.string });
        }),
        T = Ne(r.oS),
        N = Fe(function (e) {
          return e.struct({ kind: T(e), title: e.string, text: e.string });
        }),
        M = Fe(function (e) {
          return Me(
            h(e),
            e.struct({ plain: e.sensitiveString, interrupted: e.boolean, renderDiff: e.boolean, delta: e.sensitiveDelta })
          )(e);
        }),
        F = Ne(r.s2),
        j = Fe(function (e) {
          var t;
          return Me(
            u(e),
            e.sum("action")(
              (((t = {})["cheetah:getContext"] = P(e)),
              (t["cheetah:invalidateContext"] = z(e)),
              (t["cheetah:action"] = G(e)),
              (t["cheetah:setVoice"] = L(e)),
              (t["cheetah:setVoiceProfile"] = Z(e)),
              (t["cheetah:interrupt"] = D(e)),
              (t["cheetah:getUserState"] = H(e)),
              (t["cheetah:searchReferences"] = V(e)),
              (t["cheetah:getHistory"] = $(e)),
              (t["cheetah:error"] = K(e)),
              (t["cheetah:setContext"] = W(e)),
              (t["cheetah:searchReferencesResult"] = q(e)),
              (t["cheetah:chunk"] = Q(e)),
              (t["cheetah:result"] = X(e)),
              (t["cheetah:setUserState"] = J(e)),
              (t["cheetah:setHistory"] = re(e)),
              t)
            )
          )(e);
        }),
        P = Fe(function (e) {
          return Me(
            c(e),
            e.intersect(e.partial({ outerContext: ce(e) }))(
              e.intersect(e.partial({ selectedRange: we(e) }))(
                e.intersect(e.partial({ stateBlob: e.string }))(
                  e.intersect(e.partial({ previousText: ue(e) }))(
                    e.intersect(e.partial({ includeDisabledActions: e.boolean }))(
                      e.intersect(e.partial({ metadata: oe(e) }))(
                        e.struct({ action: e.literal("cheetah:getContext"), rev: e.number, generationMode: F(e) })
                      )
                    )
                  )
                )
              )
            )
          )(e);
        }),
        z = Fe(function (e) {
          return Me(d(e), e.struct({ action: e.literal("cheetah:invalidateContext") }))(e);
        }),
        G = Fe(function (e) {
          return Me(
            c(e),
            e.intersect(e.partial({ useReferences: e.readonly(e.array(Se(e))) }))(
              e.intersect(e.partial({ omitReferenceIds: e.readonly(e.array(e.string)) }))(
                e.intersect(e.partial({ previousText: ue(e) }))(
                  e.intersect(e.partial({ metadata: oe(e) }))(
                    e.struct({
                      action: e.literal("cheetah:action"),
                      rev: e.number,
                      contextId: e.string,
                      triggerContextId: e.string,
                      actionId: e.string,
                      stateBlob: e.string,
                      args: e.readonly(e.array(g(e)))
                    })
                  )
                )
              )
            )
          )(e);
        }),
        L = Fe(function (e) {
          return Me(c(e), e.struct({ action: e.literal("cheetah:setVoice"), voice: Ae(e) }))(e);
        }),
        Z = Fe(function (e) {
          return Me(
            c(e),
            e.intersect(e.partial({ role: e.string }))(
              e.intersect(e.partial({ isEnabledByDefault: e.boolean }))(
                e.intersect(e.partial({ profiles: R(e) }))(e.struct({ action: e.literal("cheetah:setVoiceProfile") }))
              )
            )
          )(e);
        }),
        D = Fe(function (e) {
          return Me(c(e), e.struct({ action: e.literal("cheetah:interrupt"), promptId: e.number }))(e);
        }),
        H = Fe(function (e) {
          return Me(c(e), e.struct({ action: e.literal("cheetah:getUserState") }))(e);
        }),
        V = Fe(function (e) {
          return Me(c(e), e.intersect(e.partial({ url: e.string }))(e.struct({ action: e.literal("cheetah:searchReferences") })))(e);
        }),
        $ = Fe(function (e) {
          return Me(c(e), e.struct({ action: e.literal("cheetah:getHistory") }))(e);
        }),
        K = Fe(function (e) {
          return Me(d(e), e.struct({ action: e.literal("cheetah:error"), promptId: e.number, error: N(e) }))(e);
        }),
        W = Fe(function (e) {
          return Me(
            d(e),
            e.intersect(e.partial({ progressMessage: e.string }))(
              e.struct({ action: e.literal("cheetah:setContext"), promptId: e.number, context: O(e), usage: Ee(e) })
            )
          )(e);
        }),
        q = Fe(function (e) {
          return Me(
            d(e),
            e.struct({ action: e.literal("cheetah:searchReferencesResult"), promptId: e.number, references: e.readonly(e.array(he(e))) })
          )(e);
        }),
        Q = Fe(function (e) {
          return Me(
            d(e),
            e.intersect(e.partial({ metadata: oe(e) }))(
              e.struct({ action: e.literal("cheetah:chunk"), promptId: e.number, token: e.sensitiveString })
            )
          )(e);
        }),
        Y = Fe(function (e) {
          return e.struct({ title: e.string, description: e.readonly(e.array(e.string)) });
        }),
        X = Fe(function (e) {
          return Me(
            d(e),
            e.intersect(e.partial({ metadata: oe(e) }))(
              e.intersect(e.partial({ context: O(e) }))(
                e.intersect(e.partial({ error: N(e) }))(
                  e.intersect(e.partial({ text: M(e) }))(
                    e.intersect(e.partial({ withVoiceText: M(e) }))(
                      e.intersect(e.partial({ showVoiceTextByDefault: e.boolean }))(
                        e.intersect(e.partial({ references: e.readonly(e.array(he(e))) }))(
                          e.intersect(e.partial({ changesSummary: Y(e) }))(
                            e.struct({ action: e.literal("cheetah:result"), promptId: e.number, usage: Ee(e) })
                          )
                        )
                      )
                    )
                  )
                )
              )
            )
          )(e);
        }),
        J = Fe(function (e) {
          return Me(d(e), e.struct({ action: e.literal("cheetah:setUserState"), state: Ie(e) }))(e);
        }),
        ee = Fe(function (e) {
          var t;
          return e.sum("kind")((((t = {}).userPrompt = te(e)), (t.action = ne(e)), t));
        }),
        te = Fe(function (e) {
          return e.struct({ kind: e.literal("userPrompt"), text: e.string });
        }),
        ne = Fe(function (e) {
          return e.struct({ kind: e.literal("action"), iconUrl: e.string, label: e.string });
        }),
        ie = Fe(function (e) {
          return e.intersect(e.partial({ showVoiceTextByDefault: e.boolean }))(
            e.struct({ id: e.string, text: ke(e), withVoiceText: ke(e), title: ee(e), references: e.readonly(e.array(he(e))) })
          );
        }),
        re = Fe(function (e) {
          return Me(d(e), e.struct({ action: e.literal("cheetah:setHistory"), cards: e.readonly(e.array(ie(e))) }))(e);
        }),
        oe = Fe(function (e) {
          return e.any;
        }),
        ae = Ne(r.W7),
        se = Fe(function (e) {
          return e.intersect(e.partial({ title: e.string }))(e.struct({ kind: ae(e), text: e.string }));
        }),
        le = Fe(function (e) {
          return e.intersect(e.partial({ title: e.sensitiveString }))(
            e.intersect(e.partial({ people: e.readonly(e.record(e.readonly(e.array(e.sensitiveString)))) }))(
              e.struct({ text: e.sensitiveString })
            )
          );
        }),
        ce = Fe(function (e) {
          return e.intersect(e.partial({ pageIdHash: e.string }))(
            e.intersect(e.partial({ title: e.sensitiveString }))(
              e.intersect(e.partial({ people: e.readonly(e.record(e.readonly(e.array(e.sensitiveString)))) }))(
                e.intersect(e.partial({ items: e.readonly(e.array(le(e))) }))(e.struct({}))
              )
            )
          );
        }),
        ue = Fe(function (e) {
          var t;
          return e.sum("kind")((((t = {}).regular = de(e)), (t.history = me(e)), (t.writerExpert = pe(e)), t));
        }),
        de = Fe(function (e) {
          return e.struct({ kind: e.literal("regular"), text: e.string });
        }),
        me = Fe(function (e) {
          return e.struct({ kind: e.literal("history"), text: e.string });
        }),
        pe = Fe(function (e) {
          return e.struct({ kind: e.literal("writerExpert"), text: e.string, suggestionId: e.string, pname: e.string });
        }),
        he = Fe(function (e) {
          return e.intersect(e.partial({ url: e.string }))(
            e.struct({ id: e.string, privacyLevel: fe(e), title: e.string, iconUrl: e.string })
          );
        }),
        fe = Fe(function (e) {
          var t;
          return e.sum("kind")((((t = {}).public = ge(e)), (t.restricted = ve(e)), t));
        }),
        ge = Fe(function (e) {
          return e.struct({ kind: e.literal("public") });
        }),
        ve = Fe(function (e) {
          return e.struct({ kind: e.literal("restricted") });
        }),
        xe = Fe(function (e) {
          var t;
          return e.sum("kind")((((t = {}).aiUsageAlert = ye(e)), t));
        }),
        ye = Fe(function (e) {
          return e.struct({ kind: e.literal("aiUsageAlert") });
        }),
        be = Fe(function (e) {
          return e.struct({ button: Ce(e), tones: e.readonly(e.array(Ce(e))), maxTones: e.number });
        }),
        ke = Fe(function (e) {
          return Me(h(e), e.struct({}))(e);
        }),
        we = Fe(function (e) {
          return e.struct({ start: e.number, end: e.number });
        }),
        Ce = Fe(function (e) {
          return e.struct({ iconUrl: e.string, label: e.string, description: e.string });
        }),
        Se = Fe(function (e) {
          return e.struct({ url: e.string, referenceId: e.string });
        }),
        Ee = Fe(function (e) {
          return e.struct({ promptsRemaining: e.number, promptsAllocated: e.number, refillDate: e.string });
        }),
        _e = Fe(function (e) {
          return e.struct({ inlineQuickReplyEnabled: e.boolean, inlineRewriteEnabled: e.boolean });
        }),
        Ie = Fe(function (e) {
          return e.intersect(e.partial({ historyItems: e.number }))(e.struct({ settings: _e(e), usage: Ee(e) }));
        }),
        Ae = Fe(function (e) {
          return e.intersect(e.partial({ styles: e.readonly(e.array(be(e))) }))(
            e.intersect(e.partial({ selectedRole: e.string }))(
              e.intersect(e.partial({ roles: e.readonly(e.array(e.string)) }))(
                e.struct({ selectedStyle: e.string, selectedTones: e.readonly(e.array(e.string)), needSetup: e.boolean })
              )
            )
          );
        }),
        Be = Fe(function (e) {
          return e.struct({ state: e.boolean, label: e.string });
        }),
        Re = Ne(r.J8),
        Oe = Fe(function (e) {
          return e.intersect(e.partial({ status: Re(e) }))(
            e.struct({ userName: e.string, myVoiceIsEnabledByDefault: Be(e), title: e.string, subTitle: e.string, profiles: R(e) })
          );
        }),
        Ue = Fe(function (e) {
          var t;
          return e.sum("action")(
            (((t = {})["cheetah:getContext"] = P(e)),
            (t["cheetah:action"] = G(e)),
            (t["cheetah:setVoice"] = L(e)),
            (t["cheetah:setVoiceProfile"] = Z(e)),
            (t["cheetah:interrupt"] = D(e)),
            (t["cheetah:getUserState"] = H(e)),
            (t["cheetah:searchReferences"] = V(e)),
            (t["cheetah:getHistory"] = $(e)),
            t)
          );
        }),
        Te = Fe(function (e) {
          var t;
          return e.sum("action")(
            (((t = {})["cheetah:invalidateContext"] = z(e)),
            (t["cheetah:error"] = K(e)),
            (t["cheetah:setContext"] = W(e)),
            (t["cheetah:searchReferencesResult"] = q(e)),
            (t["cheetah:chunk"] = Q(e)),
            (t["cheetah:result"] = X(e)),
            (t["cheetah:setUserState"] = J(e)),
            (t["cheetah:setHistory"] = re(e)),
            t)
          );
        });
      function Ne(e) {
        var t = Object.keys(e).map(function (t) {
            return e[t];
          }),
          n = t[0],
          r = t.slice(1);
        return Fe(function (e) {
          return e.literal.apply(e, (0, i.ev)([n], r, !1));
        });
      }
      function Me() {
        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
        return Fe(function (t) {
          return e.reduce(function (e, n) {
            return t.intersect(n)(e);
          });
        });
      }
      function Fe(e) {
        return a.H(e);
      }
      var je = (0, l.MZ)(s.n);
      function Pe(e) {
        return function (t) {
          return (0, i.pi)((0, i.pi)({}, e), t);
        };
      }
      var ze = {
        URI: o.ov,
        literal: function () {
          return o.id();
        },
        string: o.id(),
        number: o.id(),
        boolean: o.id(),
        nullable: o.AG,
        type: o.dt,
        struct: o.n_,
        partial: o.r$,
        record: o.IM,
        array: o.IX,
        tuple: o.bc,
        intersect: o.wf,
        sum: o.Sm,
        lazy: function (e, t) {
          return o.Vo(t);
        },
        readonly: o.OT
      };
    },
    50687: (e, t, n) => {
      var i, r, o, a, s, l;
      n.d(t, { ES: () => r, J8: () => l, W7: () => s, cX: () => i, oS: () => o, s2: () => a }),
        (function (e) {
          (e.Insertable = "insertable"), (e.NonInsertable = "non_insertable");
        })(i || (i = {})),
        (function (e) {
          (e.Active = "active"), (e.Snoozed = "snoozed");
        })(r || (r = {})),
        (function (e) {
          (e.Generic = "generic"),
            (e.Overflow = "overflow"),
            (e.PromptsLimitExceeded = "promptsLimitExceeded"),
            (e.SensitiveContent = "sensitiveContent"),
            (e.ServerOverloaded = "serverOverloaded"),
            (e.UnsupportedLanguage = "unsupportedLanguage");
        })(o || (o = {})),
        (function (e) {
          (e.Ideation = "ideation"),
            (e.PushRewrite = "pushRewrite"),
            (e.QuickReply = "quickReply"),
            (e.QuickRewrite = "quickRewrite"),
            (e.Rewrite = "rewrite");
        })(a || (a = {})),
        (function (e) {
          (e.Generic = "generic"), (e.Info = "info");
        })(s || (s = {})),
        (function (e) {
          (e.Initial = "initial"), (e.Seen = "seen"), (e.Updated = "updated");
        })(l || (l = {}));
    },
    101: (e, t, n) => {
      n.d(t, { l: () => i });
      var i,
        r = n(50693),
        o = n(82900),
        a = n(74923),
        s = n(18775),
        l = n(31099),
        c = n(50858),
        u = n(55818),
        d = n(71346),
        m = n(27378),
        p = n(95300),
        h = n(60797),
        f = n(66310),
        g = n(24209),
        v = n(85089),
        x = n(49708),
        y = n(85985),
        b = n(76974),
        k = n(98403),
        w = n(17343),
        C = n(93508),
        S = n(77176),
        E = n(2844),
        _ = n(41398),
        I = n(19751),
        A = n(18625),
        B = n(5114),
        R = n(19962),
        O = n(18208),
        U = n(81531);
      !(function (e) {
        var t;
        !(function (e) {
          e.nextLevel = function (e, t) {
            return { rect: e, level: t + 1 };
          };
        })(e.State || (e.State = {})),
          (function (e) {
            e.empty = { top: 0, bottom: 0 };
          })(e.Padding || (e.Padding = {})),
          (function (e) {
            (e.root = "root"), (e.inherit = "inherit");
          })((t = e.ContainerType || (e.ContainerType = {}))),
          (e.withViewportContainer = function (e, i) {
            return (function (E) {
              (0, l._)(I, E);
              var _ = (0, d._)(I);
              function I() {
                var e;
                return (
                  (0, o._)(this, I),
                  (e = _.apply(this, arguments)),
                  (0, s._)((0, r._)(e), "_viewportEl", new p.X(B.none)),
                  (0, s._)((0, r._)(e), "_onMount", function (t) {
                    e._viewportEl.next(B.fromNullable(t)), e.props.onMount && t && e.props.onMount(t);
                  }),
                  e
                );
              }
              return (
                (0, a._)(I, [
                  {
                    key: "render",
                    value: function () {
                      var r = this.props,
                        o = r.name,
                        a = r.children,
                        s = this._viewportEl.pipe(
                          h.oA,
                          f.w(function (e) {
                            return g
                              .T(
                                v.Qr,
                                x.R(e, "transitionend").pipe(
                                  y.h(function (t) {
                                    return t.target === e;
                                  })
                                ),
                                b.of(!0).pipe(f.w(k.b2.rafScheduler))
                              )
                              .pipe(w.h(e), C.O(e), S.U(R.UL.fromEl));
                          })
                        ),
                        l = i.type === t.root ? n : O;
                      return m.createElement(
                        e,
                        (0, u._)((0, c._)({}, this.props), { onMount: this._onMount, name: o }),
                        m.createElement(l, { viewport: s, name: o }, a)
                      );
                    }
                  }
                ]),
                I
              );
            })(m.Component);
          });
        var n = (e.RootVirtualContainer = function (e) {
            var t = e.viewport,
              n = e.viewportPadding,
              r = void 0 === n ? b.of(i.Padding.empty) : n,
              o = e.name,
              a = e.children,
              s = m.useContext(i.Context);
            return m.createElement(
              F.Provider,
              {
                key: N(o),
                value: E.aj(t, r, T).pipe(
                  _.M(
                    s.pipe(
                      S.U(function (e) {
                        return e.level;
                      })
                    ),
                    i.State.nextLevel
                  ),
                  I.shareReplay({ bufferSize: 1, refCount: !0 })
                )
              },
              a
            );
          }),
          O = (e.InheritVirtualContainer = function (e) {
            var t = e.viewport,
              n = e.viewportPadding,
              r = void 0 === n ? b.of(R.UL.empty) : n,
              o = e.name,
              a = e.children,
              s = m.useContext(i.Context);
            return m.createElement(
              F.Provider,
              {
                key: N(o),
                value: E.aj(
                  s.pipe(
                    S.U(function (e) {
                      return e.rect;
                    })
                  ),
                  E.aj(
                    t ||
                      s.pipe(
                        S.U(function (e) {
                          return e.rect;
                        })
                      ),
                    r,
                    T
                  ),
                  R.UL.intersection
                ).pipe(
                  S.U(
                    B.getOrElse(function () {
                      return (
                        U.C8.Logging.getLogger("InheritVirtualContainer").warn("Got an empty rect for inherit viewport", { name: o }),
                        R.UL.empty
                      );
                    })
                  ),
                  _.M(
                    s.pipe(
                      S.U(function (e) {
                        return e.level;
                      })
                    ),
                    i.State.nextLevel
                  ),
                  I.shareReplay({ bufferSize: 1, refCount: !0 })
                )
              },
              a
            );
          }),
          M = A.P(function () {
            return v.Qr.pipe(
              w.h(document.body),
              C.O(document.body),
              S.U(R.UL.fromEl),
              S.U(function (e) {
                return { rect: e, level: 0 };
              })
            );
          }).pipe(I.shareReplay({ bufferSize: 1, refCount: !0 })),
          F = (e.Context = m.createContext(M));
      })(i || (i = {}));
      var T = function (e, t) {
          return {
            top: e.top + t.top,
            bottom: e.bottom - t.bottom,
            height: e.height - t.top - t.bottom,
            left: e.left,
            right: e.right,
            width: e.width
          };
        },
        N = function (e) {
          return "viewportProvider".concat(O._A(e));
        };
    },
    48911: (e, t, n) => {
      n.d(t, { In: () => m, Vg: () => c, dy: () => d });
      var i = n(98314),
        r = n(20096),
        o = n(27378),
        a = n(54001),
        s = n(59179),
        l = n(89894),
        c =
          /(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g;
      function u(e) {
        return (
          s.g +
          (function (e) {
            return e.length < 4 ? e.codePointAt(0).toString(16) : e.codePointAt(0).toString(16) + "-" + e.codePointAt(2).toString(16);
          })(e) +
          ".svg"
        );
      }
      var d = function (e) {
          var t = e.children,
            n = e.emojiClassName,
            i = e.className,
            r = o.useRef(null);
          return (
            o.useEffect(
              function () {
                r.current &&
                  (r.current.innerHTML = r.current.innerHTML.replace(c, function (e) {
                    return (function (e) {
                      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : p.emoji;
                      return '<img alt="'
                        .concat(e, '" class="')
                        .concat(t, '" src="')
                        .concat(u(e), '" onerror="this.replaceWith(this.alt)" draggable="false" />');
                    })(e, n);
                  }));
              },
              [r, n]
            ),
            o.createElement("span", { ref: r, className: i }, t)
          );
        },
        m = function (e) {
          var t = e.id,
            n = e.className,
            l = (0, i._)(o.useState(!1), 2),
            c = l[0],
            u = l[1],
            d = (0, i._)(o.useState(""), 2),
            m = d[0],
            h = d[1],
            f = (0, i._)(o.useState(""), 2),
            g = f[0],
            v = f[1];
          return (
            o.useEffect(
              function () {
                u(!1),
                  v(
                    (function (e) {
                      return s.g + e + ".svg";
                    })(t)
                  ),
                  h(
                    (function (e) {
                      try {
                        var t;
                        return (t = String).fromCodePoint.apply(
                          t,
                          (0, r._)(
                            e.map(function (e) {
                              return parseInt(e, 16);
                            })
                          )
                        );
                      } catch (e) {
                        return "";
                      }
                    })(t.split("-"))
                  );
              },
              [t]
            ),
            c
              ? o.createElement("span", (0, a.Sh)(n, p.emojiFromIDAlt), m)
              : o.createElement("img", {
                  className: n,
                  src: g,
                  alt: m,
                  onError: function () {
                    return u(!0);
                  },
                  "aria-hidden": !0
                })
          );
        },
        p = l.ux.stylesheet({
          emoji: [
            {
              display: "inline",
              marginRight: ".25em",
              width: "1em",
              verticalAlign: "sub",
              lineHeight: 1,
              transform: "scale(1.25)",
              transformOrigin: "bottom",
              userSelect: "none"
            }
          ],
          emojiFromIDAlt: [{ display: "flex", alignItems: "center" }]
        });
    },
    56377: (e, t, n) => {
      n.d(t, { L: () => l });
      var i,
        r = n(18775),
        o = n(27378),
        a = n(54001),
        s = n(89894),
        l = function (e) {
          var t = e.double,
            n = e.triple,
            i = e.small;
          return o.createElement("div", (0, a.Sh)(d, !0 === t && p, !0 === n && f, !0 === i && g));
        },
        c = 0.875,
        u = "spacer",
        d = s.ux.joinClasses([
          u,
          s.ux.style({ margin: 0, minHeight: s.ux.rem(c), maxHeight: s.ux.rem(1), width: s.ux.percent(100), height: s.ux.rem(1) })
        ]),
        m = "spacerDouble",
        p = s.ux.joinClasses([m, s.ux.style({ minHeight: s.ux.rem(1.75), maxHeight: s.ux.rem(2), height: s.ux.rem(2) })]),
        h = "spacerTriple",
        f = s.ux.joinClasses([h, s.ux.style({ minHeight: s.ux.rem(2.625), maxHeight: s.ux.rem(3), height: s.ux.rem(3) })]),
        g = s.ux.style({
          $nest:
            ((i = {}),
            (0, r._)(i, "&.".concat(u), { minHeight: s.ux.rem(0.4375), maxHeight: s.ux.rem(0.5), height: s.ux.rem(0.5) }),
            (0, r._)(i, "&.".concat(m), { minHeight: s.ux.rem(c), maxHeight: s.ux.rem(1), height: s.ux.rem(1) }),
            (0, r._)(i, "&.".concat(h), { minHeight: s.ux.rem(1.3125), maxHeight: s.ux.rem(1.5), height: s.ux.rem(1.5) }),
            i)
        });
    },
    24782: (e, t) => {
      (t.byteLength = function (e) {
        var t = l(e),
          n = t[0],
          i = t[1];
        return (3 * (n + i)) / 4 - i;
      }),
        (t.toByteArray = function (e) {
          var t,
            n,
            o = l(e),
            a = o[0],
            s = o[1],
            c = new r(
              (function (e, t, n) {
                return (3 * (t + n)) / 4 - n;
              })(0, a, s)
            ),
            u = 0,
            d = s > 0 ? a - 4 : a;
          for (n = 0; n < d; n += 4)
            (t = (i[e.charCodeAt(n)] << 18) | (i[e.charCodeAt(n + 1)] << 12) | (i[e.charCodeAt(n + 2)] << 6) | i[e.charCodeAt(n + 3)]),
              (c[u++] = (t >> 16) & 255),
              (c[u++] = (t >> 8) & 255),
              (c[u++] = 255 & t);
          2 === s && ((t = (i[e.charCodeAt(n)] << 2) | (i[e.charCodeAt(n + 1)] >> 4)), (c[u++] = 255 & t));
          1 === s &&
            ((t = (i[e.charCodeAt(n)] << 10) | (i[e.charCodeAt(n + 1)] << 4) | (i[e.charCodeAt(n + 2)] >> 2)),
            (c[u++] = (t >> 8) & 255),
            (c[u++] = 255 & t));
          return c;
        }),
        (t.fromByteArray = function (e) {
          for (var t, i = e.length, r = i % 3, o = [], a = 16383, s = 0, l = i - r; s < l; s += a) o.push(c(e, s, s + a > l ? l : s + a));
          1 === r
            ? ((t = e[i - 1]), o.push(n[t >> 2] + n[(t << 4) & 63] + "=="))
            : 2 === r && ((t = (e[i - 2] << 8) + e[i - 1]), o.push(n[t >> 10] + n[(t >> 4) & 63] + n[(t << 2) & 63] + "="));
          return o.join("");
        });
      for (
        var n = [],
          i = [],
          r = "undefined" != typeof Uint8Array ? Uint8Array : Array,
          o = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
          a = 0,
          s = o.length;
        a < s;
        ++a
      )
        (n[a] = o[a]), (i[o.charCodeAt(a)] = a);
      function l(e) {
        var t = e.length;
        if (t % 4 > 0) throw new Error("Invalid string. Length must be a multiple of 4");
        var n = e.indexOf("=");
        return -1 === n && (n = t), [n, n === t ? 0 : 4 - (n % 4)];
      }
      function c(e, t, i) {
        for (var r, o, a = [], s = t; s < i; s += 3)
          (r = ((e[s] << 16) & 16711680) + ((e[s + 1] << 8) & 65280) + (255 & e[s + 2])),
            a.push(n[((o = r) >> 18) & 63] + n[(o >> 12) & 63] + n[(o >> 6) & 63] + n[63 & o]);
        return a.join("");
      }
      (i["-".charCodeAt(0)] = 62), (i["_".charCodeAt(0)] = 63);
    },
    30816: (e, t, n) => {
      var i = n(24782),
        r = n(78898),
        o = "function" == typeof Symbol && "function" == typeof Symbol.for ? Symbol.for("nodejs.util.inspect.custom") : null;
      (t.Buffer = l), (t.INSPECT_MAX_BYTES = 50);
      var a = 2147483647;
      function s(e) {
        if (e > a) throw new RangeError('The value "' + e + '" is invalid for option "size"');
        var t = new Uint8Array(e);
        return Object.setPrototypeOf(t, l.prototype), t;
      }
      function l(e, t, n) {
        if ("number" == typeof e) {
          if ("string" == typeof t) throw new TypeError('The "string" argument must be of type string. Received type number');
          return d(e);
        }
        return c(e, t, n);
      }
      function c(e, t, n) {
        if ("string" == typeof e)
          return (function (e, t) {
            ("string" == typeof t && "" !== t) || (t = "utf8");
            if (!l.isEncoding(t)) throw new TypeError("Unknown encoding: " + t);
            var n = 0 | f(e, t),
              i = s(n),
              r = i.write(e, t);
            r !== n && (i = i.slice(0, r));
            return i;
          })(e, t);
        if (ArrayBuffer.isView(e))
          return (function (e) {
            if (L(e, Uint8Array)) {
              var t = new Uint8Array(e);
              return p(t.buffer, t.byteOffset, t.byteLength);
            }
            return m(e);
          })(e);
        if (null == e)
          throw new TypeError(
            "The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + typeof e
          );
        if (L(e, ArrayBuffer) || (e && L(e.buffer, ArrayBuffer))) return p(e, t, n);
        if ("undefined" != typeof SharedArrayBuffer && (L(e, SharedArrayBuffer) || (e && L(e.buffer, SharedArrayBuffer))))
          return p(e, t, n);
        if ("number" == typeof e) throw new TypeError('The "value" argument must not be of type number. Received type number');
        var i = e.valueOf && e.valueOf();
        if (null != i && i !== e) return l.from(i, t, n);
        var r = (function (e) {
          if (l.isBuffer(e)) {
            var t = 0 | h(e.length),
              n = s(t);
            return 0 === n.length || e.copy(n, 0, 0, t), n;
          }
          if (void 0 !== e.length) return "number" != typeof e.length || Z(e.length) ? s(0) : m(e);
          if ("Buffer" === e.type && Array.isArray(e.data)) return m(e.data);
        })(e);
        if (r) return r;
        if ("undefined" != typeof Symbol && null != Symbol.toPrimitive && "function" == typeof e[Symbol.toPrimitive])
          return l.from(e[Symbol.toPrimitive]("string"), t, n);
        throw new TypeError(
          "The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + typeof e
        );
      }
      function u(e) {
        if ("number" != typeof e) throw new TypeError('"size" argument must be of type number');
        if (e < 0) throw new RangeError('The value "' + e + '" is invalid for option "size"');
      }
      function d(e) {
        return u(e), s(e < 0 ? 0 : 0 | h(e));
      }
      function m(e) {
        for (var t = e.length < 0 ? 0 : 0 | h(e.length), n = s(t), i = 0; i < t; i += 1) n[i] = 255 & e[i];
        return n;
      }
      function p(e, t, n) {
        if (t < 0 || e.byteLength < t) throw new RangeError('"offset" is outside of buffer bounds');
        if (e.byteLength < t + (n || 0)) throw new RangeError('"length" is outside of buffer bounds');
        var i;
        return (
          (i = void 0 === t && void 0 === n ? new Uint8Array(e) : void 0 === n ? new Uint8Array(e, t) : new Uint8Array(e, t, n)),
          Object.setPrototypeOf(i, l.prototype),
          i
        );
      }
      function h(e) {
        if (e >= a) throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + a.toString(16) + " bytes");
        return 0 | e;
      }
      function f(e, t) {
        if (l.isBuffer(e)) return e.length;
        if (ArrayBuffer.isView(e) || L(e, ArrayBuffer)) return e.byteLength;
        if ("string" != typeof e)
          throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type ' + typeof e);
        var n = e.length,
          i = arguments.length > 2 && !0 === arguments[2];
        if (!i && 0 === n) return 0;
        for (var r = !1; ; )
          switch (t) {
            case "ascii":
            case "latin1":
            case "binary":
              return n;
            case "utf8":
            case "utf-8":
              return P(e).length;
            case "ucs2":
            case "ucs-2":
            case "utf16le":
            case "utf-16le":
              return 2 * n;
            case "hex":
              return n >>> 1;
            case "base64":
              return z(e).length;
            default:
              if (r) return i ? -1 : P(e).length;
              (t = ("" + t).toLowerCase()), (r = !0);
          }
      }
      function g(e, t, n) {
        var i = !1;
        if (((void 0 === t || t < 0) && (t = 0), t > this.length)) return "";
        if (((void 0 === n || n > this.length) && (n = this.length), n <= 0)) return "";
        if ((n >>>= 0) <= (t >>>= 0)) return "";
        for (e || (e = "utf8"); ; )
          switch (e) {
            case "hex":
              return R(this, t, n);
            case "utf8":
            case "utf-8":
              return _(this, t, n);
            case "ascii":
              return A(this, t, n);
            case "latin1":
            case "binary":
              return B(this, t, n);
            case "base64":
              return E(this, t, n);
            case "ucs2":
            case "ucs-2":
            case "utf16le":
            case "utf-16le":
              return O(this, t, n);
            default:
              if (i) throw new TypeError("Unknown encoding: " + e);
              (e = (e + "").toLowerCase()), (i = !0);
          }
      }
      function v(e, t, n) {
        var i = e[t];
        (e[t] = e[n]), (e[n] = i);
      }
      function x(e, t, n, i, r) {
        if (0 === e.length) return -1;
        if (
          ("string" == typeof n ? ((i = n), (n = 0)) : n > 2147483647 ? (n = 2147483647) : n < -2147483648 && (n = -2147483648),
          Z((n = +n)) && (n = r ? 0 : e.length - 1),
          n < 0 && (n = e.length + n),
          n >= e.length)
        ) {
          if (r) return -1;
          n = e.length - 1;
        } else if (n < 0) {
          if (!r) return -1;
          n = 0;
        }
        if (("string" == typeof t && (t = l.from(t, i)), l.isBuffer(t))) return 0 === t.length ? -1 : y(e, t, n, i, r);
        if ("number" == typeof t)
          return (
            (t &= 255),
            "function" == typeof Uint8Array.prototype.indexOf
              ? r
                ? Uint8Array.prototype.indexOf.call(e, t, n)
                : Uint8Array.prototype.lastIndexOf.call(e, t, n)
              : y(e, [t], n, i, r)
          );
        throw new TypeError("val must be string, number or Buffer");
      }
      function y(e, t, n, i, r) {
        var o,
          a = 1,
          s = e.length,
          l = t.length;
        if (void 0 !== i && ("ucs2" === (i = String(i).toLowerCase()) || "ucs-2" === i || "utf16le" === i || "utf-16le" === i)) {
          if (e.length < 2 || t.length < 2) return -1;
          (a = 2), (s /= 2), (l /= 2), (n /= 2);
        }
        function c(e, t) {
          return 1 === a ? e[t] : e.readUInt16BE(t * a);
        }
        if (r) {
          var u = -1;
          for (o = n; o < s; o++)
            if (c(e, o) === c(t, -1 === u ? 0 : o - u)) {
              if ((-1 === u && (u = o), o - u + 1 === l)) return u * a;
            } else -1 !== u && (o -= o - u), (u = -1);
        } else
          for (n + l > s && (n = s - l), o = n; o >= 0; o--) {
            for (var d = !0, m = 0; m < l; m++)
              if (c(e, o + m) !== c(t, m)) {
                d = !1;
                break;
              }
            if (d) return o;
          }
        return -1;
      }
      function b(e, t, n, i) {
        n = Number(n) || 0;
        var r = e.length - n;
        i ? (i = Number(i)) > r && (i = r) : (i = r);
        var o = t.length;
        i > o / 2 && (i = o / 2);
        for (var a = 0; a < i; ++a) {
          var s = parseInt(t.substr(2 * a, 2), 16);
          if (Z(s)) return a;
          e[n + a] = s;
        }
        return a;
      }
      function k(e, t, n, i) {
        return G(P(t, e.length - n), e, n, i);
      }
      function w(e, t, n, i) {
        return G(
          (function (e) {
            for (var t = [], n = 0; n < e.length; ++n) t.push(255 & e.charCodeAt(n));
            return t;
          })(t),
          e,
          n,
          i
        );
      }
      function C(e, t, n, i) {
        return G(z(t), e, n, i);
      }
      function S(e, t, n, i) {
        return G(
          (function (e, t) {
            for (var n, i, r, o = [], a = 0; a < e.length && !((t -= 2) < 0); ++a)
              (i = (n = e.charCodeAt(a)) >> 8), (r = n % 256), o.push(r), o.push(i);
            return o;
          })(t, e.length - n),
          e,
          n,
          i
        );
      }
      function E(e, t, n) {
        return 0 === t && n === e.length ? i.fromByteArray(e) : i.fromByteArray(e.slice(t, n));
      }
      function _(e, t, n) {
        n = Math.min(e.length, n);
        for (var i = [], r = t; r < n; ) {
          var o,
            a,
            s,
            l,
            c = e[r],
            u = null,
            d = c > 239 ? 4 : c > 223 ? 3 : c > 191 ? 2 : 1;
          if (r + d <= n)
            switch (d) {
              case 1:
                c < 128 && (u = c);
                break;
              case 2:
                128 == (192 & (o = e[r + 1])) && (l = ((31 & c) << 6) | (63 & o)) > 127 && (u = l);
                break;
              case 3:
                (o = e[r + 1]),
                  (a = e[r + 2]),
                  128 == (192 & o) &&
                    128 == (192 & a) &&
                    (l = ((15 & c) << 12) | ((63 & o) << 6) | (63 & a)) > 2047 &&
                    (l < 55296 || l > 57343) &&
                    (u = l);
                break;
              case 4:
                (o = e[r + 1]),
                  (a = e[r + 2]),
                  (s = e[r + 3]),
                  128 == (192 & o) &&
                    128 == (192 & a) &&
                    128 == (192 & s) &&
                    (l = ((15 & c) << 18) | ((63 & o) << 12) | ((63 & a) << 6) | (63 & s)) > 65535 &&
                    l < 1114112 &&
                    (u = l);
            }
          null === u ? ((u = 65533), (d = 1)) : u > 65535 && ((u -= 65536), i.push(((u >>> 10) & 1023) | 55296), (u = 56320 | (1023 & u))),
            i.push(u),
            (r += d);
        }
        return (function (e) {
          var t = e.length;
          if (t <= I) return String.fromCharCode.apply(String, e);
          var n = "",
            i = 0;
          for (; i < t; ) n += String.fromCharCode.apply(String, e.slice(i, (i += I)));
          return n;
        })(i);
      }
      (l.TYPED_ARRAY_SUPPORT = (function () {
        try {
          var e = new Uint8Array(1),
            t = {
              foo: function () {
                return 42;
              }
            };
          return Object.setPrototypeOf(t, Uint8Array.prototype), Object.setPrototypeOf(e, t), 42 === e.foo();
        } catch (e) {
          return !1;
        }
      })()),
        l.TYPED_ARRAY_SUPPORT ||
          "undefined" == typeof console ||
          "function" != typeof console.error ||
          console.error(
            "This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."
          ),
        Object.defineProperty(l.prototype, "parent", {
          enumerable: !0,
          get: function () {
            if (l.isBuffer(this)) return this.buffer;
          }
        }),
        Object.defineProperty(l.prototype, "offset", {
          enumerable: !0,
          get: function () {
            if (l.isBuffer(this)) return this.byteOffset;
          }
        }),
        (l.poolSize = 8192),
        (l.from = function (e, t, n) {
          return c(e, t, n);
        }),
        Object.setPrototypeOf(l.prototype, Uint8Array.prototype),
        Object.setPrototypeOf(l, Uint8Array),
        (l.alloc = function (e, t, n) {
          return (function (e, t, n) {
            return u(e), e <= 0 ? s(e) : void 0 !== t ? ("string" == typeof n ? s(e).fill(t, n) : s(e).fill(t)) : s(e);
          })(e, t, n);
        }),
        (l.allocUnsafe = function (e) {
          return d(e);
        }),
        (l.allocUnsafeSlow = function (e) {
          return d(e);
        }),
        (l.isBuffer = function (e) {
          return null != e && !0 === e._isBuffer && e !== l.prototype;
        }),
        (l.compare = function (e, t) {
          if (
            (L(e, Uint8Array) && (e = l.from(e, e.offset, e.byteLength)),
            L(t, Uint8Array) && (t = l.from(t, t.offset, t.byteLength)),
            !l.isBuffer(e) || !l.isBuffer(t))
          )
            throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');
          if (e === t) return 0;
          for (var n = e.length, i = t.length, r = 0, o = Math.min(n, i); r < o; ++r)
            if (e[r] !== t[r]) {
              (n = e[r]), (i = t[r]);
              break;
            }
          return n < i ? -1 : i < n ? 1 : 0;
        }),
        (l.isEncoding = function (e) {
          switch (String(e).toLowerCase()) {
            case "hex":
            case "utf8":
            case "utf-8":
            case "ascii":
            case "latin1":
            case "binary":
            case "base64":
            case "ucs2":
            case "ucs-2":
            case "utf16le":
            case "utf-16le":
              return !0;
            default:
              return !1;
          }
        }),
        (l.concat = function (e, t) {
          if (!Array.isArray(e)) throw new TypeError('"list" argument must be an Array of Buffers');
          if (0 === e.length) return l.alloc(0);
          var n;
          if (void 0 === t) for (t = 0, n = 0; n < e.length; ++n) t += e[n].length;
          var i = l.allocUnsafe(t),
            r = 0;
          for (n = 0; n < e.length; ++n) {
            var o = e[n];
            if (L(o, Uint8Array)) r + o.length > i.length ? l.from(o).copy(i, r) : Uint8Array.prototype.set.call(i, o, r);
            else {
              if (!l.isBuffer(o)) throw new TypeError('"list" argument must be an Array of Buffers');
              o.copy(i, r);
            }
            r += o.length;
          }
          return i;
        }),
        (l.byteLength = f),
        (l.prototype._isBuffer = !0),
        (l.prototype.swap16 = function () {
          var e = this.length;
          if (e % 2 != 0) throw new RangeError("Buffer size must be a multiple of 16-bits");
          for (var t = 0; t < e; t += 2) v(this, t, t + 1);
          return this;
        }),
        (l.prototype.swap32 = function () {
          var e = this.length;
          if (e % 4 != 0) throw new RangeError("Buffer size must be a multiple of 32-bits");
          for (var t = 0; t < e; t += 4) v(this, t, t + 3), v(this, t + 1, t + 2);
          return this;
        }),
        (l.prototype.swap64 = function () {
          var e = this.length;
          if (e % 8 != 0) throw new RangeError("Buffer size must be a multiple of 64-bits");
          for (var t = 0; t < e; t += 8) v(this, t, t + 7), v(this, t + 1, t + 6), v(this, t + 2, t + 5), v(this, t + 3, t + 4);
          return this;
        }),
        (l.prototype.toString = function () {
          var e = this.length;
          return 0 === e ? "" : 0 === arguments.length ? _(this, 0, e) : g.apply(this, arguments);
        }),
        (l.prototype.toLocaleString = l.prototype.toString),
        (l.prototype.equals = function (e) {
          if (!l.isBuffer(e)) throw new TypeError("Argument must be a Buffer");
          return this === e || 0 === l.compare(this, e);
        }),
        (l.prototype.inspect = function () {
          var e = "",
            n = t.INSPECT_MAX_BYTES;
          return (
            (e = this.toString("hex", 0, n)
              .replace(/(.{2})/g, "$1 ")
              .trim()),
            this.length > n && (e += " ... "),
            "<Buffer " + e + ">"
          );
        }),
        o && (l.prototype[o] = l.prototype.inspect),
        (l.prototype.compare = function (e, t, n, i, r) {
          if ((L(e, Uint8Array) && (e = l.from(e, e.offset, e.byteLength)), !l.isBuffer(e)))
            throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type ' + typeof e);
          if (
            (void 0 === t && (t = 0),
            void 0 === n && (n = e ? e.length : 0),
            void 0 === i && (i = 0),
            void 0 === r && (r = this.length),
            t < 0 || n > e.length || i < 0 || r > this.length)
          )
            throw new RangeError("out of range index");
          if (i >= r && t >= n) return 0;
          if (i >= r) return -1;
          if (t >= n) return 1;
          if (this === e) return 0;
          for (
            var o = (r >>>= 0) - (i >>>= 0),
              a = (n >>>= 0) - (t >>>= 0),
              s = Math.min(o, a),
              c = this.slice(i, r),
              u = e.slice(t, n),
              d = 0;
            d < s;
            ++d
          )
            if (c[d] !== u[d]) {
              (o = c[d]), (a = u[d]);
              break;
            }
          return o < a ? -1 : a < o ? 1 : 0;
        }),
        (l.prototype.includes = function (e, t, n) {
          return -1 !== this.indexOf(e, t, n);
        }),
        (l.prototype.indexOf = function (e, t, n) {
          return x(this, e, t, n, !0);
        }),
        (l.prototype.lastIndexOf = function (e, t, n) {
          return x(this, e, t, n, !1);
        }),
        (l.prototype.write = function (e, t, n, i) {
          if (void 0 === t) (i = "utf8"), (n = this.length), (t = 0);
          else if (void 0 === n && "string" == typeof t) (i = t), (n = this.length), (t = 0);
          else {
            if (!isFinite(t)) throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
            (t >>>= 0), isFinite(n) ? ((n >>>= 0), void 0 === i && (i = "utf8")) : ((i = n), (n = void 0));
          }
          var r = this.length - t;
          if (((void 0 === n || n > r) && (n = r), (e.length > 0 && (n < 0 || t < 0)) || t > this.length))
            throw new RangeError("Attempt to write outside buffer bounds");
          i || (i = "utf8");
          for (var o = !1; ; )
            switch (i) {
              case "hex":
                return b(this, e, t, n);
              case "utf8":
              case "utf-8":
                return k(this, e, t, n);
              case "ascii":
              case "latin1":
              case "binary":
                return w(this, e, t, n);
              case "base64":
                return C(this, e, t, n);
              case "ucs2":
              case "ucs-2":
              case "utf16le":
              case "utf-16le":
                return S(this, e, t, n);
              default:
                if (o) throw new TypeError("Unknown encoding: " + i);
                (i = ("" + i).toLowerCase()), (o = !0);
            }
        }),
        (l.prototype.toJSON = function () {
          return { type: "Buffer", data: Array.prototype.slice.call(this._arr || this, 0) };
        });
      var I = 4096;
      function A(e, t, n) {
        var i = "";
        n = Math.min(e.length, n);
        for (var r = t; r < n; ++r) i += String.fromCharCode(127 & e[r]);
        return i;
      }
      function B(e, t, n) {
        var i = "";
        n = Math.min(e.length, n);
        for (var r = t; r < n; ++r) i += String.fromCharCode(e[r]);
        return i;
      }
      function R(e, t, n) {
        var i = e.length;
        (!t || t < 0) && (t = 0), (!n || n < 0 || n > i) && (n = i);
        for (var r = "", o = t; o < n; ++o) r += D[e[o]];
        return r;
      }
      function O(e, t, n) {
        for (var i = e.slice(t, n), r = "", o = 0; o < i.length - 1; o += 2) r += String.fromCharCode(i[o] + 256 * i[o + 1]);
        return r;
      }
      function U(e, t, n) {
        if (e % 1 != 0 || e < 0) throw new RangeError("offset is not uint");
        if (e + t > n) throw new RangeError("Trying to access beyond buffer length");
      }
      function T(e, t, n, i, r, o) {
        if (!l.isBuffer(e)) throw new TypeError('"buffer" argument must be a Buffer instance');
        if (t > r || t < o) throw new RangeError('"value" argument is out of bounds');
        if (n + i > e.length) throw new RangeError("Index out of range");
      }
      function N(e, t, n, i, r, o) {
        if (n + i > e.length) throw new RangeError("Index out of range");
        if (n < 0) throw new RangeError("Index out of range");
      }
      function M(e, t, n, i, o) {
        return (t = +t), (n >>>= 0), o || N(e, 0, n, 4), r.write(e, t, n, i, 23, 4), n + 4;
      }
      function F(e, t, n, i, o) {
        return (t = +t), (n >>>= 0), o || N(e, 0, n, 8), r.write(e, t, n, i, 52, 8), n + 8;
      }
      (l.prototype.slice = function (e, t) {
        var n = this.length;
        (e = ~~e) < 0 ? (e += n) < 0 && (e = 0) : e > n && (e = n),
          (t = void 0 === t ? n : ~~t) < 0 ? (t += n) < 0 && (t = 0) : t > n && (t = n),
          t < e && (t = e);
        var i = this.subarray(e, t);
        return Object.setPrototypeOf(i, l.prototype), i;
      }),
        (l.prototype.readUintLE = l.prototype.readUIntLE =
          function (e, t, n) {
            (e >>>= 0), (t >>>= 0), n || U(e, t, this.length);
            for (var i = this[e], r = 1, o = 0; ++o < t && (r *= 256); ) i += this[e + o] * r;
            return i;
          }),
        (l.prototype.readUintBE = l.prototype.readUIntBE =
          function (e, t, n) {
            (e >>>= 0), (t >>>= 0), n || U(e, t, this.length);
            for (var i = this[e + --t], r = 1; t > 0 && (r *= 256); ) i += this[e + --t] * r;
            return i;
          }),
        (l.prototype.readUint8 = l.prototype.readUInt8 =
          function (e, t) {
            return (e >>>= 0), t || U(e, 1, this.length), this[e];
          }),
        (l.prototype.readUint16LE = l.prototype.readUInt16LE =
          function (e, t) {
            return (e >>>= 0), t || U(e, 2, this.length), this[e] | (this[e + 1] << 8);
          }),
        (l.prototype.readUint16BE = l.prototype.readUInt16BE =
          function (e, t) {
            return (e >>>= 0), t || U(e, 2, this.length), (this[e] << 8) | this[e + 1];
          }),
        (l.prototype.readUint32LE = l.prototype.readUInt32LE =
          function (e, t) {
            return (e >>>= 0), t || U(e, 4, this.length), (this[e] | (this[e + 1] << 8) | (this[e + 2] << 16)) + 16777216 * this[e + 3];
          }),
        (l.prototype.readUint32BE = l.prototype.readUInt32BE =
          function (e, t) {
            return (e >>>= 0), t || U(e, 4, this.length), 16777216 * this[e] + ((this[e + 1] << 16) | (this[e + 2] << 8) | this[e + 3]);
          }),
        (l.prototype.readIntLE = function (e, t, n) {
          (e >>>= 0), (t >>>= 0), n || U(e, t, this.length);
          for (var i = this[e], r = 1, o = 0; ++o < t && (r *= 256); ) i += this[e + o] * r;
          return i >= (r *= 128) && (i -= Math.pow(2, 8 * t)), i;
        }),
        (l.prototype.readIntBE = function (e, t, n) {
          (e >>>= 0), (t >>>= 0), n || U(e, t, this.length);
          for (var i = t, r = 1, o = this[e + --i]; i > 0 && (r *= 256); ) o += this[e + --i] * r;
          return o >= (r *= 128) && (o -= Math.pow(2, 8 * t)), o;
        }),
        (l.prototype.readInt8 = function (e, t) {
          return (e >>>= 0), t || U(e, 1, this.length), 128 & this[e] ? -1 * (255 - this[e] + 1) : this[e];
        }),
        (l.prototype.readInt16LE = function (e, t) {
          (e >>>= 0), t || U(e, 2, this.length);
          var n = this[e] | (this[e + 1] << 8);
          return 32768 & n ? 4294901760 | n : n;
        }),
        (l.prototype.readInt16BE = function (e, t) {
          (e >>>= 0), t || U(e, 2, this.length);
          var n = this[e + 1] | (this[e] << 8);
          return 32768 & n ? 4294901760 | n : n;
        }),
        (l.prototype.readInt32LE = function (e, t) {
          return (e >>>= 0), t || U(e, 4, this.length), this[e] | (this[e + 1] << 8) | (this[e + 2] << 16) | (this[e + 3] << 24);
        }),
        (l.prototype.readInt32BE = function (e, t) {
          return (e >>>= 0), t || U(e, 4, this.length), (this[e] << 24) | (this[e + 1] << 16) | (this[e + 2] << 8) | this[e + 3];
        }),
        (l.prototype.readFloatLE = function (e, t) {
          return (e >>>= 0), t || U(e, 4, this.length), r.read(this, e, !0, 23, 4);
        }),
        (l.prototype.readFloatBE = function (e, t) {
          return (e >>>= 0), t || U(e, 4, this.length), r.read(this, e, !1, 23, 4);
        }),
        (l.prototype.readDoubleLE = function (e, t) {
          return (e >>>= 0), t || U(e, 8, this.length), r.read(this, e, !0, 52, 8);
        }),
        (l.prototype.readDoubleBE = function (e, t) {
          return (e >>>= 0), t || U(e, 8, this.length), r.read(this, e, !1, 52, 8);
        }),
        (l.prototype.writeUintLE = l.prototype.writeUIntLE =
          function (e, t, n, i) {
            ((e = +e), (t >>>= 0), (n >>>= 0), i) || T(this, e, t, n, Math.pow(2, 8 * n) - 1, 0);
            var r = 1,
              o = 0;
            for (this[t] = 255 & e; ++o < n && (r *= 256); ) this[t + o] = (e / r) & 255;
            return t + n;
          }),
        (l.prototype.writeUintBE = l.prototype.writeUIntBE =
          function (e, t, n, i) {
            ((e = +e), (t >>>= 0), (n >>>= 0), i) || T(this, e, t, n, Math.pow(2, 8 * n) - 1, 0);
            var r = n - 1,
              o = 1;
            for (this[t + r] = 255 & e; --r >= 0 && (o *= 256); ) this[t + r] = (e / o) & 255;
            return t + n;
          }),
        (l.prototype.writeUint8 = l.prototype.writeUInt8 =
          function (e, t, n) {
            return (e = +e), (t >>>= 0), n || T(this, e, t, 1, 255, 0), (this[t] = 255 & e), t + 1;
          }),
        (l.prototype.writeUint16LE = l.prototype.writeUInt16LE =
          function (e, t, n) {
            return (e = +e), (t >>>= 0), n || T(this, e, t, 2, 65535, 0), (this[t] = 255 & e), (this[t + 1] = e >>> 8), t + 2;
          }),
        (l.prototype.writeUint16BE = l.prototype.writeUInt16BE =
          function (e, t, n) {
            return (e = +e), (t >>>= 0), n || T(this, e, t, 2, 65535, 0), (this[t] = e >>> 8), (this[t + 1] = 255 & e), t + 2;
          }),
        (l.prototype.writeUint32LE = l.prototype.writeUInt32LE =
          function (e, t, n) {
            return (
              (e = +e),
              (t >>>= 0),
              n || T(this, e, t, 4, 4294967295, 0),
              (this[t + 3] = e >>> 24),
              (this[t + 2] = e >>> 16),
              (this[t + 1] = e >>> 8),
              (this[t] = 255 & e),
              t + 4
            );
          }),
        (l.prototype.writeUint32BE = l.prototype.writeUInt32BE =
          function (e, t, n) {
            return (
              (e = +e),
              (t >>>= 0),
              n || T(this, e, t, 4, 4294967295, 0),
              (this[t] = e >>> 24),
              (this[t + 1] = e >>> 16),
              (this[t + 2] = e >>> 8),
              (this[t + 3] = 255 & e),
              t + 4
            );
          }),
        (l.prototype.writeIntLE = function (e, t, n, i) {
          if (((e = +e), (t >>>= 0), !i)) {
            var r = Math.pow(2, 8 * n - 1);
            T(this, e, t, n, r - 1, -r);
          }
          var o = 0,
            a = 1,
            s = 0;
          for (this[t] = 255 & e; ++o < n && (a *= 256); )
            e < 0 && 0 === s && 0 !== this[t + o - 1] && (s = 1), (this[t + o] = (((e / a) >> 0) - s) & 255);
          return t + n;
        }),
        (l.prototype.writeIntBE = function (e, t, n, i) {
          if (((e = +e), (t >>>= 0), !i)) {
            var r = Math.pow(2, 8 * n - 1);
            T(this, e, t, n, r - 1, -r);
          }
          var o = n - 1,
            a = 1,
            s = 0;
          for (this[t + o] = 255 & e; --o >= 0 && (a *= 256); )
            e < 0 && 0 === s && 0 !== this[t + o + 1] && (s = 1), (this[t + o] = (((e / a) >> 0) - s) & 255);
          return t + n;
        }),
        (l.prototype.writeInt8 = function (e, t, n) {
          return (e = +e), (t >>>= 0), n || T(this, e, t, 1, 127, -128), e < 0 && (e = 255 + e + 1), (this[t] = 255 & e), t + 1;
        }),
        (l.prototype.writeInt16LE = function (e, t, n) {
          return (e = +e), (t >>>= 0), n || T(this, e, t, 2, 32767, -32768), (this[t] = 255 & e), (this[t + 1] = e >>> 8), t + 2;
        }),
        (l.prototype.writeInt16BE = function (e, t, n) {
          return (e = +e), (t >>>= 0), n || T(this, e, t, 2, 32767, -32768), (this[t] = e >>> 8), (this[t + 1] = 255 & e), t + 2;
        }),
        (l.prototype.writeInt32LE = function (e, t, n) {
          return (
            (e = +e),
            (t >>>= 0),
            n || T(this, e, t, 4, 2147483647, -2147483648),
            (this[t] = 255 & e),
            (this[t + 1] = e >>> 8),
            (this[t + 2] = e >>> 16),
            (this[t + 3] = e >>> 24),
            t + 4
          );
        }),
        (l.prototype.writeInt32BE = function (e, t, n) {
          return (
            (e = +e),
            (t >>>= 0),
            n || T(this, e, t, 4, 2147483647, -2147483648),
            e < 0 && (e = 4294967295 + e + 1),
            (this[t] = e >>> 24),
            (this[t + 1] = e >>> 16),
            (this[t + 2] = e >>> 8),
            (this[t + 3] = 255 & e),
            t + 4
          );
        }),
        (l.prototype.writeFloatLE = function (e, t, n) {
          return M(this, e, t, !0, n);
        }),
        (l.prototype.writeFloatBE = function (e, t, n) {
          return M(this, e, t, !1, n);
        }),
        (l.prototype.writeDoubleLE = function (e, t, n) {
          return F(this, e, t, !0, n);
        }),
        (l.prototype.writeDoubleBE = function (e, t, n) {
          return F(this, e, t, !1, n);
        }),
        (l.prototype.copy = function (e, t, n, i) {
          if (!l.isBuffer(e)) throw new TypeError("argument should be a Buffer");
          if (
            (n || (n = 0),
            i || 0 === i || (i = this.length),
            t >= e.length && (t = e.length),
            t || (t = 0),
            i > 0 && i < n && (i = n),
            i === n)
          )
            return 0;
          if (0 === e.length || 0 === this.length) return 0;
          if (t < 0) throw new RangeError("targetStart out of bounds");
          if (n < 0 || n >= this.length) throw new RangeError("Index out of range");
          if (i < 0) throw new RangeError("sourceEnd out of bounds");
          i > this.length && (i = this.length), e.length - t < i - n && (i = e.length - t + n);
          var r = i - n;
          return (
            this === e && "function" == typeof Uint8Array.prototype.copyWithin
              ? this.copyWithin(t, n, i)
              : Uint8Array.prototype.set.call(e, this.subarray(n, i), t),
            r
          );
        }),
        (l.prototype.fill = function (e, t, n, i) {
          if ("string" == typeof e) {
            if (
              ("string" == typeof t ? ((i = t), (t = 0), (n = this.length)) : "string" == typeof n && ((i = n), (n = this.length)),
              void 0 !== i && "string" != typeof i)
            )
              throw new TypeError("encoding must be a string");
            if ("string" == typeof i && !l.isEncoding(i)) throw new TypeError("Unknown encoding: " + i);
            if (1 === e.length) {
              var r = e.charCodeAt(0);
              (("utf8" === i && r < 128) || "latin1" === i) && (e = r);
            }
          } else "number" == typeof e ? (e &= 255) : "boolean" == typeof e && (e = Number(e));
          if (t < 0 || this.length < t || this.length < n) throw new RangeError("Out of range index");
          if (n <= t) return this;
          var o;
          if (((t >>>= 0), (n = void 0 === n ? this.length : n >>> 0), e || (e = 0), "number" == typeof e))
            for (o = t; o < n; ++o) this[o] = e;
          else {
            var a = l.isBuffer(e) ? e : l.from(e, i),
              s = a.length;
            if (0 === s) throw new TypeError('The value "' + e + '" is invalid for argument "value"');
            for (o = 0; o < n - t; ++o) this[o + t] = a[o % s];
          }
          return this;
        });
      var j = /[^+/0-9A-Za-z-_]/g;
      function P(e, t) {
        var n;
        t = t || 1 / 0;
        for (var i = e.length, r = null, o = [], a = 0; a < i; ++a) {
          if ((n = e.charCodeAt(a)) > 55295 && n < 57344) {
            if (!r) {
              if (n > 56319) {
                (t -= 3) > -1 && o.push(239, 191, 189);
                continue;
              }
              if (a + 1 === i) {
                (t -= 3) > -1 && o.push(239, 191, 189);
                continue;
              }
              r = n;
              continue;
            }
            if (n < 56320) {
              (t -= 3) > -1 && o.push(239, 191, 189), (r = n);
              continue;
            }
            n = 65536 + (((r - 55296) << 10) | (n - 56320));
          } else r && (t -= 3) > -1 && o.push(239, 191, 189);
          if (((r = null), n < 128)) {
            if ((t -= 1) < 0) break;
            o.push(n);
          } else if (n < 2048) {
            if ((t -= 2) < 0) break;
            o.push((n >> 6) | 192, (63 & n) | 128);
          } else if (n < 65536) {
            if ((t -= 3) < 0) break;
            o.push((n >> 12) | 224, ((n >> 6) & 63) | 128, (63 & n) | 128);
          } else {
            if (!(n < 1114112)) throw new Error("Invalid code point");
            if ((t -= 4) < 0) break;
            o.push((n >> 18) | 240, ((n >> 12) & 63) | 128, ((n >> 6) & 63) | 128, (63 & n) | 128);
          }
        }
        return o;
      }
      function z(e) {
        return i.toByteArray(
          (function (e) {
            if ((e = (e = e.split("=")[0]).trim().replace(j, "")).length < 2) return "";
            for (; e.length % 4 != 0; ) e += "=";
            return e;
          })(e)
        );
      }
      function G(e, t, n, i) {
        for (var r = 0; r < i && !(r + n >= t.length || r >= e.length); ++r) t[r + n] = e[r];
        return r;
      }
      function L(e, t) {
        return e instanceof t || (null != e && null != e.constructor && null != e.constructor.name && e.constructor.name === t.name);
      }
      function Z(e) {
        return e != e;
      }
      var D = (function () {
        for (var e = "0123456789abcdef", t = new Array(256), n = 0; n < 16; ++n)
          for (var i = 16 * n, r = 0; r < 16; ++r) t[i + r] = e[n] + e[r];
        return t;
      })();
    },
    13853: (e, t, n) => {
      n.d(t, {
        $T: () => _,
        AO: () => l,
        DZ: () => O,
        Eh: () => c,
        G: () => u,
        G0: () => v,
        KX: () => h,
        Lf: () => k,
        Lx: () => S,
        Od: () => I,
        Sq: () => o,
        UI: () => d,
        ZN: () => a,
        cS: () => s,
        e5: () => b,
        hX: () => f,
        jV: () => x,
        nI: () => A,
        oA: () => B,
        oP: () => w,
        ri: () => E,
        t9: () => g,
        tS: () => p,
        tV: () => y,
        u4: () => C,
        xu: () => R,
        yW: () => m
      });
      var i = n(73975),
        r = n(57050);
      function o(e) {
        return new Set(e);
      }
      function a(e) {
        return {
          show: function (t) {
            var n = "";
            return (
              t.forEach(function (t) {
                n += e.show(t) + ", ";
              }),
              "" !== n && (n = n.substring(0, n.length - 2)),
              "new Set([" + n + "])"
            );
          }
        };
      }
      var s = new Set();
      function l(e) {
        return function (t) {
          var n = [];
          return (
            t.forEach(function (e) {
              return n.push(e);
            }),
            n.sort(e.compare)
          );
        };
      }
      function c(e) {
        var t = h(e);
        return (0, i.f7)(function (e, n) {
          return t(e, n) && t(n, e);
        });
      }
      function u(e) {
        return function (t) {
          for (var n, i = t.values(), r = !1; !r && !(n = i.next()).done; ) r = e(n.value);
          return r;
        };
      }
      function d(e) {
        var t = g(e);
        return function (e) {
          return function (n) {
            var i = new Set();
            return (
              n.forEach(function (n) {
                var r = e(n);
                t(r, i) || i.add(r);
              }),
              i
            );
          };
        };
      }
      function m(e) {
        return (0, r.ff)(u((0, r.ff)(e)));
      }
      function p(e) {
        var t = g(e);
        return function (e) {
          return function (n) {
            var i = new Set();
            return (
              n.forEach(function (n) {
                e(n).forEach(function (e) {
                  t(e, i) || i.add(e);
                });
              }),
              i
            );
          };
        };
      }
      function h(e) {
        var t = g(e);
        return function (n, i) {
          if (void 0 === i) {
            var r = h(e);
            return function (e) {
              return r(e, n);
            };
          }
          return m(function (e) {
            return t(e, i);
          })(n);
        };
      }
      function f(e) {
        return function (t) {
          for (var n, i = t.values(), r = new Set(); !(n = i.next()).done; ) {
            var o = n.value;
            e(o) && r.add(o);
          }
          return r;
        };
      }
      function g(e) {
        return function (t, n) {
          if (void 0 === n) {
            var i = g(e);
            return function (e) {
              return i(t, e);
            };
          }
          for (var r, o = n.values(), a = !1; !a && !(r = o.next()).done; ) a = e.equals(t, r.value);
          return a;
        };
      }
      function v(e) {
        var t = g(e);
        return function (n, i) {
          if (void 0 === i) {
            var r = v(e);
            return function (e) {
              return r(n, e);
            };
          }
          if (n === s) return i;
          if (i === s) return n;
          var o = new Set(n);
          return (
            i.forEach(function (e) {
              t(e, o) || o.add(e);
            }),
            o
          );
        };
      }
      function x(e) {
        var t = g(e);
        return function (n, i) {
          if (void 0 === i) {
            var r = x(e);
            return function (e) {
              return r(e, n);
            };
          }
          if (n === s || i === s) return s;
          var o = new Set();
          return (
            n.forEach(function (e) {
              t(e, i) && o.add(e);
            }),
            o
          );
        };
      }
      function y(e, t) {
        return function (n) {
          return function (i) {
            for (var r, o = i.values(), a = new Set(), s = new Set(), l = g(e), c = g(t); !(r = o.next()).done; ) {
              var u = n(r.value);
              switch (u._tag) {
                case "Left":
                  l(u.left, a) || a.add(u.left);
                  break;
                case "Right":
                  c(u.right, s) || s.add(u.right);
              }
            }
            return { left: a, right: s };
          };
        };
      }
      function b(e) {
        var t = g(e);
        return function (n, i) {
          if (void 0 === i) {
            var r = b(e);
            return function (e) {
              return r(e, n);
            };
          }
          return f(function (e) {
            return !t(e, i);
          })(n);
        };
      }
      function k(e) {
        return { concat: v(e), empty: s };
      }
      function w(e) {
        return { concat: x(e) };
      }
      function C(e) {
        var t = l(e);
        return function (e, n) {
          return function (i) {
            return t(i).reduce(n, e);
          };
        };
      }
      function S(e, t) {
        var n = l(e);
        return function (e) {
          return function (i) {
            return n(i).reduce(function (n, i) {
              return t.concat(n, e(i));
            }, t.empty);
          };
        };
      }
      function E(e) {
        return new Set([e]);
      }
      function _(e) {
        var t = g(e);
        return function (e) {
          return function (n) {
            if (t(e)(n)) return n;
            var i = new Set(n);
            return i.add(e), i;
          };
        };
      }
      function I(e) {
        return function (t) {
          return function (n) {
            return f(function (n) {
              return !e.equals(t, n);
            })(n);
          };
        };
      }
      function A(e) {
        return function (t) {
          for (var n = t.length, i = new Set(), r = g(e), o = 0; o < n; o++) {
            var a = t[o];
            r(a, i) || i.add(a);
          }
          return i;
        };
      }
      function B(e) {
        return O(e)(r.yR);
      }
      function R(e, t) {
        return function (n) {
          var i = g(e),
            r = g(t),
            o = new Set(),
            a = new Set();
          return (
            n.forEach(function (e) {
              switch (e._tag) {
                case "Left":
                  i(e.left, o) || o.add(e.left);
                  break;
                case "Right":
                  r(e.right, a) || a.add(e.right);
              }
            }),
            { left: o, right: a }
          );
        };
      }
      function O(e) {
        var t = g(e);
        return function (e) {
          return function (n) {
            var i = new Set();
            return (
              n.forEach(function (n) {
                var r = e(n);
                "Some" !== r._tag || t(r.value, i) || i.add(r.value);
              }),
              i
            );
          };
        };
      }
    },
    78898: (e, t) => {
      (t.read = function (e, t, n, i, r) {
        var o,
          a,
          s = 8 * r - i - 1,
          l = (1 << s) - 1,
          c = l >> 1,
          u = -7,
          d = n ? r - 1 : 0,
          m = n ? -1 : 1,
          p = e[t + d];
        for (d += m, o = p & ((1 << -u) - 1), p >>= -u, u += s; u > 0; o = 256 * o + e[t + d], d += m, u -= 8);
        for (a = o & ((1 << -u) - 1), o >>= -u, u += i; u > 0; a = 256 * a + e[t + d], d += m, u -= 8);
        if (0 === o) o = 1 - c;
        else {
          if (o === l) return a ? NaN : (1 / 0) * (p ? -1 : 1);
          (a += Math.pow(2, i)), (o -= c);
        }
        return (p ? -1 : 1) * a * Math.pow(2, o - i);
      }),
        (t.write = function (e, t, n, i, r, o) {
          var a,
            s,
            l,
            c = 8 * o - r - 1,
            u = (1 << c) - 1,
            d = u >> 1,
            m = 23 === r ? Math.pow(2, -24) - Math.pow(2, -77) : 0,
            p = i ? 0 : o - 1,
            h = i ? 1 : -1,
            f = t < 0 || (0 === t && 1 / t < 0) ? 1 : 0;
          for (
            t = Math.abs(t),
              isNaN(t) || t === 1 / 0
                ? ((s = isNaN(t) ? 1 : 0), (a = u))
                : ((a = Math.floor(Math.log(t) / Math.LN2)),
                  t * (l = Math.pow(2, -a)) < 1 && (a--, (l *= 2)),
                  (t += a + d >= 1 ? m / l : m * Math.pow(2, 1 - d)) * l >= 2 && (a++, (l /= 2)),
                  a + d >= u
                    ? ((s = 0), (a = u))
                    : a + d >= 1
                    ? ((s = (t * l - 1) * Math.pow(2, r)), (a += d))
                    : ((s = t * Math.pow(2, d - 1) * Math.pow(2, r)), (a = 0)));
            r >= 8;
            e[n + p] = 255 & s, p += h, s /= 256, r -= 8
          );
          for (a = (a << r) | s, c += r; c > 0; e[n + p] = 255 & a, p += h, a /= 256, c -= 8);
          e[n + p - h] |= 128 * f;
        });
    }
  }
]);
